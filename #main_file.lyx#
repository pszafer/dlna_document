#LyX 2.0 created this file. For more info see http://www.lyx.org/
\lyxformat 413
\begin_document
\begin_header
\textclass dcsbook
\begin_preamble
\let\originaltable\table
\let\endoriginaltable\endtable
\renewenvironment{table}[1][ht]{%
  \originaltable[#1]
  \centering}%
  {\endoriginaltable}
\end_preamble
\options thesis
\use_default_options true
\begin_removed_modules
dcs
\end_removed_modules
\maintain_unincluded_children false
\language polish
\language_package default
\inputencoding auto
\fontencoding global
\font_roman default
\font_sans default
\font_typewriter default
\font_default_family default
\use_non_tex_fonts false
\font_sc false
\font_osf false
\font_sf_scale 100
\font_tt_scale 100

\graphics default
\default_output_format pdf2
\output_sync 0
\bibtex_command bibtex
\index_command default
\float_placement H
\paperfontsize default
\spacing single
\use_hyperref false
\papersize default
\use_geometry false
\use_amsmath 1
\use_esint 1
\use_mhchem 1
\use_mathdots 1
\cite_engine basic
\use_bibtopic false
\use_indices false
\paperorientation portrait
\suppress_date false
\use_refstyle 1
\index Index
\shortcut idx
\color #008000
\end_index
\secnumdepth 3
\tocdepth 3
\paragraph_separation indent
\paragraph_indentation default
\quotes_language polish
\papercolumns 1
\papersides 1
\paperpagestyle default
\tracking_changes false
\output_changes false
\html_math_output 0
\html_css_as_file 0
\html_be_strict false
\end_header

\begin_body

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
supervisor{prof.
 dr hab inż.Jan Brzeziński}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
author{inż.
 Paweł Szafer}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
date{Poznań, 2012}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
renewcommand*{
\backslash
tablename}{Tabela}  
\end_layout

\begin_layout Plain Layout


\backslash
renewcommand*{
\backslash
figurename}{Rys.
 }
\end_layout

\begin_layout Plain Layout

%wielkość wcięcia nowego akapitu 
\end_layout

\begin_layout Plain Layout


\backslash
setlength{
\backslash
parindent}{1cm}
\end_layout

\end_inset


\end_layout

\begin_layout Title
UPNP DLNA
\end_layout

\begin_layout Standard
\begin_inset CommandInset toc
LatexCommand tableofcontents

\end_inset


\end_layout

\begin_layout Chapter*
Wstęp
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{chapter}{Wstęp}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Technologie udostępniania multimediów w sieciach, zarówno lokalnych, jak
 i sieci Internetowej stają się coraz bardziej powszechne.
 Dostęp do multimediów znajdujących się w Internecie przy pomocy komputera
 jest bardzo prosty, natomiast problem pojawia się w przypadku chęci odtworzenia
 na ekranie telewizora filmu bez podłączania dysku poprzez złączę kablowe
 np.
 USB.
 
\end_layout

\begin_layout Standard
Standardową procedurą jest nagranie materiału filmowego na dysk DVD, bądź
 w nowszym sprzęcie elektronicznym podłączenie pamięci przenośnej USB.
 Sieci komputerowe LAN ułatwiają komunikację między stacjami roboczymi.
 Powszechne stosowane jest udostępnianie plików, pomiędzy komputerami podłączony
mi do jednej sieci lokalnej.
 Podobny zabieg może być z powodzeniem stosowany w pozostałym sprzęcie elektroni
cznym znajdującym się w gospodarstwach domowych np.
 telewizorach, odtwarzaczach muzycznych, jednakże wykorzystywane protokoły
 udostępniania (np.
 protokoły SMB, NFS
\begin_inset Note Note
status open

\begin_layout Plain Layout
smb
\end_layout

\end_inset

) plików nie zostały zaprojektowane w celu odtwarzania multimediów.
 Udostępniają one całe katalogi, nie kategoryzując plików na różne rodzaje.
 Dla odtwarzacza multimedialnego jest to cecha niezbędna.
 Urządzenie multimedialne nie jest przeznaczone do otwierania dokumentów,
 arkuszy kalkulacyjnych i innych plików, które nie są treścią multimedialną.
\end_layout

\begin_layout Standard
W celu odtwarzania materiałów multimedialnych powstała dokumentacja UPnP
 A/V (ang.
 
\emph on
Universal Plug and Play Audio / Video
\emph default
).
 Jest ona rozszerzeniem specyfikacji UPnP (ang.
 
\emph on
Universal Plug and Play
\emph default
), która określa sposób zarządzania urządzeniami w sieci.
 Jej rozszerzenie, określa dokładnie sposób zarządzania materiałami audio-wizual
nymi.
 Z kilkunastu powodów specyfikacja ta nie została powszechnie wprowadzona
 w urządzeniach RTV.
 Udało się to
\begin_inset Note Note
status open

\begin_layout Plain Layout
czemu nie wprowadzono UPNP - zdanie
\end_layout

\end_inset

 natomiast specyfikacji DLNA (ang.
 
\emph on
Digital Living Network Alliance)
\emph default
, która się bezpośrednio z niej wywodzi.
 Liczba urządzeń elektronicznych w gospodarstwach domowych nieustannie się
 powiększa.
 Wiele użytkowników posiada urządzenia mobilne, tzw.
 smartfony, których funkcje są ograniczone jedynie możliwościami sprzętowymi
 oraz wydajnością baterii.
 Coraz więcej osób posiada telewizory, konsole do gier, które pełnią rolę
 domowych centrów rozrywki.
 Zadaniem telewizora nie jest jedynie odbieranie sygnału telewizyjnego i
 wyświetlanie nieskazitelnego obrazu.
 Współczesny telewizor umożliwia odtwarzanie teledysków z serwisów Internetowych
, przeszukiwanie sieci internetowej oraz wyświetlanie filmów z pamięci USB.
 W dobie, gdy większość tych urządzeń można połączyć w jednej sieci, a prędkość
 transmisji pozwala na przesyłanie materiałów w jakości HD (ang.
 
\emph on
High Definition
\emph default
), niewygodnym byłoby ciągłe przenoszenie danych.
 Lepszym (wygodniejszym) rozwiązaniem jest centralna pamięć masowa z udostępnian
iem materiałów w sieci lokalnej.
 Zadanie to ma spełniać technologia DLNA.
 Autor w niniejszej pracy postara się przybliżyć, że to zadanie jest możliwe
 do wykonania.
\end_layout

\begin_layout Standard
W ramach pracy magisterskiej została zaprojektowana aplikacja serwera multimedia
lnego UPnP A/V, zgodnego z odtwarzaczami multimedialnymi UPnP A/V oraz DLNA.
 Autor zdecydował się napisać niniejszą aplikację, gdyż jego zdaniem, możliwości
 aplikacji umożliwiających udostępnianie multimediów w sieci, jest zdecydowanie
 zbyt mały.
 W większości przypadków możliwe jest wykrycie cech, które nie działają.
 Problemy pojawiają się, gdy użytkownik chce przewinąć utwór muzyczny, zmienić
 ścieżkę dźwiękową w filmie, czy wczytać napisy do filmu.
\end_layout

\begin_layout Standard
Wykorzystując stworzony serwer multimedialny UPnP A/V, użytkownik musi jedynie
 raz sprawdzić jego ustawienia, wybrać katalogi z materiałami multimedialnymi
 i zapomnieć o jego istnieniu, skupiając się na obsłudze odtwarzacza multimedial
nego.
 Serwer uwzględnia najpopularniejsze formaty plików muzycznych, graficznych
 oraz wideo.
 Przeszukuje przy tym zawartość, pod kątem obecności napisów.
 Wszystko to udostępnia w taki sposób, aby każde urządzenie niezależnie
 od marki oraz sposobu wyświetlania zawartości udostępnianej przez serwer,
 mogło z powodzeniem zaprezentować materiał użytkownikowi.
\end_layout

\begin_layout Standard
W kolejnych rozdziałach zostały omówione zagadnienia dotyczące technologii
 UPnP A/V oraz pośrednio DLNA (jako technologii wywodzącej się z UPnP A/V).
 Przedstawiona została specyfikacja napisanej aplikacji, jej testy oraz
 porównanie do innych serwerów multimedialnych.
 Porównane zostały również odtwarzacze multimedialne.
 Autor starał się pokazać, ciągle obecne niedoskonałości obu specyfikacji
 i trudności przez które musi przejśc niejeden użytkownik, aby udostępniać
 treść dla urządzeń elektronicznych, poprzez przedstawiane protokoły.
\end_layout

\begin_layout Standard
Pierwsza częśc niniejszej pracy składa się z dwóch rozdziałów, które definiują
 wykorzystywaną technologię.
 
\end_layout

\begin_layout Standard
Pierwszy rozdział niniejszej pracy opisuje standardy UPnP, UPnP A/V oraz
 DLNA.
 Opisuje genezę powstania każdej z nich oraz omawia szczegóły technologii.
 Są to definicje stosu protokołów UPnP, które przybliżają poszczególne fazy
 komunikacji UPnP oraz jakie wymagania musi spełnić sieć, aby urządzenia
 mogły się ze sobą komunikować.
 W dalszej części tego rozdziału autor opisał klasy urządzeń, które wyróżniamy
 we wszystkich trzech technologiach.
 W przypadku UPnP A/V oraz DLNA urządzenia mają bardzo podobne funkcje,
 lecz fundacja DLNA zmieniła ich nazwy.
 Każde z urządzeń zdefiniowanych w specyfikacjach ma inne zastosowanie,
 ale wymagają wzajemnej współpracy do działania (serwery oraz odtwarzacze
 multimedialne).
\end_layout

\begin_layout Standard
W rozdziale drugim opisany został sposób współpracy urządzeń oraz rodzaje
 multimediów, które mogą być udostępniane przez serwer multimedialny.
 Technologia UPnP A/V definiuje multimedia w postaci klas, wśród których
 wyróżniamy klasę główną obiektu oraz jej podklasy - typ oraz kontener.
 Pierwsza z nich ma te najbardziej interesujące użytkownika podtypy, czyli
 obrazy, wideo oraz muzyka.
 Druga z podklas, kontener, jest odwzorowaniem katalogu w systemie plików.
 Na końcu rozdziału wymieniono pliki, które mogą być udostępniane oraz przedstaw
iono definicje bardzo ważnych pojęć w kontekście multimediów, takie jak
 kontener multimedialny oraz sposoby kodowania materiałów.
\end_layout

\begin_layout Standard
Druga część tego rozdziału została poświęcona napisanej, na potrzeby niniejszej
 pracy magisterkiej, aplikacji 
\begin_inset Note Note
status open

\begin_layout Plain Layout
nazwa
\end_layout

\end_inset

.
\end_layout

\begin_layout Standard
Druga sekcja, 
\begin_inset Note Note
status open

\begin_layout Plain Layout
Implementacja serwera....
\end_layout

\end_inset

, rozpoczyna się w trzecim rozdziale, w której opisano zaprogramowane oprogramow
anie serwera multimedialnego UPnP A/V.
 Niniejszy rozdział jest w rzeczywistości specyfikacją stworzonej aplikacji,
 opisującą jej wymagania, działanie oraz budowę.
\end_layout

\begin_layout Standard
Kolejny rozdział zawiera opisy przeprowadzonych testów aplikacji, które
 naprowadziły autora na poprawne udostępnianie wielu zaimplementowanych
 funkcji, które zostały zdefiniowane jako kluczowe do zrealizowania.
 Ponadto wyniki testów pozwoliły sprawdzić poprawność napisanej aplikacji.
\end_layout

\begin_layout Standard
Ostatni z rozdziałów, rozdział piąty, jest przeglądem rynku oprogramowania
 UPnP A/V oraz DLNA.
 Zostały w nim przedstawione inne serwery UPnP A/V i DLNA, ich funkcje deklarowa
ne przez autorów oraz rzeczywiste sprawdzenie działania na kilku urządzeniach
 przeznaczonych do testowania.
 Opisane zostały również odtwarzacze multimedialne, gdzie wyszczególniono
 różnice w implementacjach opisywanych technologii oraz pobieżnie nakreślić
 możliwe problemy, na które może natrafić użytkownik, przesyłający materiał
 multimedialny w sieci lokalnej.
\end_layout

\begin_layout Standard
Niniejsza praca została oparta na ogólnodostępnych specyfikacjach UPnP oraz
 UPnP A/V, artykułach z internetowych magazynów technicznych.
 Opisywane technologie nie posiadają pomocnych materiałów w języku polskim,
 dlatego też większość źródeł jest anglojęzyczna.
 Pomocnym w opisie były również, udostępnione autorowi, specyfikacje DLNA.
\end_layout

\begin_layout Part
Opis technologii
\end_layout

\begin_layout Chapter
Standardy UPnP, UPnP A/V i DLNA
\end_layout

\begin_layout Standard
Technologia UPnP, to skrót od pełnej nazwy Universal Plug and Play, która
 w dosłowny sposób oznacza podłącz i graj (lub odtwarzaj).
 Jest to zbiór protokołów sieciowych, których zadaniem jest umożliwienie
 wzajemnego wykrywania się przez urządzenia sieciowe takich jak komputery
 PC, drukarki, punkty dostępu sieci bezprzewodowej WiFi, routery czy urządzenia
 mobilne.
 
\end_layout

\begin_layout Standard
UPnP umożliwia użytkownikowi wykrywać urządzenia sieciowe oraz wykorzystywać
 możliwości, które udostępniają.
 Jest ona dedykowana dla małych sieci domowych w celach takich jak udostępnianie
 danych, komunikacja, drukowanie czy szeroko pojęta rozrywka.
 Niniejsza praca skupia się głównie na ostatnim zagadnieniu (rozrywka).
 Posiada ono rozszerzenie, w oddzielnej specyfikacji, nazwanej UPnP A/V
 (ang.
 UPnP Audio/Video), która jest rozwinięciem podstawowego standardu UPnP.
 
\end_layout

\begin_layout Standard
UPNP A/V została stworzona do odtwarzania plików multimedialnych.
 Definiuje pojęcia takie jak serwery multimedialne (ang.
 Media Servers) oraz odtwarzacze multimedialne (ang.
 Media Players).
 Zostały w niej określone bardzo elastyczne metody przesyłania multimediów,
 co sprawiło, że UPnP A/V nie rozpowszechniło się na szeroką skalę wśród
 producentów sprzętu elektronicznego oraz użytkowników domowych.
 
\end_layout

\begin_layout Standard
Każdy programista (każda firma) mogła zaimplementować odtwarzacz lub serwer
 multimedialny na wiele sposób, co mogło skutkować brakiem współpracy pomiędzy
 dwoma urządzaniami (pomimo spełnienia wymogów standardu).
 
\begin_inset Note Note
status open

\begin_layout Plain Layout
po co ten akapit?
\end_layout

\end_inset


\end_layout

\begin_layout Standard
DLNA (ang.
 Digital Living Network Alliance) jest międzynarodową organizacją, powstałą
 w 2003 roku z inicjatywy firmy Sony.
 Stworzyła ona standard o tej samej nazwie (DLNA), który korzysta z protokołu
 UPNP A/V jako wzorca, przy czym jest bardziej restrykcyjna (np.
 posiada konkretne formaty multimediów odtwarzane przez zgodne urządzenia).
 DLNA jest specyfikacją zamkniętą, dostępną jedynie dla członków organizacji.
 W ten sposób zamieniono uniwersalność na łatwość współpracy urządzeń.
 oraz uproszczono jego implementację w większości typów urządzeń.
 Ponadto ogranizacja wprowadziła kilka innowacyjnych cech, takich jak ochrona
 DRM (ochrona przed kopiowaniem - ang.
 
\emph on
Digital Rights Management
\emph default
).
 
\end_layout

\begin_layout Section
Opis standardu UPnP
\end_layout

\begin_layout Standard
Fundacja UPnP została założona w 1999 roku, w głównej mierze dzięki dotacjom
 firmy Microsoft.
 Powołano ją w celu stworzenia standardu, który umożliwi intergację urządzeń
 oraz usług w obrębie sieci lokalnej.
 Urządzenia, w założeniu, miały rozsyłać informacje o oferowanych usługach,
 co miało umożliwić proste określanie ich możliwości (np.
 drukowanie) i ich wykorzystanie.
\end_layout

\begin_layout Standard
UPnP jest oparty o architekturę klient - serwer, gdzie urządzenia - serwery
 , oferują swoje usługi dla klientów - punktów kontrolnych (z ang.
 
\emph on
UPnP Control Points
\emph default
).
 W UPnP główny nacisk położono na brak konfiguracji urządzeń przez użytkownika,
 zgodnie z częścią nazwy zarówno fundacji, jak i standardu - plug and play
 (podłącz i działaj).
 Opisywana fundacja ustandaryzowała sposób komunikacji szeregu urządzeń,
 począwszy od włączników światła, drukarkach, kończąc na odtwarzaczach audio-wid
eo.
 
\end_layout

\begin_layout Standard
Architektura UPnP A/V została stworzona do przesyłania materiałów multimedialnyc
h.
 UPnP A/V określa sposób komunikacji między serwerami, a odtwarzaczami multimedi
alnymi.
 Zbiór protokołów UPnP A/V został zaprojektowany tak, aby być niezależnym
 od rodzaju urządzenia, odtwarzanej treści i sposobu przesyłania danych.
\end_layout

\begin_layout Section
Stos protokołów UPnP
\end_layout

\begin_layout Standard
W pierwszej kolejności w specyfikacji UPnP zapisano wymaganie, aby urządzenie
 działało w obrębie sieci IP, niezależnie od sposobu komunikacji.
 Połączenie może zostać zrealizowane poprzez sieć Ethernet, połączenia bezprzewo
dowe takie jak WiFi 802.11abgn, Bluetooth (pomijany jest tu fakt braku możliwości
 technicznych niektórych protokołów do szybkiego przesyłania danych, co
 w przypadku niektórych typów multimediów, takich jak materiały wideo czy
 muzyka, może być niezbędne lub znacznie wydłużyć czas buforowania treści).
\end_layout

\begin_layout Standard
Raport techniczny UPnP 
\begin_inset CommandInset citation
LatexCommand cite
key "key-1"

\end_inset

 definiuje jedynie sposoby działania w obrębie sieci obsługiwanej przez
 protokół IPv4.
 Aneks 
\begin_inset CommandInset citation
LatexCommand cite
key "key-9"

\end_inset

 do głównego raportu określa różnice występujące, gdy urządzenie działa
 w obrębie sieci IPv6.
 Jeżeli nie napisano inaczej, w niniejszej pracy autor jako pierwszą pozycje
 określa przypadek sieci IPv4, natomiast drugi przypadek to sieć zgodna
 z protokołem IPv6.
 
\end_layout

\begin_layout Standard
\align left
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Stos-protokołół-specyfikacji"

\end_inset

Stos protokołół specyfikacji UPnP
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename protocol_1.png
	display false
	width 70page%

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "test"

\end_inset


\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Komunikacja"

\end_inset

Komunikacja
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename communicating.png
	display false
	width 70page%
	groupId figures

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
W protokole UPnP definiujemy następujące czynności wykonywane przez urządzenia
 (rysunek 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Stos-protokołół-specyfikacji"

\end_inset

):
\end_layout

\begin_layout Itemize
adresowanie IP (ang.
 IP addressing),
\end_layout

\begin_layout Itemize
wykrywanie (ang.
 discovery),
\end_layout

\begin_layout Itemize
opis usługi (ang.
 description),
\end_layout

\begin_layout Itemize
kontrola (ang.
 control),
\end_layout

\begin_layout Itemize
powiadomienia o zdarzeniach(ang.
 eventing lub event notification),
\end_layout

\begin_layout Itemize
prezentacja (ang.
 presentation).
\end_layout

\begin_layout Standard
Urządzenia UPnP są klasyfikowane w dwóch głównych kategoriach: punktów kontrolny
ch (ang.
 Control Points) oraz urządzeń kontrolowanych (ang.
 Controlled Devices).
 
\end_layout

\begin_layout Standard
Polecenia protokołu oraz przykłady urządzeń są widoczne na rysunku 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Komunikacja"

\end_inset

.
\end_layout

\begin_layout Standard
(http://www.upnp.org/specs/arch/UPnP-arch-DeviceArchitecture-v1.0-20080424.pdf)
\end_layout

\begin_layout Standard
Architektura protokołu wykorzystuje stos protokołów przedstawiony w tabeli
 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Test-tabeli"

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:Test-tabeli"

\end_inset

Stos protokołu UPnP
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="6" columns="4">
<features tabularvalignment="top">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0pt">
<column alignment="center" valignment="top" width="0pt">
<row>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
UPNP Vendor
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
UPNP Forum
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
UPNP Device
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
SSDP
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
GENA
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
GENA
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
SOAP 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
HTTPMU / HTTP U
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
HTTP
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
HTTP
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
IP
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Pierwsza, najwyższa warstwa, 
\emph on
UPnP Vendor
\emph default
, składa się z wiadomości zawierających specyficzne informacje dostarczane
 przez producenta urządzenia dotyczące jego funkcjonalności oraz możliwości.
 Kolejnym załączanym elementem są informacje zdefiniowane przez organizację
 UPnP Forum.
 Wszystkie informacje w UPnP są przekazywane poprzez następujące protokoły:
 
\end_layout

\begin_layout Itemize
SSDP (ang.
 Simple Service Discovery Protocol),
\end_layout

\begin_layout Itemize
GENA (ang.
 General Event Notification Architecture),
\end_layout

\begin_layout Itemize
SOAP (ang.
 Simple Object Access Protocol).
\end_layout

\begin_layout Standard
Do wzajemnego wykrywania się urządzeń UPnP wykorzystuje protokół SSDP.
 Urządzenia kontrolowane, które można nazwać serwerami usług wysyłają pakiety
 SSDP, co oznacza rozgłaszanie dołączenia do sieci.
 W przypadku punktów kontrolnych SSDP jest wykorzystywany do wykrywania,
 którymi mogą zarządzać.
 
\end_layout

\begin_layout Standard
W protokole SSDP wykorzystuje się rozgłaszanie HTTP typu unicast (
\emph on
HTTPU
\emph default
) lub multicast (
\emph on
HTTPMU)
\emph default
, z wykorzystaniem UDP (ang.
 User Datagram Protocol) jako protokołu transportu.
 Standardowo adresem multicast jest adres 239.255.255.255 oraz port numer 1900.
 Tryb 
\emph on
unicast
\emph default
 jest wykorzystywany tylko w przypadku odpowiedzi na komunikaty wyszukiwania.
\begin_inset CommandInset citation
LatexCommand cite
key "key-1"

\end_inset


\end_layout

\begin_layout Standard
Drugi protokół transmisji, którym jest GENA (ang.
 
\emph on
General Event Notification Architecture), 
\emph default
wykorzystywany jest do przekazywania powiadomień o zdarzeniach.
 Jako zdarzenia można rozumieć zmianę wartości zmiennych lub informacje
 o dostępności urządzenia lub usługi.
 W tym przypadku typowo wykorzystywany jest protokół HTTP w sposób “tradycyjny”
 (z wykorzystaniem protokołu TCP), ewentualnie transmisja UDP typu multicast.
 
\end_layout

\begin_layout Standard
Punkty kontrolne UPnP do wywoływania pożądanej usługi i kontrolowania urządzeń
 wykorzystują protokół SOAP.
\end_layout

\begin_layout Subsection
Adresowanie
\end_layout

\begin_layout Standard
Zarówno serwer, jak i klient UPnP musi komunikować się z wykorzystaniem
 protokołu IP.
 Organizacja UPnP Forum zdefiniowała, że każde urządzenie, które spełnia
 wymagania specyfikacji musi posiadać oprogramowanie serwera lub klienta
 protkołu DHCP (ang.
 Dynamic Host Configuration Protocol).
 Podczas podłączania się do sieci, urządzenie podejmuje próbę uzyskania
 adresu IP od serwera DHCP (jeżeli urządzenie nie jest serwerem DHCP).
 Jeżeli urządzenie nie otrzyma adresu IP powinno wykorzystać tzw.
 autoadresowanie IP (urządzenie wybiera adres z określonej puli np.
 169.254/16 lub w przypadku IPv6 FE80::/64).
 Raport techinczny stworzony przez organizację UPnP Forum określa dokładnie,
 że urządzenie powinno, poprzez wykorzystanie protokołu ARP, sprawdzić,
 czy wybrany adres nie jest już zajęty oraz okresowo sprawdzać dostępność
 serwera DHCP w sieci.
\end_layout

\begin_layout Standard
Zarówno w praktyce w większości urządzeń, jak i w aplikacjach, którą opisuje
 niniejsza praca problem adresowania nie jest najważniejszy, gdyż jest rozwiązyw
any przez oprogramowanie dołączone do sprzętu, bądź systemu operacyjnego.
\end_layout

\begin_layout Subsection
\begin_inset CommandInset label
LatexCommand label
name "sub:Wykrywanie"

\end_inset

Wykrywanie
\end_layout

\begin_layout Standard
Proces wykrywania polega na rozgłaszaniu przez nowo podłączone urządzenia
 informacji o swoim istnieniu.
 Wykorzystywany jest do tego protokół SSDP oraz adres 239.255.255.250 oraz
 port 1900 (dla IPv6 - [FF02::C]:1900).
\end_layout

\begin_layout Standard
Na potrzeby protokołu UPnP wyróżniane są następujące komunikaty SSDP
\series bold
 
\series default
(rysunek nr 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Sposoby-wykrywania-urządzeń"

\end_inset

):
\end_layout

\begin_layout Itemize
ogłaszanie (
\emph on
ang.
 advertise
\emph default
),
\end_layout

\begin_layout Itemize
szukanie (
\emph on
ang.
 search
\emph default
),
\end_layout

\begin_layout Itemize
odpowiedzi (
\emph on
ang.
 responses
\emph default
).
\end_layout

\begin_layout Standard
Punkty kontrolne nasłuchują urządzeń na porcie 1900 lub rozgłaszają pakiet
 z danymi o typie, identyfikatorze pożądanego urządzenia lub usługi.
 Urządzenia oferujące swoje usługi wysyłają na wcześniej wspomniany adres
 (239.255.255.250:1900) pakiety SSDP, z komunikatami rozgłaszającymi (ang.
 
\emph on
advertise
\emph default
) przy pomocy rozgłaszania typu 
\emph on
multicast
\emph default
.
\end_layout

\begin_layout Standard
Odpowiedzi są wysyłane przy pomocy rozgłaszania typu 
\emph on
unicast
\emph default
.
 
\end_layout

\begin_layout Standard
Urządzenie nowo dołączone do sieci wysyła rozgłoszenie o swoim istnieniu
 oraz dodatkowe rozgłoszenie informujące o urządzeniach wbudowanych i zarządzany
ch usługach.
 Urządzenia lub usługi wbudowane mogą wysyłać ogłoszenie o istnieniu samodzielni
e.
 Kontrolowane odłączenie od sieci wiążę się z obowiązkiem ogłoszenia zdarzenia
 przez urządzenie.
 Przyjęta jest w tym przypadku zasada, że powinno ono wysłać tyle komunikatów
 odłączenia, ile wysłało komunikatów ogłaszających swoje działanie.
\end_layout

\begin_layout Standard
Rozgłaszanie wiąże się, niestety, z często niepotrzebnym obciążaniem sieci.
 Jednym ze sposobów zapobiegawczych, które wybrali autorzy specyfikacji,
 jest określony zalecany czas życia pakietu (
\emph on
TTL - ang.
 time-to-live
\emph default
), który dla każdej wiadomości wynosi 4 (powinna istnieć możliwość modyfikacji
 tej wartości).
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Sposoby-wykrywania-urządzeń"

\end_inset

Sposoby wykrywania urządzeń
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename discovery_messages.png
	width 70page%

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection
Wykrywanie: Ogłaszanie
\end_layout

\begin_layout Standard
Głównym zadaniem tego podrozdziału jest opisanie sposobu ogłaszania się
 urządzeń w sieci.
 Ogłaszanie jest bardzo newralgiczną cechą tego protokołu, gdyż bez możliwości
 wzajemnego wykrywania nie ma możliwości, aby urządzenia się ze sobą skomunikowa
ły.
 Każde urządzenie/usług wysyła pakiety ogłaszające (
\emph on
advertise
\emph default
) swoje działanie na adres 239.255.255.250:1900.
 Punkty kontrolne nasłuchują na porcie 1900, oczekując na komunikaty wysyłane
 przez urządzenia.
 Opisywane komunikaty muszą być wysyłane często, co określony interwał czasowy,
 gdyż zarówno urządzenie, jak i punkt kontrolny mogą zostać dołączone do
 sieci w różnym czasie.
 
\end_layout

\begin_layout Standard
Każda wiadomość 
\begin_inset Quotes eld
\end_inset

ogłaszająca
\begin_inset Quotes erd
\end_inset

 zawiera informacje o możliwościach urządzenia (np.
 odtwarzanie muzyki).
 Ilość wiadomości jest zależna od ilości wbudowanych urządzeń/usług w główne
 urządzenie.
 Urządzenia wbudowane w komunikatach dołączają informacje o urządzeniu nadrzędny
m (np.
 informacja o systemie operacyjnym, który dla programu jest urządzeniem
 nadrzędnym).
 Oprócz wcześniej przedstawionych cech, komunikaty powinny zawierać czas
 do wygaśnięcia ogłoszenia (jeżeli po czasie wygaśnięcia urządzenie nadal
 chce oferować swoje usługi, powinno wysłać nowy komunikat z nowym czasem
 wygaśnięcia).
 Dzięki takiemu podejściu, pomimo, że urządzenia powinny ogłaszać swoje
 odłączenie od sieci, to nawet, gdy komunikat wyłączenia nie może zostać
 wysłany, wiadomość rozgłaszająca wygaśnie i nie zostanie przedłużona.
 Ogranicza to możliwość istnienia w sieci usług już nie działających.
\end_layout

\begin_layout Standard
Możliwe jest wysyłanie i odbieranie ogłoszenia przez sprzęt zgodny ze specyfikac
ją UPnP, jedynie w przypadku, gdy komunikat jest stworzony według schematu
 z tabeli 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Stos-protokołu-UPnP"

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:Stos-protokołu-UPnP"

\end_inset

Stos protokołu UPnP w przypadku rozgłaszania
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="7" columns="1">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
producent oprogramowania UPnP
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
organizacja UPnP
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
architektura urządzenia UPnP
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
komunikat SSDP
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
HTTPMU (
\emph on
multicast
\emph default
)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
UDP
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
IP
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Pierwsza warstwa opisywanego stosu zawiera informacje specyficzne dla dostawcy
 urządzenia.
 Najczęściej producenci dołączają w tym miejscu adres URL, przekierowujący
 zainteresowanych do opisu urządzenia, bądź też identyfikator urządzenia
 (UUID - 
\emph on
ang.
 Universally unique identifier
\emph default
).
 Kolejną warstwą tego stosu są informacje dostarczane przez organizację
 UPnP Forum, np.
 typ urządzenia.
 Kolejne dwie warstwy zostaną dokładnie opisane w niniejszym dokumencie,
 a ich pełen opis znajduje się w specyfikacji protokołu UPnP.
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Przykładowy komunikat informujący o przyłączeniu do sieci
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="8" columns="1">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
NOTIFY * HTTP/1.1 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
HOST: 239.255.255.250:1900 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
CACHE-CONTROL: max-age = seconds until advertisement expires 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
LOCATION: URL for IPP Printer with 'ipp' scheme 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
NT: search target 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
NTS: ssdp:alive 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
SERVER: OS / version, IPP / 1.1, product / version 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
USN: advertisement UUID 
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Trzy pozostałe warstwy nie są tematem niniejszej pracy.
 Warto jedynie zwrócić uwagę na fakt, iż komunikaty HTTP nie są przesyłane
 typowo przez protokół TCP, a przez protokół UDP.
 Jak zostało wspomniane wcześniej urządzenie dołączone do sieci rozgłasza
 swoje istnienie.
 Komunikat rozgłaszający wykorzystuje metodę NOTIFY protokołu HTTP.
 W każdym komunikacie dołączane są informacje w następujących nagłówkach:
\end_layout

\begin_layout Itemize
NT - Notification Type - typ ogłoszenia,
\end_layout

\begin_layout Itemize
NTS - Notification Subtype - podtyp ogłoszenia,
\end_layout

\begin_layout Itemize
USN - Unique Service Name - Unikalna nazwa usługi / UUID
\end_layout

\begin_layout Itemize
LOCATION - URL z rozszerzonymi informacjami o urządzeniu,
\end_layout

\begin_layout Itemize
CACHE-CONTROL - czas do wygaśnięcia ogłoszenia
\end_layout

\begin_layout Standard
Opisywana metoda protokołu HTTP (NOTIFY) wykorzystywana jest przy ogłaszaniu
 podłączenia, bądź też odłączenia od sieci.
 W komunikacie podłączenia pole 
\emph on
NTS
\emph default
 może mieć wartość 
\emph on
ssdp:alive
\emph default
, natomiast rozłączenie cechuje wartość 
\emph on
ssdp:byebye.
\end_layout

\begin_layout Standard
Organizacja stanowiąca zasady protokołu UPnP w przypadku wykrywania urządzeń,
 poza wzajemnym informowaniem się o obecności (bądź też nieobecności), zagwarant
owała również wyszukiwanie się wzajemne urządzeń UPnP.
 Do wyszukiwania służy metoda M-SEARCH, której ogólny format przedstawia
 rysunek nr 
\series bold

\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Metoda-M-Search"

\end_inset

.
 
\series default
Pola 
\emph on
HOST
\emph default
 i 
\emph on
MAN 
\emph default
nie mogą zostać zmienione i zawsze muszą mieć taką wartość jak podana w
 tabeli.
 Pole 
\emph on
MX
\emph default
 określa maksymalny czas oczekiwanie w sekundach.
 Jego wartość powinna mieścić się w przedziale 1, a 120.
 Ostatnie pole, 
\emph on
ST
\emph default
 (
\emph on
Search Target
\emph default
) określa rodzaj wyszukiwanego urządzeń.
 Dostępne rodzaje to:
\end_layout

\begin_layout Itemize
ssdp:all - wyszukiwanie wszystkich urządzeń i usług,
\end_layout

\begin_layout Itemize
upnp:rootdevice - wyszukiwanie jedynie urządzeń głównych,
\end_layout

\begin_layout Itemize
uuid:device-UUID - wyszkuwanie konkretnego urządzenia według jego identyfikatora
 UUID,
\end_layout

\begin_layout Itemize
urn:schemas-upnp-org:device:deviceType:v - wyszukiwanie urządzenia według
 typu,
\end_layout

\begin_layout Itemize
urn:schemas-upnp-org:device:serviceType:v - wyszukiwanie urządzenia według
 typu usługi, którą świadczy.
\end_layout

\begin_layout Itemize
urn:domain-name:device:deviceType:v - takie jak przeszukiwanie urządzenia
 według typu, z tym, że nazwę domeny typ urządzenia i jego wersję definiuje
 producent urządzenia UPnP,
\end_layout

\begin_layout Itemize
urn:domain-name:device:serviceType:v - takie jak przeszukiwanie urządzenia
 według typu uslugi, z tym, że nazwę domeny typ urządzenia i jego wersję
 definiuje producent urządzenia UPnP.
\end_layout

\begin_layout Standard
Bezpośrednio powiązana z komunikatem M-SEARCH jest odpowiedź na nią, którą
 urządzenie odpowiadające wysyła na adres źródłowy wcześniejszego pakietu.
 Odpowiedź jest zgodna z protokołem HTTP.
 Jej schemat znajduje się na rysunku nr 
\series bold

\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Odpowiedź-na-metodę"

\end_inset

.
 
\series default
Odpowiedź nie zawiera treści, lecz musi posiadać jedną pustą linię poniżej
 nagłówka (
\emph on
HTTP BODY
\emph default
).
 Zarówno dla metody 
\emph on
M-SEARCH, 
\emph default
jak i odpowiedzi na nią nie ma potrzeby określania czasu życia pakietu 
\emph on
TTL.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Metoda-M-Search"

\end_inset

Metoda M-Search
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
M-SEARCH * HTTP/1.1
\end_layout

\begin_layout Plain Layout
HOST: 239.255.255.250:1900
\end_layout

\begin_layout Plain Layout
MAN: 
\begin_inset Quotes pld
\end_inset

ssdp:discover
\begin_inset Quotes prd
\end_inset


\end_layout

\begin_layout Plain Layout
MX: seconds to delay response
\end_layout

\begin_layout Plain Layout
ST: search target
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Odpowiedź-na-metodę"

\end_inset

Odpowiedź na metodę M-SEARCH
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
HTTP/1.1 200 OK
\end_layout

\begin_layout Plain Layout
CACHE-CONTROL: max-age = seconds until advertisment expires
\end_layout

\begin_layout Plain Layout
DATE: when response was generated
\end_layout

\begin_layout Plain Layout
EXT:
\end_layout

\begin_layout Plain Layout
LOCATION: URL for UPnP description for root device
\end_layout

\begin_layout Plain Layout
SERVER: OS/version UPnP/1.0 product/version
\end_layout

\begin_layout Plain Layout
ST: search target
\end_layout

\begin_layout Plain Layout
USN: advertisment UUID
\end_layout

\end_inset


\end_layout

\begin_layout Subsection
\begin_inset CommandInset label
LatexCommand label
name "sub:Opis-urządzeń-i"

\end_inset

Opis urządzeń i usług
\end_layout

\begin_layout Standard
Po udanym wyszukaniu urządzenia, punkt kontrolny posiada jedynie podstawowe
 informacje o urządzeniu, które zostały zawarte we wcześniej odebranych
 komunikatach.
 Do interakcji z urządzeniem, punkt kontrolny potrzebuje więcej danych,
 niż już posiadane.
 W tym celu może pobrać dokładne informacje z adresu URL przesyłanego wraz
 z komunikatem o przyłączeniu do sieci (ang.
 
\emph on
advertising
\emph default
).
 Pobierane informacje nazywane są opisem urządzenia (ang.
 
\emph on
device description
\emph default
).
 W opisie urządzeń powinno znajdować się odniesienie do opisu oferowanych
 usług (ang.
 
\emph on
service description
\emph default
).
\end_layout

\begin_layout Standard
Uproszczony schemat pobierania informacji o urządzeniu znajduje się na rysunku
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Schemat-pobierania-opisu"

\end_inset

.
 Pojedyńczy schemat pobierania opisu można podzielić na dwie operacje, uzyskania
 informacji o urządzeniach oraz o usługach, które one oferują.
 W najprostszym schemacie cały proces wykonywany jest w kilku krokach:
\end_layout

\begin_layout Enumerate
Pobranie informacji o głównym urządzeniu (ang.
 
\emph on
root device
\emph default
),
\end_layout

\begin_layout Enumerate
Pobranie informacji o usługach udostępnianych przez urządzenie (ang.
 
\emph on
services
\emph default
).
\end_layout

\begin_layout Standard
Opis urządzenia zawiera informacje o fizycznych i logicznych kontenerach.
 Kontenerem nazywamy obiekt przechowujący inne urządzenia, usługi lub inne
 kontenery.
 Natomiast opis usług określa w sposób bardzo dokładny oferowane prze urządzenie
 funkcje.
 Pojedyńcze urządzenie fizyczne może zawierać wiele urządzeń logicznych,
 każde z nich może być skonfigurowane jako główne (ang.
 
\emph on
root device
\emph default
).
 Ponadto każde urządzenie logiczne może oferować jedną lub więcej usług.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Schemat-pobierania-opisu"

\end_inset

Schemat pobierania opisu usługi
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename get_description.png
	display false
	width 70page%

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Opis urządzenia/usługi jest napisany przez dostawcę oprogramowania.
 Jest napisany w języku XML i powinien być zgodny z wytycznymi przedstawionymi
 w szablonie opisu urządzenia.
 
\begin_inset CommandInset citation
LatexCommand cite
key "key-10"

\end_inset

 Najważniejszym elementem, z punktu widzenia autora, jest sposób opisu usługi.
 Powinien być stworzony tak, aby punkty kontrolne jak największej liczby
 producentów (stan idealny - wszystkich producentów) sprzętu i oprogramowania
 potrafiły uzyskać przydatne dla nich informacje.
\end_layout

\begin_layout Standard
W celu otrzymania opisu urządzenia (bądź usługi) wykorzystywana jest metoda
 GET protokołu HTTP.
 Adres URL znajduje się w wiadomościach z ogłoszeniem o przyłączeniu do
 sieci.
\end_layout

\begin_layout Subsection
Kontrola
\end_layout

\begin_layout Standard
Po uzyskaniu opisu urządzenia oraz usługi, punkt kontrolny może wywołać
 akcje, które mogą wykonywać dostawcy usług.
 Wywoływanie usługi, przez punkt kontrolny, można porównać do zdalnych wywołań
 RPC (ang.
 
\emph on
Remote Procedure Call
\emph default
).
 Każde polecenie, niezależnie czy jest wywoływane przez punkt kontrolny
 czy jest odpowiedzią zwrotną, od usługi, jest enkapsulowane w komunikatach
 SOAP (ang.
 
\emph on
Simple Object Access Procotol
\emph default
).
 Wywołania są zgodne z komunikatami protokołu HTTP.
 Wywoływanie procedur przez punkt kontrolny może (lecz nie musi) być przedstawio
ne poprzez modyfikację zmiennych określających stan usługi.
 O każdym takim zdarzeniu powinny zostać poinformowane wszystkie zainteresowane
 punkty kontrolne.
\begin_inset CommandInset citation
LatexCommand cite
key "key-11"

\end_inset

 Punkt kontrolny może wykorzystywać wywołania zdalne, tak długo, aż wcześniej
 wysłane ogłoszenie nie wygaśnie lub nie zostanie odwołane (przesłanie nowego
 ogłoszenia, wydłuża możliwość wykonywania wywołań kontrolnych).
\end_layout

\begin_layout Standard
Przykładowe wywołanie akcji do usługi znajdującej się w urządzeniu UPnP
 zostało umieszoncze na rysunku 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Wywołanie-akcji-przez"

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Wywołanie-akcji-przez"

\end_inset

Wywołanie akcji przez punkt kontrolny
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename control.png
	display false
	width 70page%

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Subsection
\begin_inset CommandInset label
LatexCommand label
name "sub:Zdarzenia"

\end_inset

Zdarzenia
\end_layout

\begin_layout Standard
W opisie urządzenia UPnP przesyłana jest lista akcji możliwych do wykonania
 przez usługę oraz lista zmiennych modelujących aktualny stan usługi (w
 trakcie jej działania).
 Jako zdarzenie (ang.
 
\emph on
event
\emph default
) została zdefiniowana zmiana wartości wcześniej wspomnianych zmiennych.
 Każdy punkt kontrolny może zasubskrybować (z ang.
 
\emph on
subscribe)
\emph default
 otrzymywanie informacji o takich zmianach.
 Punkt kontrolny, który zamówił subskrypcję zdarzeń nazywany subskrybentem
 (ang.
 
\emph on
subscriber
\emph default
), natomiast usługę, która takową subskrypcję realizuje (wysyła informację
 o zmianie stanu zmiennych) określamy jako wydawcę (ang.
 
\emph on
publisher
\emph default
).
 Wiadomości przesyłane są poprzez protokół GENA (ang.
 
\emph on
General Event Notification Architecture
\emph default
), który jest rozszerzeniem protokołu HTTP zaprojektowanym na potrzeby organizac
ji UPnP Forum.
\end_layout

\begin_layout Standard
Punkt kontrolny w celu otrzymywania subskrypcji wysyła zgłoszenie subskrypcji
 (ang.
 
\emph on
subscription message
\emph default
).
 Jeżeli zgłoszenie jest zaakceptowane wydawca zwraca potwierdzenie w postaci
 czasu ważności subskrypcji.
 Subskrypcja musi być odnawiana przez subskrybenta poprzez wysłanie kolejnych
 zgłoszeń.
 Punkt kontrolny, który otrzymuje informacje o zmianie stanu zmiennych może
 w każdej chwili zrezygnować z ich prenumeraty poprzez wysłanie wiadomości
 unieważniającej (ang.
 
\emph on
cancellation message
\emph default
) do wydawcy.
\begin_inset CommandInset citation
LatexCommand cite
key "key-11"

\end_inset


\end_layout

\begin_layout Standard
Do wydawcy należy zadanie wysyłania informacji o zdarzeniach.
 Komunikat zdarzenia (ang.
 
\emph on
event message
\emph default
) zawiera jeden lub więcej zmiennych, wraz z ich aktualnymi wartościami
 i jest zapisany w notacji języka XML (ang.
 
\emph on
Extensible Markup Language
\emph default
).
 Pierwsza wiadomość wysłana do subskrybenta jest nazywana wiadomością inicjującą
 (ang.
 
\emph on
initial event message
\emph default
) i zawiera wszystkie zmienne (wraz z ich wartościami).
 Wydawca rozsyła zawsze wszystkie zmienione wartości zmiennych do każdego
 punktu kontrolnego, który zgłosił chęć otrzymywania powiadomień (nie ma
 możliwości przesyłania jedynie niektórych zmiennych).
 
\begin_inset CommandInset citation
LatexCommand cite
key "key-11"

\end_inset


\end_layout

\begin_layout Standard
Zmienne, których wartości są zbyt duże lub których wartości ulega bardzo
 często zmianie, przez co ich wysłanie w komunikacie zdarzenia jest bezcelowe
 lub niemożliwe, wydawca może oznaczyć tagiem 
\emph on
non-evented
\emph default
, czyli jako niezgłaszane w rozsyłanych pakietach.
 
\begin_inset CommandInset citation
LatexCommand cite
key "key-1"

\end_inset

 Możliwy typ oraz rozmiar (wielkość) zmiennych jest zgodna ze schematem
 dokumentu XML 
\begin_inset CommandInset citation
LatexCommand cite
key "key-14"

\end_inset

.
\end_layout

\begin_layout Standard
Przykładem zdarzeń może być zmiana poziomu głośności urządzenia UPnP.
 Informacja o zdarzeniu jest wysyłana do zainteresowanych punktów kontrolnych.
 Innym przykładem, dotyczącym multimediów, jest dodanie pliku, bądź plików
 multimedialnych i wysłanie powiadomienia o tym fakcie do subskrybentów.
 Dzięki temu punkty kontrolne mogą wykonać natychmiastową aktualizacje listy
 plików w tle, w sposób nie wymagający interwencji użytkownika.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Komunikacja-pomiędzy-punktem"

\end_inset

Komunikacja pomiędzy punktem kontrolnym, a usługą w przypadku zapisywania
 do subskrybcji
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename eventing.png
	display false
	width 70theight%

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Prezentacja
\end_layout

\begin_layout Standard
Warstwa prezentacji jest ostatnią w stosie protokołu UPnP.
 Wyświetla ona interfejs użytkownika w postaci strony HTML, który umożliwia
 kontrolę i sprawdzanie statusu urządzenia oraz usług wbudowanych w to urządzeni
e.
 Dostęp do interfejsu użytkownika urządzenia umożliwia adres URL, dostarczany
 wraz z opisem urządzenia.
 Dostarczanie prezentacji nie jest obowiązkowe i wiele urządzeń takiego
 interfejsu nie zapewnia.
 Uzyskanie opisywanej strony HTML urządzenia odbywa się zgodnie ze standardem
 HTTP (wykorzystując metodę HTTP GET).
\begin_inset CommandInset citation
LatexCommand cite
key "key-1"

\end_inset


\end_layout

\begin_layout Standard
Wygląd prezentacji nie jest narzucony w żaden sposób przez zrzeszenie UPnP
 Forum i jest zależny w pełni od preferencji producenta urządzenia.
 Wymagane jest jednakże, aby strona była zgodna ze standardem HTML w wersji
 3.0 lub nowszej.
\begin_inset CommandInset citation
LatexCommand cite
key "key-1"

\end_inset


\end_layout

\begin_layout Standard
Często do kontroli urządzenia poprzez warstwę prezentacji wykorzystywane
 są pozostałe wartwy stosu UPnP.
 Nie każdy interfejs UPnP umożliwia modyfikację wszystkich danych, co zmusza
 programistów do tworzenia alternatywnych sposobów kontroli usług UPnP.
\begin_inset CommandInset citation
LatexCommand cite
key "key-1"

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Żądanie strony prezentacji od urządzenia UPnP przez punkt kontrolny
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename presentation.png
	display false
	width 70page%

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Section
Klasy urządzeń multimedialnych UPnP A/V
\end_layout

\begin_layout Standard
Specyfikacja UPnP definiuje kilka rodzajów urządzeń, które dotyczą protokołu
 UPnP w sieci IP.
 W niniejszym rozdziale zostaną opisane rodzaje spotykanych urządzeń UPnP
 ze szczególnym ukierunkowaniem na rodzaje przeznaczone do współpracy z
 materiałami multimedialnymi.
 Urządzenia te są zgodne z jedną z kategorii opisywanego protokołu nazywanego
 UPnP A/V (od ang.
 
\emph on
Audio / Video
\emph default
).
\end_layout

\begin_layout Standard
Organizacja DLNA (ang.
 
\emph on
Digital Living Network Alliance) 
\emph default
zaczerpnęła
\emph on
 
\emph default
mutlimedialne rodzaje urządzeń ze specyfikacji UPnP A/V oraz dodała elementy,
 które wyróżniają DLNA (np drukarkę multimediów).
 W niniejszym rozdziale zostaną przedstawione zarówno nazwy urządzeń DLNA,
 jak i multimedialnych urządzeń UPnP A/V.
\end_layout

\begin_layout Standard
Jak zostało opisane w poprzednim rozdziale wyróżniamy trzy główne rodzaje
 urządzeń:
\end_layout

\begin_layout Itemize
punkty kontrolne,
\end_layout

\begin_layout Itemize
usługi,
\end_layout

\begin_layout Itemize
urządzenia.
\end_layout

\begin_layout Standard
Urządzenia multimedialne podzielone zostały na kilka kategorii.
 W poniższej liście pierwsza nazwa jest nazwą nadaną przez organizację UPnP,
 druga przez organizację DLNA.
 W przypadku, gdy odpowiednik, w którymś z protokołów nie występuje, na
 miejscu nazwy usługi lub urządzenia znajduje się znak myślnika.
\end_layout

\begin_layout Standard
Podział urządzeń według kategorii jest następujący:
\end_layout

\begin_layout Itemize
serwer multimediów (ang.
 
\emph on
Media Server
\emph default
) / cyfrowy serwer multimediów DMS (ang.
 
\emph on
Digital Media Server
\emph default
),
\end_layout

\begin_layout Itemize
- / cyfrowy odtwarzacz multimediów DMP (ang.
 
\emph on
Digital Media Player
\emph default
),
\end_layout

\begin_layout Itemize
serwer renderujący (ang.
 
\emph on
Media Renderer) / 
\emph default
cyfrowy serwer renderujący DMR (ang.
 
\emph on
Digial Media Renderer
\emph default
) ,
\end_layout

\begin_layout Itemize
punkt kontrolny / cyfrowy kontroler multimediów DMC (ang.
 
\emph on
Digital Media Controller
\emph default
),
\end_layout

\begin_layout Itemize
- / drukarka multimediów DMPr (ang.
 
\emph on
Digital Media Printer).
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Schemat-odtwarzania-w"

\end_inset

Schemat odtwarzania w UPnP A/V
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename upnpavplaying.png
	display false
	width 70page%

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Serwer multimedialny
\end_layout

\begin_layout Standard
Serwer multimediów w protokołach UPNP A/V oraz DLNA jest niezbędnym elementem
 sieci.
 Serwer udostępnia stworzone, pobrane lub nagrane pliki multimedialne.
 Jest to jego główne zadanie.
 W protokole DLNA jego dodatkową rolą jest również zapewnienie ochrony treści
 DRM (praw autorskich).
 Serwer multimediów UPnP A/V nie zapewnia ochrony treści.
 Serwer multimedialny jest to zazwyczaj oprogramowanie zainstalowane na
 urządzeniach podłączonych do sieci IP (poprzez połączenie Ethernet), takich
 jak:
\end_layout

\begin_layout Itemize
komputer typu PC,
\end_layout

\begin_layout Itemize
nagrywarka cyfrowa,
\end_layout

\begin_layout Itemize
smartfon,
\end_layout

\begin_layout Itemize
kamera cyfrowa,
\end_layout

\begin_layout Itemize
odtwarzacz BluRay / DVD.
\end_layout

\begin_layout Standard
Na urządzenie lub oprogramowanie serwera UPnP A/V składają się następujące
 usługi:
\end_layout

\begin_layout Itemize
usługa zarządzania treścią (ang.
 
\emph on
Content Directory Service),
\end_layout

\begin_layout Itemize
usługa menedżera połączeń (ang.
 
\emph on
ConnectionManager Service
\emph default
),
\end_layout

\begin_layout Itemize
opcjonalna: usługa transportu AV (ang.
 
\emph on
AVTransport Service
\emph default
).
\end_layout

\begin_layout Standard
Pierwsza z usług, dotycząca zarządzania treścią umożliwia punktom kontrolnym
 przeglądanie zasobów udostępnianych przez serwer.
 Jedną z metod jest przeglądanie - 
\emph on
ContentDirectory:::Browse(), 
\emph default
która pozwala
\emph on
 
\emph default
uzyskać informacje o pliku wraz z jego metadanymi, takimi jak nazwa, artysta,
 rok wydania itd.
 W metadanych mogą również być zawarte informacje o kodowaniu, sposobie
 transportu, dzięki którym punkt kontrolny potrafi określić czy dany odtwarzacz
 ma możliwość odtworzenia pożądanej zawartości.
 Druga z usług, usługa 
\emph on
ConnectionManager
\emph default
 wykorzystywana jest do zarządzania ustanowionych już połączeń.
 Ostatnia z wymienionych usług, służy do zarządzania odtwarzanym materiałem.
 Umożliwia wydawanie poleceń takich jak: odtwarzaj, pauza, stop, przewiń
 wprzód, przewiń w tył itd.
\end_layout

\begin_layout Standard
Wszystkie powyżej opisane usługi 
\begin_inset Quotes pld
\end_inset

wewnętrzne
\begin_inset Quotes prd
\end_inset

 są również integralną częścią specyfikacji DLNA (ich nazwy w większości
 publikacji pozostały takie same).
\begin_inset CommandInset citation
LatexCommand cite
key "key-19"

\end_inset


\end_layout

\begin_layout Subsection
Odtwarzacz multimediów oraz odtwarzacz renderujący
\end_layout

\begin_layout Standard
W przypadku odtwarzaczy multimediów oraz renderujących, różnica, między
 standardami UPnP A/V, a DLNA jest największa.
 Zróżnicowanie te polega głównie na rozdzieleniu ogólnie pojętego zadania
 odtwarzania materiałów multimedialnych na mniejsze, pośrednie zadania.
\end_layout

\begin_layout Standard
W przypadku UPnP A/V, w odtwarzaniu treści multimedialnych uczestniczy punkt
 kontrolny, który wyszukuje materiały udostępniane przez serwer multimediów
 oraz zleca ich odtworzenie.
 Polecenie odtworzenia może zostać wykonane w dwóch postaciach, przy pomocy
 metody 
\emph on
push
\emph default
, w której serwer mutlimediów wysyła treść do wybranego przez punkt kontrolny
 odtwarzacz renderujący, bądź też metodą 
\emph on
pull, 
\emph default
w której odtwarzaczacz renderujący (ang.
 
\emph on
MediaRenderer
\emph default
) pobiera dane z serwera multimediów, renderuje je i/lub odtwarza (może
 je renderować i wysyłać do odtwarzania do innego odtwarzacza).
 Uproszczony schemat opisanej powyżej procedury znajduje się na rysunku
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Architektura-odtwarzania-UPnP"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Architektura-odtwarzania-UPnP"

\end_inset

Architektura odtwarzania UPnP A/V
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename playback_architecture_upnpav.png
	display false
	width 70page%

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
W przypadku architektury DLNA wyróżniamy dwie usługi potrafiące odtwarzać
 materiały:
\end_layout

\begin_layout Itemize
odtwarzacz multimedialny (ang.
 
\emph on
Digital Media Player
\emph default
),
\end_layout

\begin_layout Itemize
odtwarzacz renderujący (ang.
 
\emph on
Digital Media Renderer
\emph default
).
\end_layout

\begin_layout Standard
Pierwszy z nich służy do wyszukiwania i renderowania treści multimedialnych.
 Natomiast zadaniem drugiego jest renderowanie oraz odtwarzanie zadań zleconych
 przez kontroler multimediów.
 Różnica między pierwszym, a drugim jest taka, że odtwarzaczowi renderującemu
 trzeba zlecić zadanie odtwarzanie, natomiast odtwarzacz multimedialny może
 podjąć taką decyzję 
\begin_inset Quotes pld
\end_inset

samodzielnie
\begin_inset Quotes prd
\end_inset

.
\end_layout

\begin_layout Standard
Urządzeniami tego typu może być:
\end_layout

\begin_layout Itemize
telewizor,
\end_layout

\begin_layout Itemize
odtwarzacz DVD/BluRay,
\end_layout

\begin_layout Itemize
amplituner,
\end_layout

\begin_layout Itemize
smartfon,
\end_layout

\begin_layout Itemize
komputer PC.
\end_layout

\begin_layout Standard
Podobnie, jak w przypadku serwera UPnP A/V, odtwarzacz posiada integralne
 usługi, które musi, bądź powinien mieć zaimplementowane:
\end_layout

\begin_layout Itemize
usługa kontroli renderowania (ang.
 
\emph on
Rendering Control Service
\emph default
),
\end_layout

\begin_layout Itemize
usługa menedżera połączeń (ang.
 
\emph on
ConnectionManager Service
\emph default
),
\end_layout

\begin_layout Itemize
opcjonalna: usługa transportu A/V (ang.
 
\emph on
AVTransport Service
\emph default
).
\end_layout

\begin_layout Standard
Dwie ostatnie usługi komunikują się ze swoimi odpowiednikami w implementacji
 serwera multimedialnego (ich funkcje się uzupełniają).
 Usługa kontroli renderowania pozwala punktowi kontrolnemu sterować sposobem
 przetwarzania treści przez odtwarzacz renderujący.
 Oznacza to możliwość zmiany takich funkcji jak: jasność, kontrast, głośność,
 wyciszenie itd.
 Usługa kontroli renderowania może obsługiwać wiele odtwarzaczy, co umożliwia
 jednoczesną zmianę ustawień w wielu urządzeniach UPnP A/V.
\begin_inset CommandInset citation
LatexCommand cite
key "key-19"

\end_inset


\end_layout

\begin_layout Subsection
Punkt kontrolny oraz kontroler multimedialny
\end_layout

\begin_layout Standard
W przypadku UPnP A/V nie wyspecyfikowano oddzielnej usługi / urządzenia
 do kontroli odtwarzacza.
 Taką rolę spełnia punkt kontrolny w obrębie całej specyfikacji UPnP A/V.
 Punkt kontrolny w UPnP A/V koordynuje działania serwera multimediów i odtwarzac
za.
 Zazwyczaj wysyłanie poleceń jest efektem interakcji z użytkownikiem poprzez
 interfejs użytkownika.
 Punktu kontrolnego, w opisywanej roli, specyfikacja UPnP A/V nie określa
 jako pełnoprawnego urządzenia UPnP (nie dostarcza żadnych usług UPnP oraz
 nie jest widoczny jako urządzenie UPnP w sieci), lecz jest niezbędnym pośrednik
iem, między użytkownikiem, a urządzeniami UPnP.
 Punktem kontrolnym można w uproszczeniu nazwać odtwarzacze multimedialne.
\end_layout

\begin_layout Standard
Specyfikacja DLNA wyróżnia punkt kontrolny do zarządzania odtwarzaczem multimedi
alnym, bądź renderującym.
 Kontroler multimedialny (ang.
 
\emph on
Digital Media Controller)
\emph default
 odtwarza zawartość, znalezioną w udostępnianych zasobach serwera multimedialneg
o lub zarządza odtwarzaną zawartość odtwarzacza renderującego.
 Kontrolerami multimedialnymi zazwyczaj są:
\end_layout

\begin_layout Itemize
smartfony,
\end_layout

\begin_layout Itemize
tablety,
\end_layout

\begin_layout Itemize
itd.
\end_layout

\begin_layout Standard
Uproszczony sposób działania algorytmu punktu kontrolnego, współpracującego
 z pojedyńczym serwerem multimedialnych oraz serwerem renderującym wygląda
 następująco:
\end_layout

\begin_layout Enumerate
Wykrywanie urządzeń Audio / Video (przy pomocy mechanizmów UPnP),
\end_layout

\begin_layout Enumerate
Zlokalizowanie pożądanej treść, przy pomocy metod serwera UPnP, takich jak
 
\emph on
ContentDirectory::Browse() 
\emph default
oraz 
\emph on
ContentDirectory::Search(), 
\emph default
które umożliwiają odnalezienie zasobu,
\end_layout

\begin_layout Enumerate
Pobieranie wspieranych formatów danych i protokołów przez odtwarzacz renderujący
 (poprzez metodę 
\emph on
ConnectionManager::GetProtocolInfo()
\emph default
),
\end_layout

\begin_layout Enumerate
Sprawdzenie możliwości odtworzenia materiału przez pożądany odtwarzacz,
 
\end_layout

\begin_layout Enumerate
Wyznaczenie najlepszego sposobu transmisji oraz formatu danych,
\end_layout

\begin_layout Enumerate
Konfigurowanie serwera oraz odtwarzacza renderującego; wykorzystywane są
 takie polecenia jak: 
\emph on
ConnectionManager::PrepareForConnection(), AVTransport::Play(), AVTransport::Sto
p(), AVTransport::Pause(), AVTransport::Seek() itd.
\end_layout

\begin_layout Enumerate
Wyznaczenie zawartości do przesłania,
\end_layout

\begin_layout Enumerate
Rozpoczęcie przesyłania wybranej treści,
\end_layout

\begin_layout Enumerate
Możliwe wywoływanie działań na odtwarzaczu (np.
 pauza),
\end_layout

\begin_layout Enumerate
Wybieranie opcji: powtórz odtworzenie lub kolejny materiał,
\end_layout

\begin_layout Enumerate
Zakończenie działania i zamknięcie połączenia z serwerem multimediów.
\end_layout

\begin_layout Subsection
Klasy mobilne
\end_layout

\begin_layout Standard
Specyfikacja DLNA dla większości typów urządzeń (wyjątkiem jest drukarka
 
\emph on
DMPr
\emph default
) przewiduje możliwość istnienia ich odmiany mobilnej.
 Spełniają one, w większości przypadków, te same funkcje co typy główne.
 Rozróżnienie dużej ilości typów zostało wprowadzone dla ułatwionej orientacji
 konsumentów, pośród różnych rodzajów produktów.
\begin_inset CommandInset citation
LatexCommand cite
key "key-20"

\end_inset


\end_layout

\begin_layout Standard
Poza powtarzającymi się typami wyróżniamy dwa, które istnieją jedynie w
 wersji mobilnej:
\end_layout

\begin_layout Itemize
menedżer wysyłania multimediów (ang.
 
\emph on
Mobile Digital Media Uploader M-DMU)
\emph default
,
\end_layout

\begin_layout Itemize
menedżer pobierania multimediów (ang.
 
\emph on
Mobile Digital Media Downloader M-DMD).
\begin_inset CommandInset citation
LatexCommand cite
key "key-20"

\end_inset


\end_layout

\begin_layout Standard
Pierwszy typ służy do wysłania (całości) materiału do serwera multimediów
 (mobilnej wersji bądź standardowej) poprzez sieć bezprzewodową.
 
\end_layout

\begin_layout Standard
Przykładem takich urządzeń mogą być: 
\end_layout

\begin_layout Itemize
cyfrowy aparat fotograficzny, 
\end_layout

\begin_layout Itemize
kamera wideo, 
\end_layout

\begin_layout Itemize
smartfon.
 
\end_layout

\begin_layout Standard
Menedżer pobierania multimediów, również jest urządzeniem działającym w
 obrębie sieci bezprzewodowej, które pobiera materiały udostępniane przez
 serwer DLNA (niezależnie od wersji mobilnej, bądź standardowej).
 Menedżerem pobierania może być smartfon lub przenośny odtwarzacz muzyki.
\begin_inset CommandInset citation
LatexCommand cite
key "key-20"

\end_inset


\end_layout

\begin_layout Standard
Odmiany mobilne urządzeń i usług nie są wyróżnione w dokumentacji UPnP A/V.
\end_layout

\begin_layout Chapter
Multimedia w UPnP A/V i DLNA
\end_layout

\begin_layout Standard
Specyfikacja UPnP A/V została stworzona do umożliwienia oraz ustandaryzowania
 sposobu komunikacji między urządzeniami multimedialnymi w obrębie sieci
 lokalnej.
 Ponadto miała zapewnić współpracę między produktami różnych dostawców.
 Cel ten w specyfikacji UPnP A/V został osiągnięty w niepełnym wymiarze.
 Specyfikacja UPnP A/V pozostawia swobodę w możliwościach obsługiwanych
 formatów danych.
 Oznacza to, że pomimo komunikowania się ze sobą urządzeń różnego typu,
 cel dla użytkownika końcowego, czyli odtworzenie treści, nie zawsze może
 być spełniony (strona odtwarzająca może nie odtworzyć materiału).
 Liberalność w kwestii wspieranych formatów zadziałała, w tym przypadku,
 na niekorzyść specyfikacji UPnP A/V.
\end_layout

\begin_layout Standard
Z powyżej opisanego powodu producenci sprzętu elektronicznego powołali konsorcju
m DLNA.
 W specyfikacji DLNA autorzy uwzględnili również formaty odtwarzanych plików.
 Natomiast ze specyfikacji UPnP zapożyczyli między innymi w prawidłowy sposób
 działającą komunikację między urządzeniami.
 Jako format definiuje się możliwy sposób zakodowania pliku.
\end_layout

\begin_layout Standard
Certyfikacja DLNA jest stosowana przez większość producentów urządzeń multimedia
lnych, w tym m.in.
 przez większość producentów nowoczesnych telewizorów wyposaża je w oprogramowan
ie odtwarzacza DLNA.
 W chwili obecnej najprawdopodobniej najpopularniejszym przeznaczeniem DLNA
 jest odtwarzanie filmów.
 
\begin_inset Note Note
status open

\begin_layout Plain Layout
hy?
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Zgodnie ze standardem UPnP A/V oraz DLNA plik multimedialny można zaklasyfikować
 do jednego z następujących formatów:
\end_layout

\begin_layout Itemize
audio (ang.
 
\emph on
audio
\emph default
),
\end_layout

\begin_layout Itemize
obraz (ang.
 
\emph on
image
\emph default
),
\end_layout

\begin_layout Itemize
audio-wideo (ang.
 
\emph on
AV / audio-video).
\end_layout

\begin_layout Standard
W niniejszym rozdziale zostaną opisane obsługiwane typy multimediów, ich
 klasyfikacje w opisywanych specyfikacjach, formaty kodowania plików, technika
 przechowywania oraz sposób ich obsługi.
\end_layout

\begin_layout Standard
Typy plików (lub ich kodowania) konieczne do obsługi oraz opcjonalne, zdefiniowa
ne przez DLNA, znajdują się w tabelach nr 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Typy-obsługiwanych-plików"

\end_inset

, 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:2Typy-obsługiwanych-plików"

\end_inset

.
 Objaśnienia do niniejszej tabeli znajdują się w rozdziałach poświęconym
 poszczególnym klasom multimediów.
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:Typy-obsługiwanych-plików"

\end_inset

Typy obsługiwanych plików w DLNA - standardowe urządzenia
\begin_inset CommandInset citation
LatexCommand cite
key "key-22"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="4" columns="3">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0pt">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Klasa multimediów
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Wymagane typy plików
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Opcjonalne typy plików
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Obraz (ang.
 
\emph on
Image
\emph default
)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
JPEG
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
PNG, GIF, TIFF
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Audio
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
LPCM
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
AC3, AAC, MP3, WMA9, ATRAC3plus
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Wideo (ang.
 
\emph on
Video
\emph default
)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
MPEG2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
MPEG1, MPEG4, WMV9
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:2Typy-obsługiwanych-plików"

\end_inset

Typy obsługiwanych plików w DLNA - urządzenia mobilne
\begin_inset CommandInset citation
LatexCommand cite
key "key-22"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="6" columns="3">
<features tabularvalignment="middle">
<column alignment="left" valignment="top" width="0pt">
<column alignment="left" valignment="top" width="0pt">
<column alignment="center" valignment="top" width="0pt">
<row>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Klasa multimediów
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Wymagane typy plików
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Opcjonalne typy plików
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Obraz (ang.
 
\emph on
Image
\emph default
)
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
JPEG
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
PNG, GIF, TIFF
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="3" alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Audio
\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
MP3, MPEG4 AAC LC
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
MPEG4 (HE AAC, AAC LTP, BSAC),
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
AMR, ATRAC3plus, G.726, WMA, LPCM
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="3" alignment="left" valignment="middle" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Wideo (ang.
 
\emph on
Video
\emph default
)
\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="left" valignment="middle" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
MPEG4 AVC (AAC LC)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
VC1, H.263, MPEG4, 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
MPEG2, MPEG4 AVC (np.
 BSAC)
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Section
Odtwarzanie multimediów
\end_layout

\begin_layout Standard
W odtwarzaniu multimediów w DLNA (analogicznie w UPnP A/V) muszą brać udział
 minimum dwa urządzenia.
 Jedno to serwer multimediów udostępniający materiał, drugie to odtwarzacz
 multimedialny (rysunek 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Uproszczony-schemat-komunikacji"

\end_inset

).
 Istnieje również możliwość udziału większej liczby urządzeń, gdzie trzecim
 urządzeniem jest kontroler multimedialny pełniący rolę 
\begin_inset Quotes pld
\end_inset

pilota
\begin_inset Quotes prd
\end_inset

 zarządzającego, który decyduje co ma być odtwarzane oraz zarządzać odtwarzaniem
 (
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:2Uproszczony-schemat-komunikacji"

\end_inset

).
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Uproszczony-schemat-komunikacji"

\end_inset

Uproszczony schemat komunikacji 2 urządzeń
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename 2box_playing.png
	display false
	width 100text%

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:2Uproszczony-schemat-komunikacji"

\end_inset

Uproszczony schemat komunikacji 3 urządzeń
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename 3box_playing.png
	display false
	width 100text%

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Pierwszą czynnością jest podłączenie urządzenia do sieci, które wykonywane
 jest w następujących krokach:
\end_layout

\begin_layout Enumerate
Urządzenie dołącza do sieci lokalnej (pobiera adres z serwera DHCP lub autorytat
ywnie przydziela sobie adres IP - metoda Auto-IP),
\end_layout

\begin_layout Enumerate
Urządzenie wysyła informacje o sobie z wykorzystaniem protokołu SSDP na
 adres 239.255.255.255:1900.
\end_layout

\begin_layout Standard
W dalszej kolejności następuje prawidłowa procedura odtwarzania:
\end_layout

\begin_layout Enumerate
Punkt kontrolny (w notacji DLNA - odtwarzacz multimedialny lub kontroler
 multimedialny) wysyła żądanie opisu urządzenia i usługi (usług) do serwera
 multimedialnego.
\end_layout

\begin_layout Enumerate
Serwer multimedialny odsyła opis urządzenia i usługi (usług) w postaci pliku
 XML.
\end_layout

\begin_layout Enumerate
Punkt kontrolny za pomocą komunikatów SOAP wysyła do serwera akcje, którą
 chce wykonać.
 W przypadku odtwarzania mogą być to komunikaty przeglądania multimediów
 (ang.
 
\emph on
browse
\emph default
)lub ich wyszukiwania (ang.
 
\emph on
search
\emph default
).
 Ilość wymienionych komunikatów jest zależna od drzewa wyszukiwania pożądanego
 pliku przez użytkownika.
\end_layout

\begin_layout Enumerate
Wyszukiwanie kończy się wraz z wyborem pliku z wykorzystaniem metod protokołu
 HTTP np.
 HTTP GET.
\end_layout

\begin_layout Standard
Odtwarzacz mutimedialny ma możliwość, działania w typowy sposób dla tradycyjnego
 odtwarzacza muzyki lub wideo/DVD.
 Może przewijać materiał w przód, w tył.
 Przewijanie jest wykonywane przez podawanie pożądanych bajtów pliku (np.
 bajt 50 000 - 150 000) przez odtwarzacz multimedialny.
 Wykonywanie przewijania i skoków w filmie jest możliwe tylko wtedy gdy
 serwer multimedialny udostępnia rozmiar pliku lub długość nagrania (niektóre
 odtwarzacze wymagają jednostek w minutach dla długości muzyki czy filmu,
 pomimo, że prawdiłowo wykorzystują pobieranie tzn.
 pobierają okresloną ilość bajtów).
\end_layout

\begin_layout Standard
Odtwarzacz multimedialny zgodnie z przytaczanymi specyfikacjami mają możliwość
 układania list odtwarzania (ang.
 
\emph on
playlist
\emph default
).
 Jednakże autor nie odnalazł odtwarzacza, który umożliwiałby utworzenie
 takiej listy.
\end_layout

\begin_layout Section
Klasy multimediów UPnP A/V
\end_layout

\begin_layout Standard
Klasą główną urządzeń UPnP A/V jest 
\emph on
item.
 
\emph default
Zawarte są w niej następujące podtypy:
\end_layout

\begin_layout Itemize
rysunek (
\emph on
imageItem
\emph default
),
\end_layout

\begin_deeper
\begin_layout Itemize
obraz (
\emph on
photo
\emph default
),
\end_layout

\end_deeper
\begin_layout Itemize
audio (
\emph on
audioItem
\emph default
)
\end_layout

\begin_deeper
\begin_layout Itemize
utwór muzyczny (
\emph on
musicTrack),
\end_layout

\begin_layout Itemize
nadawanie materiału audio (
\emph on
audioBroadcast
\emph default
),
\end_layout

\begin_layout Itemize
audiobook (
\emph on
audiobook
\emph default
),
\end_layout

\end_deeper
\begin_layout Itemize
wideo (
\emph on
videoItem
\emph default
),
\end_layout

\begin_deeper
\begin_layout Itemize
film (
\emph on
movie)
\emph default
,
\end_layout

\begin_layout Itemize
nadawanie materiału wideo (
\emph on
videoBroadcast
\emph default
),
\end_layout

\begin_layout Itemize
teledysk (
\emph on
musicVideoClip),
\end_layout

\end_deeper
\begin_layout Itemize
lista odtwarzania (
\emph on
playlistItem
\emph default
),
\end_layout

\begin_layout Itemize
tekst (
\emph on
textItem
\emph default
).
\begin_inset CommandInset citation
LatexCommand cite
key "key-21"

\end_inset


\end_layout

\begin_layout Standard
Każdy z powyższych typów, może posiadać podtypy zdefiniowane przez producenta
 oprogramowania.
 Schemat typów został przedstawiony na rysunku nr 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Schemat-typu-item"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Schemat-typu-item"

\end_inset

Schemat typu 
\emph on
item
\emph default
 wraz ze standardowymi podtypami
\end_layout

\end_inset

upnp_av_contentdirectory_service:2 
\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename item_type.png
	display false
	width 70page%

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Poza obiektami typu 
\series bold
\emph on
item 
\series default
\emph default
wyróżniamy również tak zwane kontenery (ang.
 
\emph on
containers
\emph default
).
 Reprezentują one kolekcje obiektów (fizyczną, bądź logiczną np.
 posortowaną według typów filmów).
 Dokładny opis obu typów, wraz ze sposobem stosowania, znajduje się w rozdziale
 implementacyjnym niniejszej pracy magisterskiej.
\end_layout

\begin_layout Standard
W przypadku DLNA zrezygnowano w specyfikacji z przyrostka 
\emph on
item
\emph default
 i w nazwach typów, powstały nazwy takie jak: 
\emph on
audio, AV, image
\emph default
.
 Jednakże w części DLNA dotyczącej implementacji (w postaci XML) pozostawiono
 wcześniej znane nazwy, takie jak w UPnP A/V.
 Z tego powodu w niniejszej pracy autor używa nazw pochodzących z UPnP A/V.
 Wyjątek stanowi sytuacja, gdy nazwa została zdefiniowana jedynie w specyfikacji
 DLNA, a w specyfikacji autorstwa UPnP Forum jej odpowiednik nie występuje.
\end_layout

\begin_layout Standard
Typ pliku jest określany w opisie zasobu, który znajduje się w znaczniku
\emph on
 res (ang.
 resource
\emph default
) pliku XML.
\end_layout

\begin_layout Subsection
Klasa 
\emph on
object
\end_layout

\begin_layout Standard
Wyróżniamy dwie klasy główne: 
\emph on
object 
\emph default
oraz 
\emph on
item.

\emph default
 Pierwsza z nich to klasa główna , w której znajduje się cała udostępniana
 odtwarzaczowi UPnP A/V lub DLNA treść multimedialna (ang.
 
\emph on
ContentDirectory
\emph default
).
 Klasa 
\emph on
object
\emph default
 określa właściwości, które są wspólne dla każdego z udostępnianych plików,
 jak i dla ustrukturyzowanej logicznej kolekcji materiałów.
 Niniejsza lista przedstawia wymagane właściwości dostarczane wraz z obiektem:
\end_layout

\begin_layout Itemize
@id - unikalny identyfikator klasy głównej,
\end_layout

\begin_layout Itemize
@parentID - identyfikator klasy nadrzędnej,
\end_layout

\begin_layout Itemize
@restricted - określa czy właściwości obiektu mogą zostać zmienione,
\end_layout

\begin_layout Itemize
dc:title - nazwa obiektu,
\end_layout

\begin_layout Itemize
upnp:class - klasa zawartości zgodna z UPnP
\begin_inset CommandInset citation
LatexCommand cite
key "key-21"

\end_inset

.
\end_layout

\begin_layout Standard
Dodatkowymi właściwościami opisywanej klasy są:
\end_layout

\begin_layout Itemize
dc:creator - twórca obiektu,
\end_layout

\begin_layout Itemize
res - zasób / zasoby,
\end_layout

\begin_layout Itemize
upnp:writeStatus - określa czy dany obiekt może być modyfikowany.
\begin_inset CommandInset citation
LatexCommand cite
key "key-21"

\end_inset


\end_layout

\begin_layout Subsection
Klasa 
\emph on
item
\end_layout

\begin_layout Standard
Klasa 
\emph on
item
\emph default
 jest typem określającym każdy indywidualny materiał multimedialny np.
 zdjęcie w albumie.
 Obiekt ten nie może zawierać w sobie innych obiektów (nie może być 
\begin_inset Quotes pld
\end_inset

katalogiem
\begin_inset Quotes prd
\end_inset

).
 Klasa dziedziczy wszystkie opcje po klasie głównej 
\emph on
object 
\emph default
oraz wprowadza następujące właściwości (wszystkie są opcjonalne):
\end_layout

\begin_layout Itemize
@refID - odniesienie do pliku głównego (w przypadku gdy plik znajduje się
 w logicznym kontenerze).
 Jeżeli udostępniany zasób jest odniesieniem, wówczas pole opisywana opcja
 jest obowiązkowa,
\end_layout

\begin_layout Itemize
upnp:bookmarkID - identyfikator obiektu, do którego została stworzona zakładka.
\end_layout

\begin_layout Subsection
Klasa kontener
\end_layout

\begin_layout Standard
Klasa kontener (ang.
 
\emph on
container
\emph default
) dziedziczy po typie głównym 
\emph on
object
\emph default
 i reprezentuje kolekcje innych obiektów (innych kontenerów lub innych podtypów
 dziedziczącej po klasie 
\emph on
object
\emph default
).
 Jest odpowiednikiem katalogu w systemie plików.
 Nie określa ona żadnych obowiązkowych właściwości, które trzeba dostarczyć
 drugiej stronie komunikacji.
 Opcjami dodatkowymi są natomiast pola:
\end_layout

\begin_layout Itemize
@childCount - liczba obiektów, które znajdują się w kontenerze,
\end_layout

\begin_layout Itemize
upnp:CreateClass - zawiera klasy (typy obiektów), które mogą zostać stworzone
 wewnątrz kontenera,
\end_layout

\begin_layout Itemize
upnp:SearchClass - zawiera listę klas (typów obiektów), które można wyszukać
 w danym kontenerze,
\end_layout

\begin_layout Itemize
@searchable - określa, czy na kontenerze może być wykonywane wyszukiwanie
 (wartośc 0 lub 1),
\end_layout

\begin_layout Itemize
@neverPlayable - określa, czy kontener kiedykolwiek będzie posiadał zawartość
 możliwą do odtwarzania (wartość 0 lub 1, domyślna wartość 0).
\end_layout

\begin_layout Subsection
Klasa obraz
\end_layout

\begin_layout Standard
Typ obraz (ang.
 
\emph on
imageItem
\emph default
) wywodzi się z klasy głównej 
\emph on
item 
\emph default
i dziedziczy od niej wymagane opcje.
 Ponadto typ obraz powinien zawierać następujące opcje (minimum jedno wystąpieni
e):
\end_layout

\begin_layout Itemize

\emph on
res - 
\emph default
ścieżka do obrazu
\end_layout

\begin_deeper
\begin_layout Itemize
res@resolution - rozdzielczość obrazu,
\end_layout

\end_deeper
\begin_layout Itemize
upnp:longDescription - długi opis obrazu,
\end_layout

\begin_layout Itemize
upnp:storageMedium - rodzaj pamięci,
\end_layout

\begin_layout Itemize
upnp:rating - ocena,
\end_layout

\begin_layout Itemize
dc:description - opis obrazu,
\end_layout

\begin_layout Itemize
dc:publisher - wydawca,
\end_layout

\begin_layout Itemize
dc:date - data powstania obrazu,
\end_layout

\begin_layout Itemize
dc:rights - określa prawa własności
\begin_inset CommandInset citation
LatexCommand cite
key "key-21"

\end_inset


\end_layout

\begin_layout Standard
Gdy przedstawianym obrazem jest zdjęcie może ono być podtypu zdjęcie 
\emph on
photo:imageItem
\emph default
, które dziedziczy wszystkie właściwości typ obraz oraz umożliwia układanie
 zdjęć w albumy, dzięki opcjonalnej właściwości:
\end_layout

\begin_layout Itemize

\emph on
upnp:album 
\emph default
- nazwa albumu.
\end_layout

\begin_layout Standard
Obraz lub zdjęcie może być udostępnione w kilku rozmiarach oraz według kilku
 typów.
 Zdjęcie może być udostępnione w następujących rozmiarach:
\end_layout

\begin_layout Itemize
SM (ang.
 
\emph on
small
\emph default
) - małe,
\end_layout

\begin_layout Itemize
MED (ang.
 
\emph on
medium
\emph default
) - średnie,
\end_layout

\begin_layout Itemize
LRG (ang.
 
\emph on
large
\emph default
) - wielkie,
\end_layout

\begin_layout Itemize
TN (ang.
 
\emph on
thumbnail
\emph default
) - miniatura.
\end_layout

\begin_layout Standard
Obsługiwany obowiązkowo typ grafik to JPEG_SM.
 Opcjonalnymi typami, które może obsługiwać odtwarzacz są JPEG_MED, JPEG_LRG,
 JPEG_TN, PNG_TN.
 Ponadto miniaturami obrazów, urządzenie może udostępniać ikony (np.
 ikona z logiem producenta oprogramowania).
 Ikony mogą być formatowane zgodnie z następującymi rozmiarami: PNG_SM_ICO,
 PNG_LRG_ICO, JPEG_SM_ICO, JPEG_LRG_ICO.
 W przypadku ikon, jeżeli urządzenie wspiera ich udostępnianie, wówczas
 musi udostępniać ich wszystkie rozmiary.
\end_layout

\begin_layout Standard
Na podstawie dokumentacji DLNA autor opracował tabelę 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Tabela-porównawcza-formatów"

\end_inset

 zestawiającą formaty plików oraz ich właściwości.
 Tabela zawiera standardowe formaty danych i nie uwzględnia formatów opcjonalnyc
h (takich jak PNG czy BMP), które mogą być obsługiwane przez urządzenie.
 Jednakże bez względu na typ pliku, właściwości dotyczące rozmiaru (na podstawie
 którego klasyfikowana jest nazwa skrócona obrazu np.
 MED) muszą być uwzględnione, a obraz udostępniony z odpowiednią nazwą profilu
 (np.
 PNG_MED).
\end_layout

\begin_layout Standard
Obrazy udostępniane są również w postaci miniatur.
 Miniatury mogą odnosić się nie tylko do obrazów i zdjęć, lecz do pozostałej
 udostępnianej zawartości, czyli muzyki i filmów.
 Każdy album muzyczny może mieć miniaturę z okładką albumu, zaś film miniature
 z plakatem, wybraną sceną lub inny dowolny obraz.
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:Tabela-porównawcza-formatów"

\end_inset

Tabela porównawcza standardowych formatów obrazów w technologii DLNA
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="12" columns="3">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0pt">
<column alignment="center" valignment="top" width="0pt">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Typ MIME
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Profil*
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Właściwości
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="3" alignment="left" valignment="middle" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
image/jpeg
\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="center" valignment="middle" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
JPEG_SM
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
maksymalny rozmiar**: 640 x 480
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
paleta kolorów: niekalibrowane lub sRGB
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="center" valignment="middle" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
JPEG_MED
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
maksymalny rozmiar: 1024 x 768
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="center" valignment="middle" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
JPEG_LRG
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
maksymalny rozmiar: 4096 x 4096
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
JPEG_TN
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
maksymalny rozmiar: 160 x 160
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
JPEG_SM_ICO
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
maksymalny rozmiar: 48 x 48
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
JPEG_LRG_ICO
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
maksymalny rozmiar: 120 x 120
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="3" alignment="left" valignment="middle" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
image/png
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
PNG_TN
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
maksymalny rozmiar: 160 x 160
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="left" valignment="middle" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
PNG_SM_ICO
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
maksymalny rozmiar: 48 x 48
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="left" valignment="middle" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
paleta kolorów: odcienie szarości, 24 bitowa paleta kolorów
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
PNG_LRG_ICO
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
maksymalny rozmiar: 120 x 120
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
*na profil składa się typ pliku (np.
 JPEG) oraz rozmiar: SM - mały, MED - średni, LRG - wielki, TN - miniatura,
 SM_ICO - mała ikona, LRG_ICO - duża ikona
\end_layout

\begin_layout Plain Layout
** rozmiar podawany w pikselach
\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Klasa audio
\end_layout

\begin_layout Standard
Typ audio służy do udostępniania plików audio, które są przeznaczone jedynie
 do słuchania.
 Oznacza to, że klasa ta nie dotyczy ścieżki dźwiękowej w materiałach wideo,
 takich jak filmy czy transmisja telewizyjna.
 Klasą nadrzedną dla audio, jest klasa 
\emph on
item
\emph default
, od której dziedziczone są wszystkie jej właściwości.
 Podobnie jak w klasie opisującej obraz, powinna ona zawierać opcję 
\emph on
res
\emph default
 wraz z danymi dotyczącymi zasobu.
 Ponadto opcjonalnymi właściwościami możliwymi do załączenia są:
\end_layout

\begin_layout Itemize
upnp:genre - gatunek pliku audio,
\end_layout

\begin_layout Itemize
dc:description - opis pliku,
\end_layout

\begin_layout Itemize

\emph on
upnp:longDescritpion
\emph default
 - rozszerzony opis pliku,
\end_layout

\begin_layout Itemize

\emph on
dc:publisher
\emph default
 - wydawca,
\end_layout

\begin_layout Itemize

\emph on
dc:language
\emph default
 - język,
\end_layout

\begin_layout Itemize
dc:relation - dowiązania (powiązania) do innych utworów,
\end_layout

\begin_layout Itemize
dc:rights - informacje o prawach własności (m.in.
 intelektualnej),
\end_layout

\begin_layout Standard
Klasa audio posiada następujące podtypy, określające rodzaj dostępnego materialu
 dźwiękowego:
\end_layout

\begin_layout Itemize
muzyka (ang.
 
\emph on
musicTrack
\emph default
),
\end_layout

\begin_layout Itemize
transmisja audio (ang.
 
\emph on
audioBroadcast
\emph default
),
\end_layout

\begin_layout Itemize
książka audio (ang.
 
\emph on
audioBook
\emph default
).
\end_layout

\begin_layout Standard
Pierwszy z podtypów jest jednocześnie najbardziej popularnym do udostępniania
 w klasie audio.
 Muzykę można klasyfikować w albumy, listy odtwarzania, udostępniać informacje
 o artyście.
 Wszystkie te atrybuty są opcjonalne, a ich pełna lista wygląda następująco:
\end_layout

\begin_layout Itemize

\emph on
upnp:artist
\emph default
 - wykonawca,
\end_layout

\begin_layout Itemize

\emph on
upnp:album
\emph default
 - album muzyczny,
\end_layout

\begin_layout Itemize

\emph on
upnp:originalTrackNumber
\emph default
 - oryginalny numer utworu,
\end_layout

\begin_layout Itemize

\emph on
upnp:playlist
\emph default
 - lista odtwarzania,
\end_layout

\begin_layout Itemize

\emph on
upnp:storageMedium
\emph default
 - rodzaj pamięci (np.
 płyta CD),
\end_layout

\begin_layout Itemize

\emph on
dc:contributor - 
\emph default
podmiot odpowiedzialny za zasób,
\end_layout

\begin_layout Itemize

\emph on
dc:date - 
\emph default
data związana z zasobem,
\end_layout

\begin_layout Standard
Transmisja audio daje bardzo dużo możliwości rozszerzenia funkcji odtwarzaczy
 o wzbogacenie ich o takie opcje jak radio internetowe, dzięki przekazywaniu
 transmisji na żywo przez serwer.
 Opisywany podtyp można przesłać wraz z opcją 
\emph on
res
\emph default
 zawierającą dane o zasobie oraz opcjonalnymi atrybutami, takimi jak:
\end_layout

\begin_layout Itemize
upnp:region - region związany z zasobem (np.
 Europa, Ameryka),
\end_layout

\begin_layout Itemize
upnp:radioCallSign - nazwa radio,
\end_layout

\begin_layout Itemize
upnp:radioStationID - identyfikator stacji (np.
 częstotliwość nadawania),
\end_layout

\begin_layout Itemize
upnp:radioBand - pasmo nadawania (np.
 AM, FM),
\end_layout

\begin_layout Itemize
upnp:channelNr - powiązania kanału z numerem stacji w odbiorniku,
\end_layout

\begin_layout Itemize
upnp:signalStrength - siła sygnału , 
\end_layout

\begin_layout Itemize
upnp:signalLocked - informacja czy częstotliwość odbioru została zablokowana
 (możliwość odbioru jednego kanału),
\end_layout

\begin_layout Itemize
upnp:tuned - informacja czy źródło jest odpowiednio ustawione,
\end_layout

\begin_layout Itemize
upnp:recordable - informacja czy materiał może być nagrywany.
\end_layout

\begin_layout Standard
Ostatni z typów dziedziczący po klasie audio, czyli audiobook, służy do
 określania charakterystyki tego typu książek.
 Pole z zasobem (
\emph on
res
\emph default
) powinno być zawarte w przesłanych danych co najmniej raz.
 Poza nim mogą zostać dołączone następujące atrybuty:
\end_layout

\begin_layout Itemize
upnp:storageMedium - rodzaj pamięci (np.
 płyta CD),
\end_layout

\begin_layout Itemize
upnp:producer - wydawca,
\end_layout

\begin_layout Itemize
dc:contributor - podmiot odpowiedzialny za zasób,
\end_layout

\begin_layout Itemize
dc:date - data związana z zasobem.
\end_layout

\begin_layout Subsection
Klasa wideo
\end_layout

\begin_layout Standard
Klasa wideo opisuje materiały audiowizualne udostępniane w sieci.
 Są to materiały, których udostępnianie jest najtrudniejsze, zarówno z perspekty
wy programisty, jak i użytkownika.
 Jest to spowodowane bardzo dużą rozległością w sposobach kodowania materiałów
 oraz wciąż niepełną kompatybilnością wielu urządzeń z wieloma formatami
 plików.
 W plikach wideo warto zwrócić uwagę na dwa podstawowe pojęcia: kontener
 multimedialny oraz format pliku wideo.
 Pojęcie te występuje również w plikach graficznych i audio, jednakże stopień
 komplikacji dla sprzętu komputerowego występuje dopiero w plikach zawartych
 w opisywanej klasie.
\end_layout

\begin_layout Standard
W ogólnie rozumianym kontenerze multimedialnym może być przechowywanych
 wiele strumieni obrazów, audio, wideo, napisów, informacji o strumieniach
 i innych metadanych.
 Pozwala on na przechowywanie wszystkich tych danych w jednym pliku
\begin_inset CommandInset citation
LatexCommand cite
key "key-24"

\end_inset

.
 Natomiast jako format wideo definiowany jest sposób kodowania strumienia
 wideo.
 Analogiczne definicje dotyczą formatów audio oraz obrazów.
\end_layout

\begin_layout Standard
Podstawowy typ wideo (ang.
 
\emph on
videoItem
\emph default
) dziedziczy po klasie głównej 
\emph on
item
\emph default
.
 Zawiera minimum jedną informacje o zasobie 
\emph on
res
\emph default
.
 Ponadto z materiałem mogą być przekazane następujące atrybuty:
\end_layout

\begin_layout Itemize
upnp:genre - gatunek pliku wideo,
\end_layout

\begin_layout Itemize
upnp:genre@id - identyfikator gatunku, zgodny ze schematem definiującym
 możliwe gatunki wykorzystywane w 
\emph on
upnp:genre,
\end_layout

\begin_layout Itemize
upnp:genre@extended - dodatkowe informacje o gatunku wideo,
\end_layout

\begin_layout Itemize
upnp:longDescription - długi opis,
\end_layout

\begin_layout Itemize
upnp:producer - producent
\end_layout

\begin_layout Itemize
upnp:rating - ocena,
\end_layout

\begin_layout Itemize
upnp:actor - obsada aktorów,
\end_layout

\begin_layout Itemize
upnp:director - reżyser,
\end_layout

\begin_layout Itemize
dc:description - opis,
\end_layout

\begin_layout Itemize
dc:publisher - wydawca,
\end_layout

\begin_layout Itemize
dc:language - język wideo,
\end_layout

\begin_layout Itemize
dc:relation - adres URL z powiązanymi materiałami,
\end_layout

\begin_layout Itemize
upnp:playbackCount - ilość odtworzeń materiału,
\end_layout

\begin_layout Itemize
upnp:lastPlaybackTime - data ostatniego odtwarzania,
\end_layout

\begin_layout Itemize
upnp:lastPlaybackPosition - ostatnia pozycja odtwarzania,
\end_layout

\begin_layout Itemize
upnp:recordedDayOfWeek - dzień tygodnia, w którym nagranie zostało wykonane,
\end_layout

\begin_layout Itemize
upnp:srsRecordScheduleID - identyfikator nagrania w harmonogramie nagrań.
\end_layout

\begin_layout Standard
Jak jest widoczne na powyższej liście ilość atrybutów możliwych do przesłania
 jest bardzo duża.
 Jest to bazowa klasa dla pozostałych typów wideo, którymi są:
\end_layout

\begin_layout Itemize
film (
\emph on
movie:videoItem
\emph default
),
\end_layout

\begin_layout Itemize
transmisja wideo (
\emph on
videoBroadcast:videoItem
\emph default
),
\end_layout

\begin_layout Itemize
teledysk / klip muzyczny (
\emph on
musicVideoClip:videoItem
\emph default
).
\end_layout

\begin_layout Standard
Klasa film reprezentuje materiały filmowe i umożliwia załączenie dodatkowych
 danych odnośnie filmu w wyspecyfikowanych, przez autorów dokumentacji UPnP
 A/V, atrybutach.Na atrybuty składają się:
\end_layout

\begin_layout Itemize

\emph on
upnp:storageMedium 
\emph default
- nośnik pamięci,
\end_layout

\begin_layout Itemize

\emph on
upnp:DVDRegionCode
\emph default
 - kod regionalny materiału DVD,
\end_layout

\begin_layout Itemize

\emph on
upnp:channelName
\emph default
 - nazwa kanału,
\end_layout

\begin_layout Itemize

\emph on
upnp:scheduleStartTime - 
\emph default
planowany start transmisji,
\end_layout

\begin_layout Itemize

\emph on
upnp:scheduleEndTime - 
\emph default
planowany koniec transmisji,
\end_layout

\begin_layout Itemize

\emph on
upnp:programTitle
\emph default
 - tytuł programu (odcinka),
\end_layout

\begin_layout Itemize

\emph on
upnp:seriesTitle
\emph default
 - tytuł serii,
\end_layout

\begin_layout Itemize

\emph on
upnp:episodeCount
\emph default
 - liczba odcinków,
\end_layout

\begin_layout Itemize

\emph on
upnp:episodeNr 
\emph default
- numer odcinka.
\end_layout

\begin_layout Standard
Wszystkie z powyższych opcji są możliwe do udostępnienia w postaci atrybutów
 XML, lecz nie są obowiązkowe.
\end_layout

\begin_layout Section
Rodzaje multimediów
\end_layout

\begin_layout Standard
Filmy, a dokładnie ich pełne wsparcie i obsługa, były najciekawszym i zarazem
 najtrudniejszym tematem do realizacji dla autora niniejszej pracy.
 Z tego powodu niniejszy podrozdział zostanie głównie poświęcony opisowi,
 w jaki sposób w erze komputerów przechowywane są tego rodzaju materiały.
\end_layout

\begin_layout Standard
Ilość formatów danych multimedialnych jest bardzo duża.
 Najbardziej pożądanymi formatami są formaty kompresujące dane.
 Formaty plików zapewniające tzw kompresję bezstratną (formaty 
\emph on
RAW
\emph default
 - surowe) są formatami pozwalającymi zachować najwyższą jakość obrazu lub
 dźwięku.
 Przykładami takich formatów są dla plików graficznych - RAW, natomiast
 audio - format FLAC (ang.
 
\emph on
Free Lossless Codec).
 
\emph default
Innym popularnym formatem dźwięku, który jest uważany za bardzo bliski oryginało
wi, dzięki pokrywaniu całego zakresu pasma częstotliwości słyszalnych jest
 kodowanie PCM, stosowane bardzo często w formacie WAV (http://pl.wikipedia.org/wi
ki/PCM).
 Spośród plików wideo można wyróżnić formaty danych o niskiej kompresji
 stratnej.
 Przykładem takich plików są formaty MPEG-2 oraz MPEG-4.
 Drugi z nich pozwala na przesyłanie materiału HD i posiadają kompresję
 w stosunku 4:1 
\bar under
(skąd to wiem)
\bar default
.
 Wykorzystywany jest współcześnie w przesyłaniu cyfrowej telewizji naziemnej
 oraz częściowo satelitarnej.
\end_layout

\begin_layout Standard
W przypadku zdjęć prym wiedzie format JPEG, który jest ustandaryzowany przez
 organizację ISO/IEC 
\begin_inset CommandInset citation
LatexCommand cite
key "key-26"

\end_inset

, jest formatem kompresji stratnej.
 Jednakże kompromis między kompresją, a jakością obrazu (kompresja 10:1)
 jest na tyle zadowalający, że stał się najpopularniejszym formatem danych
 graficznych (z pominięciem zastosowań profesjonalnych, gdzie często wykorzystyw
ane są formaty bezstratne, bądź inne specjalistyczne, specyficzne dla oprogramow
ania obróbki grafiki).
\end_layout

\begin_layout Standard
Najpopularniejszym formatem audio dla przechowywania muzyki wśród końcowych
 użytkowników jest format MP3 (ang.
 
\emph on
MPEG-1/MPEG-2 Audio Layer 3
\emph default
).
 Jest standardem zdefiniowanym przez organizację IETF (ang.
 
\emph on
Internet Engineering Task Force
\emph default
) w dokumencie RFC 5219 
\begin_inset CommandInset citation
LatexCommand cite
key "key-43"

\end_inset

.
 W swojej pierwotnej, a zarazem najpopularniejszej wersji pozwala na zapis
 muzyki w postaci dźwięku jednokanałowego (mono) lub dwukanałowego (stereo)
 i oferuje najwyższy stopień kompresji, przy zachowaniu dobrej jakości dźwięku.
 W przypadku ścieżek dźwiękowych do filmów czętsze zastosowanie ma standard
 AC3 lub DTS (standard DLNA zapewnia wsparcie jedynie dla dźwięku AC3).
 Górują one nad MP3 możliwością przechowywania dźwięku przestrzennego.
\end_layout

\begin_layout Standard
W przypadku materiałów filmowych trudnym zadaniem jest jednoznaczne określenie
 najpopularniejszego formatu tego typu danych.
 W kolejnych podrozdziałach został dokładnie opisany ten rodzaj multimediów.
\end_layout

\begin_layout Subsection
Muzyka
\end_layout

\begin_layout Standard
Muzyke w kontekście udostępniania UPnP A/V oraz DLNA można rozumieć jako
 pliki audio zawierające utwory muzyczne lub ścieżki dźwiękowe.
 Ilość formatów kompresji danych audio jest bardzo wiele.
 Niektóre służą do przesyłania głosu (np.
 format GSM), jednak te dla udostępniania treści nie są istotne.
 Najpopularniejszymi formatami audio, bez względu czy jest to utwór muzyczny
 czy ścieżka dźwiękowa, są:
\end_layout

\begin_layout Itemize
AAC (ang.
 
\emph on
Advanced Audio Coding
\emph default
) oraz AAC+,
\end_layout

\begin_layout Itemize
AC3 (pełna nazwa - 
\emph on
Dolby Digital Audio Compression-3
\emph default
),
\end_layout

\begin_layout Itemize
FLAC (ang.
 
\emph on
Free Lossless Audio Codec
\emph default
),
\end_layout

\begin_layout Itemize
MP2 (ang.
 
\emph on
MPEG-1 Audio Layer-2)
\emph default
,
\end_layout

\begin_layout Itemize
MP3 (ang.
 
\emph on
MPEG Audio Layer-
\emph default
3),
\end_layout

\begin_layout Itemize
RealAudio,
\end_layout

\begin_layout Itemize
WAV (ang.
 
\emph on
Waveform Audio File Format
\emph default
),
\end_layout

\begin_layout Itemize
WMA (ang.
 
\emph on
Windows Media Audio).
\end_layout

\begin_layout Subsection
Obrazy
\end_layout

\begin_layout Standard
Pośród plików graficznych istnieje podział na pliki grafiki rastrowej oraz
 pliki grafiki wektorowej.
 Na potrzeby tworzenia zdjęć wykorzystywany jest pierwszy z wymienionych
 typów.
 Typy te posiadają, kolejny podział.
 Pełne zobrazowanie ów podziału jest widoczne w tabeli 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Podział-formatów-plików"

\end_inset

.
 Jak już zostało wcześniej wspomniane ilość wymaganych formatów do obsługi
 w specyfikacji DLNA jest mały (w porównaniu z ilością przykładowych formatów
 plików graficznych wymienionych w tabeli).
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:Podział-formatów-plików"

\end_inset

Podział formatów plików graficznych (wiki)
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="3" columns="3">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Format
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Podział
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Przykłady plików graficznych
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="2" columns="1">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Grafika
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
rastrowa
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="3" columns="1">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="2" columns="1">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
używające
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
kompresji stratnej
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="2" columns="1">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
używające
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
kompresji bezstratnej
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset

 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="2" columns="1">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
bez kompresji
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="3" columns="1">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="2" columns="1">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
DjVu, JBIG, JBIG2, JNG, JPEG, JPEG LS,
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
JPEG 2000, JPEG XR, TIFF, WebP, WMF
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset

 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="2" columns="1">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
APNG, BMP, GIF, LWF, MNG,
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
PCX, PNG, TGA, TIFF, WMF
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset

 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="2" columns="1">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
BMP, DNG, PNM, PSD, RAW, TGA,
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
 TIFF, WBMP, WMF, XCF, XPM
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="2" columns="1">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Grafika
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
wektorowa
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
nie dotyczy
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="2" columns="1">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Al, CDR, EPS, DXF, DWF,
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
 DWG, SVG, SWF, WMF
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Pliki graficzne zawierające zdjęcia, najczęściej przechowywane są w formacie
 JPEG, ewentualnie PNG.
 Pierwszy z nich przeznaczony jest do zapisów obrazów naturalnych, w którym
 nie ma konieczności dokładnego odwzorowania ostrych krawędzi oraz uwydatniania
 szczegółów.JPEG jest standardem organizacji ISO o nazwie ISO/IEC IS 10918-1
 oraz ITU-T Recommendation T.81 (standard dwuczęściowy).
 Drugi z nich, format PNG (ang.
 
\emph on
Portable Network Graphics
\emph default
), został stworzony do wykorzystywania w sieci Internet, jako pliki graficzne
 stron www.
 Znalazł jednakże zastosowanie w fotografii, dzięki możliwości zapisu w
 formacie kompresji bezstratnej.
 
\begin_inset CommandInset citation
LatexCommand cite
key "key-44"

\end_inset


\end_layout

\begin_layout Subsection
Filmy
\end_layout

\begin_layout Standard
Film można podzielić zgodnie z następującym schematem:
\end_layout

\begin_layout Itemize
Kontener filmowy(np.
 AVI, MKV)
\end_layout

\begin_deeper
\begin_layout Itemize
Format wideo (np.
 MPEG-2),
\end_layout

\begin_layout Itemize
Format audio (np.
 AC3),
\end_layout

\begin_layout Itemize
Napisy,
\end_layout

\begin_layout Itemize
Rozdziały,
\end_layout

\begin_layout Itemize
Metadane opisujące powyższe dane.
\end_layout

\end_deeper
\begin_layout Standard
Istnieje wiele rodzajów kontenerów.
 Część z nich ma przeznaczenie do udostępniania multimediów w sieci internetowej
 (Flash), inne są dedykowane dla urządzeń mobilnych (MP4).
 Najpopularniejszymi kontenerami multimedialnymi są:
\end_layout

\begin_layout Itemize
AVI (rozszerzenie AVI),
\end_layout

\begin_layout Itemize
Matroska (rozszerzenie MKV),
\end_layout

\begin_layout Itemize
Flash (rozszerzenie FLV lub F4V).
\end_layout

\begin_layout Itemize
MP4,
\end_layout

\begin_layout Itemize
DivX.
\end_layout

\begin_layout Standard
Kontenery różnią się metadanymi opisującymi pliki oraz możliwościami we
 wspieraniu przechowywanych formatów danych.
 Tabela porównawcza formatów AVI i MKV pokazuje podstawowe różnice między
 tymi formatami (tabela 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Porównanie-formatów-AVI"

\end_inset

).
\end_layout

\begin_layout Standard
Materiał wideo w filmach może być kodowany w formatach, takich jak:
\end_layout

\begin_layout Itemize
MPEG-1,
\end_layout

\begin_layout Itemize
MPEG-2
\end_layout

\begin_layout Itemize
MPEG-4 AVC / H.264,
\end_layout

\begin_layout Itemize
WMV (ang.
 
\emph on
Windows Media Video
\emph default
),
\end_layout

\begin_layout Itemize
RealVideo.
\end_layout

\begin_layout Standard
Kontenery filmowe pozwalają przewchowywać różne formaty wideo (część z nich
 widoczna jest powyżej), różne formaty audio (jeden plik może zawierać kilka
 ścieżek audio w różnych formatach np.
 MP3 lub AC3).
 Niektóre umożliwiają przechowywanie w kontenerze plików z napisami (we
 wspieranych formatach), posiadają możliwości podziału materiału na sekcję
 lub przechowywania materiału trójwymiarowego 3D.
 Wszystkie dane co przechowywane jest w danym pliku zawierają się metadanych
 pliku.
 Każdy rodzaj konteneru posiada (niestety) zróżnicowany sposób tworzenia
 metadanych.
 Utrudnia to w znaczący sposób łatwe wsparcie jak ich największej ilości.
\end_layout

\begin_layout Standard
Oddzielnym tematem są formaty płyt Blu-Ray, bądź DVD.
 Formaty te posiadają specjalną strukturę plików oraz schemat katalogów,
 według których umieszczone są odpowiednie dane.
 W uproszczeniu można powiedzieć, że nośnik Blu-Ray jest kontenerem multimedialn
ym, takim jak AVI czy MKV.
 Podobna sytuacja ma miejsce w przypadku płyt DVD.
 
\end_layout

\begin_layout Standard
Płyta Blu-Ray, zgodna ze standardem posiada drzewo, składające się z dwóch
 plików 
\begin_inset Quotes pld
\end_inset

index.bdmv
\begin_inset Quotes prd
\end_inset

 (zawierający informacje o zawartości katalogów płyty BD), MovieObject.bdmv
 (zawierający informacje o obiektach filmowych) oraz katalogów: PLAYLIST
 (lista odtwarzania filmu / rozdziały), CLIPINF (informacje o klipach wideo),
 STREAM (strumień audio wideo w kontenerze m2ts - ang.
 MPEG-2 Transport Stream), AUXDATA (pliki dźwiękowe oraz czcionki dla plików
 z napisami), BACKUP (katalogów zawierający kopie zapasowe plików index.bdmv
 oraz MovieObject.bdmv).
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:Porównanie-formatów-AVI"

\end_inset

Porównanie kontenerów AVI i MKV
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="3" columns="5">
<features islongtable="true" longtabularalignment="center">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0pt">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Format
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Rozdziały
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Napisy
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Formaty wideo
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Formaty audio
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
AVI
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
TAK
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
NIE
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="2" columns="1">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
MPEG-1, MPEG-2,
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
WMV, RealVideo
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="2" columns="1">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0pt">
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
MP3, WMA, AAC, 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
AC-3, DTS, PCM
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
MKV*
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
TAK
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
TAK
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="4" columns="1">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
MPEG-1, 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
MPEG-2,
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
MPEG-4 AVC,
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
WMV, RealVideo
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="4" columns="1">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0pt">
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
MP3, WMA,
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
AAC, AC-3,
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
DTS, PCM, RealAudio,
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Vorbis, APE, Flac, DTS-HD
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset

 
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
* - kontener MKV wirtualnie może zawierać dowolną zawartość wideo oraz audio
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Film może posiadać wiele ścieżek dźwiękowych np.
 różne wersje językowe lub lektora.
 Płyty DVD oraz Blu-Ray w standardzie swoim mają możliwość zamieszczania
 wielu ścieżek dźwiękowych.
 Podobna sytuacja ma miejsce w przypadku kontenerów danych takich jak AVI
 oraz Matroska.
 Oprogramowanie udostępniające materiały multimedialne powinno zapewniać
 możliwość wyboru ścieżki dźwiękowej.
 W tym celu konieczne jest poprawne odczytywanie metadanych dostarczanych
 wraz z kontenerem multimedialnym.
 Filmy DVD oraz Blu-Ray ponadto, że umożliwiają zmianę ścieżki dźwiękowej,
 wprowadziły do zestawów kina domowego możliwość wyświetlania napisów w
 filmach (przedtem napisy były cechą wyróżniającą kina).
 W przypadku płyt DVD napisy są przechowywane w formacie bitmapowym, co
 wykracza poza standardy UPnP oraz DLNA (dla napisów), dlatego też nie są
 one obsługiwane do udostępniania.
 Płyty Bluray posiadają standard zbliżony do płyt DVD (napisy PGS - ang.
 
\emph on
Presentation Graphic Stream
\emph default
).
 Łatwiejszym przypadkiem są kontenery plików.
 Napisy w przypadku tego typu filmów mają postać pliku tekstowego.
 Plik z napisami może być wbudowany w kontener, a może być udostępniany
 jako oddzielny plik (zazwyczaj w tym samym folderze i tej samej nazwie
 co film).
\end_layout

\begin_layout Standard
Istnieje wiele standardów napisów do filmów, które mogą być w prosty sposób
 przechowywany na dysku twardym komputera stacjonarnego.
 Głównymi standardami spotykanymi powszechnie w Internecie są MicroDVD oraz
 SubRip.
 Istnieje wiele formatów, jednakże standard DLNA pomija te cechy filmów
 i nie specyfikuje jakie rodzaje napisów powinny być obsługiwane oraz w
 jaki sposób.
 Informacje o sposobie udostępniania napisów zostały określone jedynie w
 specyfikacji UPnP A/V dla urządzeń renderujących [http://www.upnp.org/specs/av/UP
nP-av-RenderingControl-v3-Service-20101231.pdf].
\end_layout

\begin_layout Standard
Brak jednoznacznych rozwiązań w kwestii napisów do filmów, sprawił, że producenc
i w wielu przypadkach we własnym zakresie zapewniają ich wsparcie.
 Odtwarzacze multimediów podłączonych przez złącze USB w telewizorach ma
 zazwyczaj możliwość odtwarzania napisów w wersji tekstowej, w formatach
 MicroDVD lub SubRIP.
 Takie samo podejście zostało zastosowane w odtwarzaczach DLNA.
 Obsługują one jeden z dwóch rodzajów napisów, a w gestii serwera leży,
 aby w odpowiednim formacie takie napisy udostępnić (lub samodzielnie przekonwer
tować do obsługiwanego formatu).
\end_layout

\begin_layout Subsubsection
Kodowanie i kompresja filmów
\end_layout

\begin_layout Standard
Niniejszy podrozdział jest poświęcony jedynie tematyce kodowania filmów,
 z pominięciem roli kontenerów multimedialnych.
 Kodowanie służy do przedstawienia materiału wideo w reprezentacji kodu
 binarnego.
 Kompresja natomiast to takie kodowanie, które zmniejsza wielkość strumienia
 wideo, przy spadku jakości.
 Obecnie najpopularniejszymi koderem jest kodek MPEG-4 AVC (ang.
 
\emph on
Advanced Video Coding
\emph default
).
 Jest to obecnie najbardziej wydajny standard kodowania, pozwalający uzyskać
 bardzo dobrą jakość obrazu, o rozdzielczości do Full HD (1920 x 1080i).
 Coraz powszechniej jest wykorzystywany w transmisjach telewizyjnych, w
 kompresji filmów Blu-ray.
 Opisywany kodek jest zamiennie nazywany MPEG-4 AVC lub H.264.
 W fazie początkowej były to dwa różne standardy, jednakże w kolejnych etapach
 projekty zostały połączone.
 Standard jest opisany w dokumencie 
\emph on
MPEG-4 Part 10, Advanced Video Coding 
\begin_inset CommandInset citation
LatexCommand cite
key "key-35"

\end_inset

.
\end_layout

\begin_layout Standard
Urządzenia DLNA (i nie tylko) posiadają wbudowane dekodery formatów wideo.
 Obecnie najpopularniejszym dekoderem znajdującym się w kartach graficznych,
 telewizorach i innych urządzeniach odtwarzających jest dekoder MPEG-4 AVC/H.264.
 Są to najnowocześniejsze dekodery umożliwiające odtworzenie prawie każdego
 dostępnego współcześnie materiału wideo.
 
\end_layout

\begin_layout Part
Implementacja serwera UPnP A/V
\end_layout

\begin_layout Chapter
Oprogramowanie serwera UPnP A/V
\end_layout

\begin_layout Standard
Większość współczesnych odtwarzaczy Blu-ray, telewizorów, dekoderów i podobnych
 urządzeń RTV posiada złącze Ethernet (lub moduł 
\emph on
WiFi
\emph default
).
 Umożliwia ono podłączenie urządzenia do sieci lokalnej i Internetu.
 Takie urządzenia posiadają oprogramowanie umożliwiające wyszukiwać oraz
 odtwarzać materiały udostępniane przez serwery UPnP A/V oraz DLNA.
 Autor na potrzeby niniejszej pracy stworzył w pełni funkcjonalny serwer
 UPnP A/V współpracujący z urządzeniami UPnP A/V i DLNA.
 Głównym celem aplikacji było umożliwenie kooperacji dwóch urządzeń ze sobą,
 w taki sposób, aby odtwarzacz potrafił wykorzystać jak największą możliwą
 ilość funkcji określoną w specyfikacjach UPnP A/V oraz DLNA.
\end_layout

\begin_layout Section
Wymagania wstępne
\end_layout

\begin_layout Standard
Zdefiniowanie środowiska do implementacji oprogramowania było bardzo ważnym
 wyborem.
 Autor do codziennej pracy używa systemu operacyjnego z rodziny Linux.
 Jednakże większość użytkowników komputerów typu PC używa systemu operacyjnego
 Microsoft Windows.
 Są to istotne argumenty by środowisko implementacji zapewniało kompatybilność
 z oboma systemami operacyjnymi.
 Pierwszym wyborem, ze względu na biegłą znajomość języka programistycznego
 przez autora, było środowisko języka Java.
\end_layout

\begin_layout Standard
W dzisiejszych czasach coraz więcej urządzeń sieci lokalnej nie jest oparta
 o architekturę PC (architekturę x86 lub amd64).
 Przykładami takich urządzeń mogą być routery lub smartfony (np.
 architektura ARM).
 Pierwsze z nich, coraz częściej są wyposażone w złącza USB oraz posiadają
 załączone oprogramowanie do udostępniania multimediów.
 Z doświadczeń własnych autora, wynika jednak, że zakres możliwości oraz
 wydajność takiego oprogramowania pozostawia wiele do życzenia.
 Skutecznie udostępniane są jedynie zdjęcia, natomiast użytkownicy natrafiają
 na problemy w kwestii odtwarzania filmów oraz muzyki (trend coraz wyraźniej
 odwraca się w przypadku smartfonów).
\end_layout

\begin_layout Standard
W tabeli 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Platformy-obsługiwane-przez"

\end_inset

 zostały zdefiniowane platformy konieczne do obsługiwania przez serwer UPnP
 A/V.
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:Platformy-obsługiwane-przez"

\end_inset

Platformy obsługiwane przez serwer UPnP A/V
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="5" columns="2">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Klasa urządzenia
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
System operacyjny
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="3" alignment="left" valignment="middle" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Router
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
DD-WRT
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Tomato
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="3" alignment="left" valignment="middle" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
PC
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Windows
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Linux
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
W przypadku środowiska Java wymienione we wcześniejszych akapitach wymagania
 mogą być z łatwością realizowane.
 Jednakże obciążenie procesora (system operacyjny Ubuntu 11.10) dla prostej
 aplikacji UPnP A/V wynosiło około 5%.
 Analiza materiałów udostępnianych w Internecie oraz doświadczenie z użytkowania
 aplikacji Java, poddawała w wątpliwość wydajną pracę serwera zaprojektowanego
 w tym języku na mało wydajnych urządzeniach (np.
 routery).
 Po kilku próbah uruchomienia serwera Tomcat na routerze firmy Linksys E3000,
 autor podjął decyzję o zaprzestaniu dalszych prób i poszukiwaniu odpowiedniego
 środowiska do stworzenia aplikacji.
 Wybór padł na język Python do realizacji oprogramowania.
\end_layout

\begin_layout Standard
Pozostałe wymagania zostały narzucone przez standardy UPnP A/V i DLNA, co
 prosto można określić jako wymaganie pełnej współpracy z certyfikowanymi
 urządzeniami DLNA lub UPnP.
 Głównymi wymaganiami są:
\end_layout

\begin_layout Itemize
współpraca z podstawowymi urządzeniami DLNA - telewizorami, odtwarzaczami
 Blu-ray, odtwarzaczami DVD itd.,
\end_layout

\begin_layout Itemize
odtwarzanie (o ile podstawowy odtwarzacz urządzenia ma taką możliwość) konteneró
w muzycznych i filmowych np.
 kontener Matroska - pliki MKV,
\end_layout

\begin_layout Itemize
odtwarzanie napisów w filmach i muzyce (np.
 do karaoke, specjalny tryb serwera), zarówno z plików tekstowych, jak i
 z kontenerów (w tym przypadku tylko pliki Matroska, MKV),
\end_layout

\begin_layout Itemize
przewijanie materiałów,
\end_layout

\begin_layout Itemize
udostępnianie materiałów w najlepszej jakości,
\end_layout

\begin_layout Itemize
dodawanie / usuwanie udostępnianej zawartości bez konieczności ponownego
 uruchamiania oprogramowania,
\end_layout

\begin_layout Itemize
tworzenie albumów, klasyfikacji treści w logicznych katalogach,
\end_layout

\begin_layout Itemize
opcjonalne - transkodowanie.
\end_layout

\begin_layout Standard
W oprogramowaniu autor jako opcjonalne wymaganie zdefiniował renderowanie
 filmów do gorszej jakości w locie.
 W chwili obecnej większość nowoczesnego sprzętu na rynku obsługuje dużą
 ilość formatów i mimo możliwości sprzętowych, to oprogramowanie odtwarzacza
 DLNA nie potrafi prawidłowo wynegocjować jakości transmisji.
 Bardzo często odtwarzacze są stworzone z minimalnymi wymaganiami certyfikacji,
 co powoduje komunikat o niekompatybilności materiału, pomimo, że w rzeczywistoś
ci taka sytuacja nie ma miejsca.
 Z tego powodu autor skupił się podczas tworzenia oprogramowania serwera
 na ominięciu 
\begin_inset Quotes pld
\end_inset

przeszkód
\begin_inset Quotes prd
\end_inset

 postawionych przez większość producentów i wymuszenie odtwarzania materiałów
 na każdym urządzeniu.
\end_layout

\begin_layout Standard
Nie wszystkie urządzenia, na których ma być uruchomiony serwer multimedialny,
 muszą posiadać interfejs graficzny użytkownika.
 Serwerze UPnP A/V/DLNA jest dostarczany wraz z oprogramowaniem serwera
 www i interfejsem strony internetowej jako interfejsem użytkownika, wykorzystyw
anym do zarządzania serwerem oraz uruchamiania go.
\end_layout

\begin_layout Standard
Serwer nie obsługuje mechanizmów ochrony treści DRM (ang.
 
\emph on
Digital Rights Managment
\emph default
).
 System ten nie wspiera systemu operacyjnego z rodziny Linux, dlatego też
 autor nie wdrożył jego obsługi.
\end_layout

\begin_layout Section
Wykorzystane narzędzia
\end_layout

\begin_layout Standard
Aplikacja serwera UPnP A/V została napisana w języku Python (wersja 2.7).
 Jej szkielet został oparty o zmodyfikowaną wersję framework'a 
\emph on
Coherence, 
\emph default
opisanego w rozdziale 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Framework’i-UPnP"

\end_inset

.

\emph on
 
\emph default
Druga aplikacja, zapewniająca zarządzanie serwerem została napisana w języku
 Python, HTML oraz Javascript z wykorzystaniem popularnego framework'a Django.
\end_layout

\begin_layout Standard
Aplikacja jest zarządzana przez narzędzie kontroli wersję Git na darmowym
 serwerze Github.com
\end_layout

\begin_layout Standard
Wykorzystane narzędzia na potrzeby opisywanego zestawu aplikacji to:
\end_layout

\begin_layout Itemize
platforma Eclipse 3.6,
\end_layout

\begin_deeper
\begin_layout Itemize
języki programowania: 
\end_layout

\begin_deeper
\begin_layout Itemize
Python 2.7, 
\end_layout

\begin_layout Itemize
HTML 4, 
\end_layout

\begin_layout Itemize
Javascript, 
\end_layout

\begin_layout Itemize
Django 1.3.1, 
\end_layout

\begin_layout Itemize
T-SQL,
\end_layout

\end_deeper
\begin_layout Itemize
framework'i
\end_layout

\begin_deeper
\begin_layout Itemize

\emph on
Coherence DLNA, 
\end_layout

\begin_layout Itemize

\emph on
Django 1.3.1, 
\end_layout

\begin_layout Itemize

\emph on
JSONRPC, 
\end_layout

\begin_layout Itemize

\emph on
Storm.
\end_layout

\end_deeper
\end_deeper
\begin_layout Itemize
GIMP 2.8 do tworzenia grafiki aplikacji
\end_layout

\begin_layout Itemize
odtwarzacze UPnP A/V / DLNA do testów
\end_layout

\begin_layout Itemize
GIT - do zarządzania wersjami oprogramowania.
\end_layout

\begin_layout Subsection
\begin_inset CommandInset label
LatexCommand label
name "sub:Framework’i-UPnP"

\end_inset

Framework’i UPnP
\end_layout

\begin_layout Standard
W internecie można odnaleźć bardzo dużo framework'ów, które obsługują UPnP
 A/V oraz DLNA.
 Przed wyborem języka programowania autor skupił się na poszukiwaniu odpowiednie
go środowiska (framework'a), który wspiera komunikację w sieci multimedialnej,
 posiada darmową, otwartą do modyfikacji licencję oraz nie obciąża w znaczący
 sposób systemu operacyjnego.
 Autor nie odnalazł framework'a, który natywnie wspierałby specyfikację
 DLNA.
 Jest to spowodowane prawdopodobnie koniecznością ponoszenia kosztów licencji
 DLNA.
 Liczba framework'ów, które wspierają protokół UPnP oraz UPnP A/V, pomimo
 że nie jest duża, to jest w zadowalający sposób zaimplementowana, dzięki
 czemu autor nie musiał zaprogramować niższych warstw opisywanego protokołu.
\end_layout

\begin_layout Standard
Pierwszym framework'iem, prawdopodobnie najnowszym i najczęściej aktualizowanym
 jest oprogramowanie 
\emph on
Cling
\emph default
 
\begin_inset CommandInset citation
LatexCommand cite
key "key-27"

\end_inset

.
 Jest to biblioteka, której zadaniem docelowym (jest wciąż w fazie rozwoju
 i wiele funkcji nie jest jeszcze zaimplementowanych) jest pełne wsparcie
 protokołu UPnP.
 Nie implementuje zmian wprowadzonych przez zrzeszenie DLNA.
 Jest napisana w języku Java, możliwe jest jej wykorzystanie zarówno w oprogramo
waniu dla komputerów klasy PC, jak i oprogramowaniu Java dla smartfonów
 z systemem operacyjnym Android.
 Autor odrzucił jej wykorzystanie, gdyż w ówczesnym stadium rozwoju implementowa
ła zbyt małą liczbę koniecznych do komunikacji funkcji oraz niemożliwe byłoby
 jej wykorzystanie na urządzeniach o bardzo małych możliwościach wydajnościowych
 (np.
 routery).
\end_layout

\begin_layout Standard
Drugim branym pod uwagę jako podstawę do aplikacji serwera UPnP A/V framework'ie
m był 
\emph on
CyberLink for Java 
\begin_inset CommandInset citation
LatexCommand cite
key "key-28"

\end_inset

.
 
\emph default
Jest to pakiet oprogramowania umożliwiający twórcom aplikacji komunikację
 w sieci UPnP.
 Posiada wiele popularnych dla oprogramowania UPnP przykładów, np.
 włączanie i wyłączanie żarówki.
 Niestety w chwili porównywania możliwości framework'ów opisywany projekt
 nie był rozwijany i jego ostatnia aktualizacja datowana była na 2003 rok.
 Natomiast w trakcie pisania niniejszej pracy (już po stworzeniu oprogramowania)
 projektu został wznowiony poprzez dodanie wsparcia dla pisania aplikacji
 UPnP do obsługi urządzeń mobilnych z systemem operacyjnym Android.
 
\emph on
CyberLink for Java
\emph default
 jest rozwijany na licencji nie zezwalającej na modyfikacje kodu źródłowego.
\end_layout

\begin_layout Standard
Autor rozważał również wykorzystanie bibliotek popularnego w środowisku
 
\emph on
Linux 
\emph default
programu MiniUPnP 
\begin_inset CommandInset citation
LatexCommand cite
key "key-29"

\end_inset

 lub MiniDLNA 
\begin_inset CommandInset citation
LatexCommand cite
key "key-30"

\end_inset

.
 Niestety oba umożliwiają wykorzystanie we własnym oprogramowaniu udostępnionych
 bibliotek klienckich, a celem projektu było stworzenie serwera UPnP A/V.
\end_layout

\begin_layout Standard
Ostatnim opisanym w niniejszym podrozdziale będzie 
\emph on
Coherence DLNA/UPNP Framework for Digital Living 
\begin_inset CommandInset citation
LatexCommand cite
key "key-31"

\end_inset

.
 
\emph default
Pomimo, że opisywany jako ostatni to spełnił najwięcej wymagań stawianych
 przez autora i dlatego został przez niego wybrany jako szkielet napisanej
 aplikacji.
 
\emph on
Coherence 
\emph default
jest zarówno programem udostępniającym prosty serwer multimediów, serwer
 renderujący.
 Posiada wiele wtyczek do popularnych programów (np.
 Rhytmbox, Totem, Picasa).
 Jest na bieżąco rozwijany, zaś jego licencja - MIT 
\begin_inset CommandInset citation
LatexCommand cite
key "key-32"

\end_inset

,zezwala na swobodną modyfikację.
 Jest napisany w języku Python.
 Dla deweloperów najważniejsze jest, że oprogramowanie zapewnia komunikację
 (wykrywanie, ogłaszanie urządzeń) oraz posiada 
\begin_inset Quotes pld
\end_inset

szablony
\begin_inset Quotes prd
\end_inset

, to jest przykładowe aplikacje z funkcjonalnością udostępniania albumów,
 filmów itd.
 Niestety testy oprogramowania wykazały, że sposób implementacji protokołu
 nie zapewnia komunikacji z wieloma urządzeniami (w tym mobilnymi).
 Autor zdecydował się wykorzystać w swoim oprogramowaniu opisywany framework
 oraz wprowadzić w nim niezbędne modyfikacje, co dzięki liberalnej licencji
 MIT było możliwe.
\end_layout

\begin_layout Section
Opis programu
\end_layout

\begin_layout Standard
Zaprojektowana aplikacja do udostępniania materiałów multimedialnych, jest
 w rzeczywistości zestawem dwóch niezależnych od siebie programów.
 Pierwsza aplikacja jest serwerem UPnP A/V który komunikuje się bezpośrednio
 z odtwarzaczami DLNA oraz UPnP A/V.
 Natomiast druga aplikacja służy do zarządzania współdzielonymi zasobami
 oraz ustawieniami 
\begin_inset Quotes pld
\end_inset

technicznymi
\begin_inset Quotes prd
\end_inset

 serwera.
\end_layout

\begin_layout Standard
Aplikacja posiada wbudowane wyszukiwanie multimediów różnych rodzajów w
 lokalizacjach, które użytkownik wcześniej zdefiniował.
 W przypadku podkatalogów stosowane jest przeszukiwanie rekursywne.
 Serwer UPnP A/V interpretuje zawartość katalogów i określa te pliki, które
 są filmami, plikami tekstowymi (które są napisami do filmów), muzycznymi
 oraz zdjęciami.
 Pliki w odtwarzaczu mogą być przeglądane w katalogach oddających strukturę
 w systemie plików serwera oraz w kategoriach (wirtualnych katalogach) predefini
owanych oraz zdefiniowanych przez użytkownika.
\end_layout

\begin_layout Section
Funkcje programu
\end_layout

\begin_layout Standard
Aplikacja składa się z dwóch modułów:
\end_layout

\begin_layout Itemize
serwer UPnP A/V,
\end_layout

\begin_layout Itemize
aplikacji zarządzającej.
\end_layout

\begin_layout Standard
Funkcje pierwszego z modułów to:
\end_layout

\begin_layout Itemize
ogłaszanie aktywności dla innych urządzeń UPnP,
\end_layout

\begin_layout Itemize
wysyłanie, odpowiadanie na aktywność UPnP,
\end_layout

\begin_layout Itemize
wyszukiwanie multimediów: filmów, plików z napisami, muzyki, obrazów,
\end_layout

\begin_layout Itemize
tworzenie biblioteki multimediów:
\end_layout

\begin_deeper
\begin_layout Itemize
zgodnie ze strukturą katalogów,
\end_layout

\begin_layout Itemize
według typów plików (sortowanie według typów multimedialnych MIME),
\end_layout

\begin_layout Itemize
według typów zawartości:
\end_layout

\begin_deeper
\begin_layout Itemize
Muzyka,
\end_layout

\begin_layout Itemize
Wideo,
\end_layout

\begin_layout Itemize
Zdjęcia.
\end_layout

\end_deeper
\end_deeper
\begin_layout Itemize
udostępnianie w językach (wyboru należy dokonać w ustawieniach lub jest
 zgodny z językiem deklarowanym przez odtwarzacz multimedialny):
\end_layout

\begin_deeper
\begin_layout Itemize
angielskim,
\end_layout

\begin_layout Itemize
polskim,
\end_layout

\end_deeper
\begin_layout Itemize
udostępnianie informacji o plikach
\end_layout

\begin_deeper
\begin_layout Itemize
rozdzielczość,
\end_layout

\begin_layout Itemize
rodzaj,
\end_layout

\begin_layout Itemize
rozszerzenie,
\end_layout

\begin_layout Itemize
czas trwania,
\end_layout

\begin_layout Itemize
jakość,
\end_layout

\begin_layout Itemize
data dodania,
\end_layout

\begin_layout Itemize
rozmiar pliku,
\end_layout

\begin_layout Itemize
lokalizacja pliku.
\end_layout

\end_deeper
\begin_layout Subsection
Biblioteka multimediów
\end_layout

\begin_layout Standard
Biblioteka multimediów jest zbiorem plików udostępnianych przez serwer UPnP
 A/V.
 W opisywanej aplikacji biblioteka została podzielona na kilka głównych
 kategorii.
 Pierwszą z nich jest odwzorowanie zgodnie z położeniem w systemie plików
 (gdy to możliwe wyświetlana jest tylko nazwa katalogu nadrzędnego, w którym
 znajduje bądź znajdują się pliki multimedialne).
 Oznacza to, że przy pomocy odtwarzacza UPnP A/V lub DLNA użytkownik może
 nawigować do przeglądania zawartości serwera i do sekcji 
\begin_inset Quotes pld
\end_inset

Katalogi
\begin_inset Quotes prd
\end_inset

 (ang.
 
\emph on

\begin_inset Quotes pld
\end_inset

Directories
\emph default

\begin_inset Quotes prd
\end_inset

).
 W dalszej kolejności wyświetlane są nazwy katalogów z plikami multimedialnymi.
\end_layout

\begin_layout Standard
Kolejnym krokiem nawigacji może być pozycja o tytule 
\begin_inset Quotes pld
\end_inset

Typy MIME
\begin_inset Quotes prd
\end_inset

 (ang.
 
\begin_inset Quotes pld
\end_inset


\emph on
Mimetypes
\emph default

\begin_inset Quotes prd
\end_inset

), w którym wyselekcjonowane materiały są dzielone według swoich typów MIME.
\end_layout

\begin_layout Standard
Dalszymi dostępnymi ścieżkami są następujące kategorie: 
\end_layout

\begin_layout Itemize
Wideo (ang.
 
\emph on
Video
\emph default
), 
\end_layout

\begin_layout Itemize
Muzyka (ang.
 
\emph on
Music
\emph default
), 
\end_layout

\begin_layout Itemize
Zdjęcia (ang.
 
\emph on
Images
\emph default
),
\end_layout

\begin_layout Standard
Pliki są segregowane przez algorytm zgodnie ze swoją kategorią (zgodnie
 z typem MIME), a następnie umieszczane w odpowiadającej kategorii bibliotece.
 Typ MIME w swojej nazwie dla każdej z bibliotek w pliku posiada cechę wspólną.
 W niniejszym przypadku pliki graficzne posiadają w typie MIME słowo 
\emph on
image
\emph default
, muzyka słowo 
\emph on
audio
\emph default
, natomiast materiały wideo, słowo 
\emph on
video
\emph default
.
 Umożliwia to kategoryzowanie plików.
 Przykładowy sposób selekcji plików, zgodnie z jego rozszerzeniem został
 przedstawiony w tabeli 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Katagolowanie-typów-MIME"

\end_inset

.
 Typ MIME jest rozpoznawany, dzięki rozszerzeniu pliku, dlatego wybór jakiego
 typu jest plik, należy do aplikacji.
 Oprogramowanie stworzone na potrzeby niniejszej pracy magisterskiej posiada
 wbudowany słownik, odwzorowujący rozszerzenie na typ MIME.
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:Katagolowanie-typów-MIME"

\end_inset

Katalogowanie typów MIME - przykład
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="8" columns="3">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Typ MIME
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Rozszerzenie pliku
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Kategoria
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
audio/mpeg
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
mp3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Muzyka
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
audio/x-wav
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
wav
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Muzyka
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
image/png
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
png
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Zdjęcia
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
image/jpeg
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
jpeg, jpg
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Zdjęcia
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
video/mpeg
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
mpeg mpg
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Wideo
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
video/x-matroska
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
mkv
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Wideo
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
video/x-msvideo
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
avi
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Wideo
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Dla każdego odnalezionego katalogu oraz pliku multimedialnego tworzony jest
 obiekt 
\emph on
MediaItem
\emph default
, który przechowuje niezbędne informacje o obiekcie dla serwera UPnP A/V.
 Dzięki odczytaniu informacji o obiekcie możliwe jest zwrócenie odtwarzaczom
 posiadanych informacje o pliku, katalogu lub katalogu wirtualnym.
\end_layout

\begin_layout Standard
Parametry możliwe do zwrócenia dla każdego z wcześniej wymienionych typów
 są umieszczone w tabeli 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Parametry-dla-kategorii"

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:Parametry-dla-kategorii"

\end_inset

Parametry dla kategorii UPnP
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="17" columns="5">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Pobierany parametr | Rodzaj
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Katalog
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Wideo
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Audio
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Zdjęcia
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Ścieżka URL
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Ilość podkatalogów
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Podkatalog
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Obiekt 
\emph on
MediaItem
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Katalog nadrzędny
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Inne katalogi nadrzędne
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ID
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Nazwa
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Okładka (miniatura)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Typ MIME
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Rozmiar
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Czas trwania
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Bitrate
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Kanały audio
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Napisy
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Rozdzielczość
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Biblioteka multimediów umożliwia dodawanie nowych kategorii w trakcie działania
 aplikacji bez konieczności przerywania jej działania.
 Odpowiada za to parametr zdefiniowany w specyfikacji UPnP - parametr aktualizac
ji (ang.
 
\emph on
updateID
\emph default
), który jest numerem sekwencyjnym określającym ilość zmian w danej bibliotece.
 Jeżeli odtwarzacz posiada dane o plikach z nieaktualnym parametrem aktualizacji
, wówczas pobiera od nowa listę multimediów.
 Aplikacja w podobny sposób reaguje na dodanie i usunięcie pliku (plików)
 do istniejącego już, w ścieżce wyszukiwania, katalogu.
\end_layout

\begin_layout Subsection
Miniatury multimediów
\end_layout

\begin_layout Standard
Miniatury multimediów nie są obowiązkową treścią, którą musi udostępniać
 serwer UPnP A/V oraz DLNA.
 Jednakże sposób udostępniania ich nie odbiega znacząco od sposobu udostępniania
 innych materiałów, dlatego autor uznał, że warto tą funkcje również zaimplement
ować.
\end_layout

\begin_layout Standard
Większość współczesnych systemów operacyjnych tworzy miniatury filmów oraz
 obrazów na własne potrzeby oraz często pobiera okładki albumów muzycznych
 z Internetu.
 Autor zdecydował się w pierwszej kolejności korzystać z miniatur stworzonych
 przez system operacyjny, zaś w dalszej kolejności na tworzenie miniatur
 przez jedną z klas serwera multimedialnego (w przypadku gdy miniatura systemu
 operacyjnego nie istnieje lub nie spełnia wymogów co do rozmiarów).
 Miniatura tworzona przez aplikację ma rozmiar 120 x 120 pikseli i jest
 zapisana w standardzie JPEG z tą samą nazwą pliku jaką posiada główny plik
 multimedialny, z przedrostkiem TH (od ang.
 
\emph on
Thumbnail
\emph default
 - miniatura).
\end_layout

\begin_layout Subsection
\begin_inset CommandInset label
LatexCommand label
name "sub:Zarządzanie-aplikacją"

\end_inset

Zarządzanie aplikacją
\end_layout

\begin_layout Standard
Serwer zarządzający serwerem multimediów UPnP A/V jest to aplikacja internetowa
 przygotowana w oparciu o framework 
\emph on
Django.
 
\emph default
Serwer WWW nasłuchuje domyślnie na porcie 8080 (zmiana portu jest możliwa
 poprzez modyfikację plików konfiguracyjnych 
\emph on
Django
\emph default
).
 Autor zaleca wykorzystywać serwer dostarczany wraz z 
\emph on
Django
\emph default
, lecz nie ma żadnych przeciwwskazań, aby wykorzystywać inne oprogramowanie
 serwerowe (np.
 serwer 
\emph on
Apache
\emph default
).
 Aplikacja zarządzająca podobnie, jak serwer UPnP A/V, jest dostępna w dwóch
 wersjach językowych: polskiej i angielskiej.
\end_layout

\begin_layout Standard
Do zarządzania opcjami aplikacji konieczne jest wykorzystanie przeglądarki
 WWW i nawigowanie do udotępnianej strony WWW np.
 
\begin_inset Flex URL
status collapsed

\begin_layout Plain Layout

http://localhost:8080/
\end_layout

\end_inset

.
 
\end_layout

\begin_layout Standard
W głównym menu można wybrać następujące opcje (pierwsza nazwa w języku polskim,
 druga w języku angielskim):
\end_layout

\begin_layout Itemize
status - 
\emph on
status
\emph default
,
\end_layout

\begin_layout Itemize
ustawienia - 
\emph on
settings
\emph default
,
\end_layout

\begin_layout Itemize
multimedia - 
\emph on
media
\emph default
,
\end_layout

\begin_layout Itemize
pomoc - 
\emph on
help
\emph default
.
\end_layout

\begin_layout Standard
Pierwszy ekran widoczny na rysunku 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Status-serwera-UPnP"

\end_inset

 wyświetla status serwera UPnP A/V oraz serwera RPC.
 Serwer RPC jest niezbędny do zmiany jakichkolwiek opcji, natomiast serwer
 UPnP A/V jest niezbędny do udostępniania multimediów w sieciach UPnP A/V
 oraz DLNA.
 Obie usługi mogą działać niezależnie, jednakże autor dla uproszczenia sposobu
 używania aplikacji uniemożliwił selektywne uruchamianie usług.
 
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Status-serwera-UPnP"

\end_inset

Status serwera UPnP A/V
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename dlnaserver_web1.png
	display false
	width 70page%

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Druga dostępna opcja, czyli 
\begin_inset Quotes pld
\end_inset

Ustawienia
\begin_inset Quotes prd
\end_inset

 (ang.
 
\emph on
settings
\emph default
) umożliwia modyfikację podstawowych funkcji serwera UPnP A/V.
 W niniejszej sekcji możliwa jest zmiana następujących opcji:
\end_layout

\begin_layout Itemize
nazwa serwera UPnP A/V,
\end_layout

\begin_layout Itemize
adres IP serwera UPnP A/V (domyślnie serwer działa na wszystkich ustanowionych
 adresach aktywnych kart sieciowych),
\end_layout

\begin_layout Itemize
port serwera UPnP A/V (domyślnie losowy),
\end_layout

\begin_layout Itemize
wzorzec ignorowania - np.
 ignorowanie plików o podanym rozszerzeniu - *.avi (domyślnie brak wzorca),
\end_layout

\begin_layout Itemize
stwórz oddzielny kontener typów MIME (domyślnie włączona),
\end_layout

\begin_layout Itemize
transkodowanie (domyślnie wyłączone),
\end_layout

\begin_layout Itemize
własna ikona serwera,
\end_layout

\begin_layout Itemize
maksymalna ilość przeszukania rekursywnego (domyślnie nieograniczona) -
 ile folderów 
\begin_inset Quotes pld
\end_inset

w dół
\begin_inset Quotes prd
\end_inset

 rekursywnie ma przeszukiwać algorytm tworzenia biblioteki multimediów.
\end_layout

\begin_layout Standard
Opisywane opcje zostały przedstawione na rysunku 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Ustawienia-serwera-UPnP"

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Ustawienia-serwera-UPnP"

\end_inset

Ustawienia serwera UPnP A/V
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename dlnaserver_web2.png
	display false
	width 70page%

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Kolejną opcją jest wybieranie katalogów do wyszukiwania multimediów.
 Została ona przez autora zatytułowana w wersji skróconej jako 
\begin_inset Quotes pld
\end_inset

Multimedia
\begin_inset Quotes prd
\end_inset

 (ang.
 
\emph on
Media
\emph default
).
 W niej możliwe jest dodawanie katalogów do przeszukiwania.
 Po dodaniu lub usunięciu wiersza ze ścieżką konieczne jest ręczne zapisanie
 zmiany poprzez wybranie przycisku 
\begin_inset Quotes pld
\end_inset

Zapisz
\begin_inset Quotes prd
\end_inset

 (ang.
 
\emph on
Save
\emph default
).
 Przycisk nie jest widoczny na rysunku 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Wybieranie-multimediów-dla"

\end_inset

, który przedstawia opisywaną w niniejszym akapicie część aplikacji.
 
\end_layout

\begin_layout Standard
Dodanie multimediów jest możliwe poprzez ręczne wpisanie absolutnej ścieżki
 do katalogu.
 Ścieżka relatywna może powodować niepoprawne wyszukiwanie materiałów np.
 ścieżka 
\begin_inset Quotes pld
\end_inset

~/Wideo
\begin_inset Quotes prd
\end_inset

 może być poprawnie przeszukana, gdy serwer jest uruchomiony przez tego
 samego użytkownika, co pożądany katalog Wideo, lecz niepoprawnie, gdy uruchomił
 go inny użytkownik systemu.
 Drugim sposobem dodania katalogu jest wybór opcji 
\begin_inset Quotes pld
\end_inset

Przeglądaj
\begin_inset Quotes prd
\end_inset

 (ang.
 
\emph on
Browse
\emph default
) i wybranie folderu, który zostanie przeszukany.
 W drugim przypadku ścieżka do folderu zostanie dodana do linii absolutnej
 ścieżki do katalogu (jest to opcja wygodniejsza dla niektórych użytkowników).
\end_layout

\begin_layout Standard
W przypadku braku katalogu lub innych problemów, serwer WWW wykonuje sprawdzenie
 poprawności wpisanych danych.
 W przypadku braku katalogu (lub innego błędu wyszukania folderu) obok wiersza
 ze ścieżką pojawia się czerwony znak 'X'.
 Jednakże aplikacja zarządzająca zezwoli na dodanie ścieżki do bazy danych
 i wyszukanie jej przez serwer UPnP A/V i to do niego należy ewentualne
 zadanie ignorowania niepoprawnych ścieżek.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Wybieranie-multimediów-dla"

\end_inset

Wybieranie multimediów dla serwera UPnP A/V
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename dlnaserver_web3.png
	display false
	width 70page%

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Ostatni z dostępnych ekranów, 
\begin_inset Quotes pld
\end_inset

Pomoc
\begin_inset Quotes prd
\end_inset

 (ang.
 
\emph on
Help
\emph default
) zawiera opis wszystkich opcji dostępnych w serwerze WWW, przybliżony sposób
 wyszukiwania serwera w odtwarzaczu UPnP A/V lub DLNA oraz uproszczoną specyfika
cję serwera UPnP A/V.
 Istnieją w niej informacje o rozszerzeniach wyszukiwanych plików multimedialnyc
h, sposobie dołączania załączników do plików (np.
 napisy), opis tworzenia miniatur oraz wymagane oprogramowania do działania
 opisywanej aplikacji.
 Plik pomocy dostępny jest również w postaci pliku PDF.
 Odnośnik do niego znajduje się w głównej sekcji strony 
\begin_inset Quotes pld
\end_inset

Pomoc
\begin_inset Quotes prd
\end_inset

.
\end_layout

\begin_layout Section
Budowa wewnętrzna modułu serwera UPnP A/V
\end_layout

\begin_layout Standard
Serwer multimedialny UPnP A/V / DLNA został wykonany w języku Python.
 Do jego realizacji wykorzystany został framework 
\emph on
Coherence DLNA/UPNP Framework for Digital Living,
\emph default
 którego opis znajduje się w rozdziale 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Framework’i-UPnP"

\end_inset

.
 Zestaw oprogramowania został podzielony na dwie niezależne aplikacje, serwer
 multimedialny UPnP A/V oraz serwer zarządzający.
 Każdy z nich składa się z wielu podmodułów.
 
\emph on
Dla rozróżnienia modułu serwera UPnP A/V od aplikacji głównej, pierwszy
 moduł w niniejszej pracy będzie nazywany serwerem multimediów.
\end_layout

\begin_layout Standard
Serwer multimedialny UPnP A/V udostępnia swoje funkcje poprzez protokół
 UPnP w wersji tylko do odczytu, oznacza to, że nie można modyfikować opcji
 serwer przy pomocy poleceń protokołu UPnP.
 Zarządzanie serwerem jest możliwe, poprzez wykorzystanie poleceń RPC wysyłanych
 do serwera RPC, będącego modułem wewnętrznym (podmodułem) serwer UPnP A/V.
 Polecenia do integralnego serwera RPC wysyłane są z drugiej aplikacji,
 serwera zarządzającego.
 Poprzez zarządzanie rozumiane są takie funkcje jak:
\end_layout

\begin_layout Itemize
uruchomienie / zatrzymanie serwera UPnP A/V,
\end_layout

\begin_layout Itemize
uruchomienie / zatrzymanie / uruchomienie ponowne serwera RPC,
\end_layout

\begin_layout Itemize
zatrzymanie / uruchomienie ponowne serwera zarządzającego,
\end_layout

\begin_layout Itemize
zmiana interfejsu sieciowego serwera UPnP A/V, bądź RPC,
\end_layout

\begin_layout Itemize
zmiana portu zarządzającego serwerem RPC,
\end_layout

\begin_layout Itemize
dodawanie, modyfikacja, usuwanie ścieżek, z których są udostępniane multimedia,
\end_layout

\begin_layout Itemize
tworzenie, modyfikacja, usuwanie wirtualnych bibliotek UPnP A/V,
\end_layout

\begin_layout Itemize
wymuszanie ponownego przeskanowania folderów w celu znalezienia plików multimedi
alnych,
\end_layout

\begin_layout Itemize
zmiana loga serwera UPnP A/V, widocznego w odtwarzaczu UPnP A/V bądź DLNA.
\end_layout

\begin_layout Standard
Dokładny opis funkcjonalny oraz opis interfejsu użytkownika, serwera zarządzając
ego zostały przedstawione w podrozdziale 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Zarządzanie-aplikacją"

\end_inset

.
\end_layout

\begin_layout Standard
W całej aplikacji wykorzystywane są bazy danych 
\emph on
SQLite 
\emph default
w wersji 3
\emph on
 
\emph default
(zawierającymi np.
 ścieżki do przeszukiwania).
 Jest to wybór stosunkowo oczywisty w kontekście umożliwienia działania
 na urządzeniach o niskiej wydajności.
 Baza danych 
\emph on
SQLite
\emph default
 została stworzona z myślą o przechowywaniu małej ilości rekodordów.
 Obsługuje się ją poprzez zewnętrzną bibliotekę.
 W wypadku opisywanej aplikacji wykorzystany został framework 
\emph on
SQLAlchemy 
\emph default
(wersja 0.6) 
\begin_inset CommandInset citation
LatexCommand cite
key "key-36"

\end_inset

, który dzięki swojej rozbudowanej dokumentacji, mógł zostać stosunkowo
 szybko i w łatwy sposób wdrożony przez autora.
 Przy dużej ilości danych powoduje to nadmierne obciążenie aplikacji.
 Jednakże w przypadku wielu małych aplikacji, jak i niniejszego serwera
 UPnP A/V, rozwiązanie to eliminuje konieczność instalowania dodatkowego
 oprogramowania bazodanowego (np.
 
\emph on
MySQL
\emph default
) działającego zazwyczaj w trybie klient - serwer (wprowadza to dodatkowy
 narzut komunikacyjny).
 
\begin_inset CommandInset citation
LatexCommand cite
key "key-33"

\end_inset


\end_layout

\begin_layout Standard
Główna aplikacja, która udostępnia multimedia w sieci UPnP A/V i DLNA ma
 możliwość uruchomienia w tle (w trybie demona zgodnie z nazewnictwem systemu
 Linux lub usługi, zgodnie z nazewnictwem systemu Windows) lub w trybie
 pierwszoplanowym (ang.
 
\emph on
foreground
\emph default
), w którym wszystkie komunikaty są wyświetlane w oknie wiersza poleceń.
 W pierwszej kolejności aplikacja otwiera pliki baz danych, z których wczytywane
 są ustawienia oraz ścieżki wyszukiwania plików multimedialnych.
 W przypadku poprawnego wczytania wszystkich danych aplikacja tworzy główny
 obiekt 
\emph on
MediaStore
\emph default
, który jest klasą nadrzedną dla wszystkich udostępnianych obiektów 
\emph on
MediaItem.

\emph default
 Ich opis oraz sposób działania został przedstawiony w dalszej części niniejszej
 pracy.
\end_layout

\begin_layout Standard
Na rysunku 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Diagram-sekwencji-modułu"

\end_inset

 widoczny jest ogólny diagram sekwencji modułu serwera UPnP A/V.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Diagram-sekwencji-modułu"

\end_inset

Diagram sekwencji modułu serwera UPnP A/V
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename diagram_sekwencji.png
	display false
	width 80page%

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Klasa demona
\end_layout

\begin_layout Standard
Zadaniem klasy demona, 
\emph on
MediaDaemon
\emph default
 jest uruchamianie aplikacji w tle.
 Nie została ona zaprojektowana jako niezbędna klasa na potrzeby działania
 aplikacji, aby relatywnie proste było uruchomienie programu, zarówno w
 tle, jak i w trybie pierwszoplanowym.
\end_layout

\begin_layout Standard
Klasa demona przyjmuje następujące parametry linii komend (pierwszy parametr,
 jest parametrem domyślnym):
\end_layout

\begin_layout Itemize

\emph on
start
\emph default
,
\end_layout

\begin_layout Itemize

\emph on
stop
\emph default
,
\end_layout

\begin_layout Itemize

\emph on
restart.
\end_layout

\begin_layout Standard
Opisywany obiekt jest zabezpieczony przed wielokrotnym uruchomieniem (co
 mogłoby oznaczać modyfikację tych samych danych i ich uszkodzenie), poprzez
 tworzenie pliku o nazwie 
\emph on
daemon.pid
\emph default
, który przechowuje numer identyfikacyjny uruchomionego procesu demona.
 Wykorzystywany jest on również do ponownego uruchamiania oraz zatrzymywania
 aplikacji serwera UPnP A/V.
\end_layout

\begin_layout Subsection
Klasa główna serwera UPnP A/V
\end_layout

\begin_layout Standard
Klasa główna, którą jest serwer multimediów, 
\emph on
MediaServer
\emph default
, jest klasą inicjalizującą działanie serwera multimedialnego w sieci UPnP.
 
\end_layout

\begin_layout Standard
W pierwszej kolejności wczytywana jest baza danych multimediów, następnie
 zaś tworzony jest obiekt 
\emph on
MediaStore
\emph default
, który w swoim algorytmie działania ma zaimplementowane przeszukiwanie
 ścieżek katalogów, wczytywanie ustawień dostarczonych przez opisywaną w
 niniejszym rozdziale klasę oraz tworzenie obiektów 
\emph on
MediaItem
\emph default
, które dla użytkownika są kontenerami multimediów, bądź docelowymi plikami
 multimedialnymi.
\end_layout

\begin_layout Subsubsection
Obiekt MediaStore
\end_layout

\begin_layout Standard
Klasa 
\emph on
MediaStore
\emph default
 jest pierwszą klasą (w ścieżce uruchamiania aplikacji), która jest dziedziczona
 po klasach framework'a 
\emph on
Coherence
\emph default
.
 Od momentu uruchomienia tego obiektu serwer UPnP A/V jest widoczny w odtwarzacz
ach UPnP A/V oraz DLNA.
 Otrzymuje ona od klasy nadrzędnej, w trakcie uruchamiania, parametry działania,
 wśród nich ścieżki do katalogów, w których mają być wyszukiwane multimedia.
 Na podstawie otrzymanych danych tworzy następujące kontenery główne:
\end_layout

\begin_layout Itemize
kontener 
\begin_inset Quotes pld
\end_inset

Muzyka
\begin_inset Quotes prd
\end_inset

 (ang.
 
\emph on
Music
\emph default
),
\end_layout

\begin_layout Itemize
kontener 
\begin_inset Quotes pld
\end_inset

Wideo
\begin_inset Quotes prd
\end_inset

 (ang.
 
\emph on
Video
\emph default
),
\end_layout

\begin_layout Itemize
kontener 
\begin_inset Quotes pld
\end_inset

Zdjęcia
\begin_inset Quotes prd
\end_inset

 (ang.
 
\emph on
Images
\emph default
),
\end_layout

\begin_layout Itemize
kontener 
\begin_inset Quotes pld
\end_inset

Katalogi
\begin_inset Quotes prd
\end_inset

 (ang.
 
\emph on
Directories
\emph default
),
\end_layout

\begin_layout Itemize
kontener 
\begin_inset Quotes pld
\end_inset

Typy MIME
\begin_inset Quotes prd
\end_inset

 (ang.
 
\emph on
MIMETypes
\emph default
) - opcjonalny.
\end_layout

\begin_layout Standard
Po utworzeniu powyższych kontenerów, algorytm wczytuje w kolejności wszystkie
 pliki multimedialne i przydziela je do odpowiednich kategorii.
 W przypadku wczytywania folderu (wewnątrz którego jest plik możliwy do
 udostępnienia), tworzony jest kolejny kontener, który jest podkontenerem,
 dla biblioteki 
\begin_inset Quotes pld
\end_inset

Katalogi
\begin_inset Quotes prd
\end_inset

.
\end_layout

\begin_layout Standard
Wczytanie pliku multimedialnego lub tworzenie konteneru, precyzyjnie określając
 od strony implementacyjnej, jest stworzeniem obiektu 
\emph on
MediaItem 
\emph default
(jeden plik lub kontener, oznacza pojedyńczy obiekt 
\emph on
MediaItem
\emph default
).
 Podtyp ten został opisany w kolejnym podrozdziale.
\end_layout

\begin_layout Standard
Diagram stanów opisywanego obiektu znajduje się na rysunku 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Diagram-stanów-obiektu"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Diagram-stanów-obiektu"

\end_inset

Diagram stanów obiektu 
\emph on
MediaStore
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename diagram_stanow_mediastore.png
	display false
	width 80page%

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection
Obiekt MediaItem
\end_layout

\begin_layout Standard
Klasa 
\emph on
MediaItem
\emph default
 przechowuje informacje o pojedyńczym obiekcie schematu UPnP.
 Wyróżniamy tu takie typy jak:
\end_layout

\begin_layout Itemize

\emph on
container - 
\emph default
kontener,
\end_layout

\begin_layout Itemize

\emph on
VideoItem - 
\emph default
obiekt wideo,
\end_layout

\begin_layout Itemize

\emph on
MusicItem - 
\emph default
obiekt audio,
\end_layout

\begin_layout Itemize

\emph on
ImageItem
\emph default
 - obiekt graficzny.
\end_layout

\begin_layout Standard
Pierwszy z nich, kontener, odzwierciedla w systemie plików, katalogi.
 Pozostałe odzwierciedlają odpowiednie, dla swojego typu, pliki.
\end_layout

\begin_layout Standard
Opisywany obiekt zawiera informacje niezbędne do jego wyszukania oraz do
 odtworzenia przez odtwarzacze UPnP A/V i DLNA.
 Posiada takie informacje, jak:
\end_layout

\begin_layout Itemize
numer identyfikacyjny obiektu,
\end_layout

\begin_layout Itemize
nazwa (przyjazna dla użytkownika - nazwa pliku bez rozszerzenia),
\end_layout

\begin_layout Itemize
typ MIME,
\end_layout

\begin_layout Itemize
ścieżka do pliku,
\end_layout

\begin_layout Itemize
adres URL do pliku (przy jego pomocy odtwarzacz odtwarza materiał),
\end_layout

\begin_layout Itemize
nazwę hosta,
\end_layout

\begin_layout Itemize
kontenery nadrzędne, 
\begin_inset Quotes pld
\end_inset

rodziców
\begin_inset Quotes prd
\end_inset

 (o ile istnieją),
\end_layout

\begin_layout Itemize
kontenery podrzędne, 
\begin_inset Quotes pld
\end_inset

dzieci
\begin_inset Quotes prd
\end_inset

 (o ile istnieją),
\end_layout

\begin_layout Itemize
miniatura (jeżeli obiekt nie jest kontenerem).
\end_layout

\begin_layout Standard
Obiekt 
\emph on
MediaItem
\emph default
 tworzy dla odtwarzacza i przechowuje metadane dotyczące plików.
 Są one pobierane przy wykorzystaniu różnych narzędzi.
 Najprostszym przypadkiem jest typ graficzny, dla którego wykorzystywana
 jest wbudowana klasa języka Python - 
\emph on
Image
\emph default
.
 Przy jej pomocy uzyskiwane są informacje o rozmiarze pliku i jego rozdzielczośc
i.
\end_layout

\begin_layout Standard
Długość oraz przepływność (ang.
 
\emph on
bitrate
\emph default
)
\emph on
 
\emph default
dla plików audio jest pobierana przy pomocy zewnętrznej klasy 
\emph on
mutagen.mp3 
\emph default
lub 
\emph on
wave
\emph default
.
\end_layout

\begin_layout Standard
Dla materiałów wideo aplikacja wykorzystuje dwa sposoby na uzyskanie pomocnych
 dla siebie informacji.
 Metadane wbudowane w określony kontener multimedialny, bądź też zewnętrzne
 narzędzie 
\emph on
ffprobe, 
\emph default
który w prosty sposób dostarcza informacji o czasie trwania materiału, przepływn
ości, rozdzielczości oraz ilości kanałów audio w ścieżce dźwiękowej.
\end_layout

\begin_layout Standard
Ostatnim zadaniem klasy 
\emph on
MediaItem 
\emph default
jest tworzenie miniatur.
 Mogą być tworzone przy pomocy dwóch narzędzi: 
\emph on
ffmpegthumbnailer
\emph default
 dla plików wideo lub przy pomocy klasy 
\emph on
Image
\emph default
 języka Python dla plików graficznych (klasa ta posiada specjalną metodę
 do tworzenia miniatur).
 W przypadku filmu wybierana jest klatka, która stanowi 33% długości materiału.
 Pliki takie przechowywane są w katalogu domowym użytkownika (zarówno w
 systemach rodziny Windows, jak i Linux), w ukrytym podkatalogach 
\emph on

\begin_inset Quotes pld
\end_inset

thumbnails/dlna
\begin_inset Quotes prd
\end_inset

.
\end_layout

\begin_layout Standard
Aplikacja 
\begin_inset Quotes pld
\end_inset

stara się
\begin_inset Quotes prd
\end_inset

 tworzyć miniatury filmów oraz obrazów, na własne potrzeby, jak najrzadziej
 to możliwe.
 Jeżeli miniatura danego pliku istnieje w systemie operacyjnym, oprogramowanie
 potrafi ją zlokalizować, ma prawa do jej odczytu oraz spełnia wymagania
 co do rozmiaru i typu (rozmiar 120 x 120 pikseli, typ JPEG lub PNG), wówczas
 do odtwarzacza przekazywana jest wersja miniatury utworzona przez system
 operacyjny (uprzednio jest kopiowana do katalogu miniatur programu).
\end_layout

\begin_layout Standard
Diagram stanów obiektu 
\emph on
MediaItem
\emph default
 znajduje się na rysunku poniżej, nr 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:MediaItemDiagram-stanów-obiektu"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:MediaItemDiagram-stanów-obiektu"

\end_inset

Diagram stanów obiektu 
\emph on
MediaItem
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename diagram_stanow_mediaitem.png
	display false
	width 80page%

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Modyfikacja frameworka UPnP Coherence
\end_layout

\begin_layout Standard

\emph on
Coherence DLNA/UPNP Framework for Digital Living 
\emph default
dostarcza programiście zestaw narzędzi, które kompleksowo zapewniają tworzenie
 komunikatów UPnP A/V, zgodnych również ze specyfikacją DLNA.
 Framework może działać zarówno jako klient, jak i serwer.
 W niniejszej aplikacji wykorzystywana jest tylko część serwerowa zewnętrznego
 oprogramowania.
 Teoretycznie programista powinien ograniczyć się do stworzenia biblioteki
 multimediów, wczytaniu jej do odpowiedniego obiektu serwera, a na końcu
 uruchomieniu go z odpowiednimi parametrami wejściowymi.
 Niestety w trakcie testów i implementacji serwera UPnP A/V autor napotkał
 na szereg problemów we współpracy serwera z różnymi urządzeniami.
 Problemy rozpoczęły się na etapie komunikacji z urządzeniami firm Samsung,
 LG.
 O ile z odtwarzaczami drugiej firmy serwer współpracował na akceptowalnym
 poziomie, o tyle z firmą Samsung nie współpracował w ogóle.
\end_layout

\begin_layout Standard
Z tego powodu autor pracy zdecydował się zmodyfikować niektóre klasy framework'a
, tak aby aplikacja działała z każdym dostepnym dla autora do testowania
 urządzeniem.
 Zezwala na to liberalna licencja, na której udostępniany jest program 
\emph on
Coherence
\emph default
, MIT 
\begin_inset CommandInset citation
LatexCommand cite
key "key-32"

\end_inset

.
\end_layout

\begin_layout Standard
Niektóre urządzenia (aplikacje) zostały zaprogramowane w sposób absurdalny,
 zarówno dla programisty, jak i użytkownika końcowego.
 To znaczy tak, aby współpracować tylko z urządzeniami tej samej firmy.
 Jednym z nich są odtwarzacze firmy 
\emph on
Microsoft
\emph default
 (
\emph on
Microsoft Xbox 360, Windows Media Player
\emph default
), które materiały wideo w jakości 
\emph on
HD Ready
\emph default
, tylko gdy serwerem również jest urządzenie firmy 
\emph on
Microsoft.

\emph default
 Z tego powodu oprogramowanie musi 
\begin_inset Quotes pld
\end_inset

przedstawiać się
\begin_inset Quotes prd
\end_inset

 jako serwer multimedialny 
\emph on
Windows Media Connect
\emph default
.
\end_layout

\begin_layout Standard
Ciekawym wątkiem jest format plików 
\emph on
Matroska, 
\emph default
w odtwarzaczach DLNA firmy Samsung.
 Odtwarzacz wbudowany w urządzenie (który odtwarza materiały poprzez złącze
 USB) potrafi odtworzyć opisywany kontener multimedialny.
 Urządzenie posiada sprzętowy dekoder H.264, a odtwarzacz DLNA mimo wszystko
 nie zgadza się na odtworzenie materiału.
 Autor podejrzewa, że powodem może być brak licencji na odtwarzanie tego
 typu plików lub zbyt dokładne podążanie za specyfikacją DLNA, która tego
 formatu nie wspiera (lecz z drugiej strony filmy AVI są odtwarzane).
 W celu rozwiązania problemu autor zaprogramował serwer tak, aby dla niektórych
 urządzeń pliki 
\emph on
MKV 
\emph default
były przedstawiane poprzez inny typ MIME, taki jak dla plików avi - 
\emph on
video/x-msvideo
\emph default
.
 W przypadku gdyby, jakiś odtwarzacz nie współpracował z typem MIME 
\emph on
video/x-msvideo
\emph default
 
\emph on
(
\emph default
co w trakcie testów się nie zdarzyło), a użytkownik chciał zmienić ręcznie
 typ MIME, zmiana ta jest możliwa poprzez edycję tekstowego pliku konfiguracyjne
go w głównym katalogu aplikacji.
\end_layout

\begin_layout Standard
Poza opisanymi w poprzednich akapitach zmianami (i zmianami opisanymi w
 podrozdziale 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Język-DIDL-Lite"

\end_inset

) autor zmodyfikował metodę przeglądania (
\emph on
upnp_Browse
\emph default
) oraz metodę wyszukiwania (
\emph on
upnp_Search)
\emph default
, zgodnie z wymaganiami większości odtwarzaczy DLNA.
\end_layout

\begin_layout Subsubsection
\begin_inset CommandInset label
LatexCommand label
name "sub:Język-DIDL-Lite"

\end_inset

Język DIDL-Lite
\end_layout

\begin_layout Standard
DIDL-Lite (ang.
 
\emph on
Digital Item Declaration Language Lite
\emph default
) jest językiem, który dostarcza schemat opisu urządzeń UPnP A/V oraz DLNA.
 Jest to język oparty na schemacie dokumentu XML.
 W przypadku, gdy druga strona komunikacji nie potrafi zinterpretować części
 dokumentu powinna go ignorować, jednakże zazwyczaj odtwarzacze w urządzeniach
 RTV, nie wyświetlają serwera na liście urządzeń, aby uniknąć ewentualnych
 błędów.
\end_layout

\begin_layout Standard
Bardzo ważnym elementem dokumentu w języku DIDL-Lite jest jego nagłówek.
 Określa on, z jakimi schematami jest zgodny dany plik XML.
 Przykładowy nagłówek DIDL-Lite został przedstawiony na rysunku 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Przykładowy-nagłówek-dokumentu"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Przykładowy-nagłówek-dokumentu"

\end_inset

Przykładowy nagłówek dokumentu w języku DIDL-Lite
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename didlite_header.png
	width 70page%

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
W wypadku urządzeń firmy Samsung, wymaganym dodatkowym nagłówkiem, dzięki
 któremu urządzenie zostanie wyświetlone na liście serwerów odnalezionych
 jest:
\end_layout

\begin_layout Itemize

\emph on
xmlns:sec="http://www.sec.co.kr/"
\end_layout

\begin_layout Standard
Informacja ta została uzyskana na podstawie podsłuchiwania pakietów TCP
 (wykorzystując narzędzie 
\emph on
tcpdump 
\emph default
lub 
\emph on
Wireshark
\emph default
) wymienianych między serwerem DLNA firmy Samsung (aplikacja 
\emph on
AllShare
\emph default
), a odtwarzaczem DLNA tej samej firmy (również aplikacja 
\emph on
AllShare
\emph default
).
\end_layout

\begin_layout Standard
Ponadto autor na potrzeby obsługi urządzeń DLNA zaimplementował tagi zdefiniowan
e przez konsorcjum DLNA w specyfikacji.
 Część z parametrów była już zaimplementowana w pierwotnej wersji framework'a,
 jednakże dla wyjaśnienia ich znaczenia, na poniższej liście zostaną przedstawio
ne wszystkie dostępne w dołączonym do pracy oprogramowaniu:
\end_layout

\begin_layout Itemize
DLNA.ORG_PN - format multimediów zgodny z DLNA (niestety niezgodne z typami
 MIME, tak jak w UPnP A/V),
\end_layout

\begin_layout Itemize
DLNA.ORG_OP - wartość '0' lub '1' - definiuje czy serwer obsługuje zaawansowane
 operacje przesyłania (np.
 przewijanie),
\end_layout

\begin_layout Itemize
DLNA.ORG_PS - wartość dziesiętna - możliwe tempo odtwarzania materiału,
\end_layout

\begin_layout Itemize
DLNA.ORG_CI - wartość '0' lub '1' - definiuje czy materiał jest transkodowany,
\end_layout

\begin_layout Itemize
DLNA.ORG_FLAGS - dodatkowy ciąg 33 bitowych znaków określające dodatkowe
 parametry serwera oraz opisywanego pliku.
\end_layout

\begin_layout Standard
Przykładowymi formaty multimediów w konwencji DLNA są: 
\end_layout

\begin_layout Itemize
MP3 (typ MIME - audio/mpeg), 
\end_layout

\begin_layout Itemize
WMABASE (typ MIME - audio/ms-wma), 
\end_layout

\begin_layout Itemize
JPEG_LRG / JPEG_MED (typ MIME - image/jpeg), 
\end_layout

\begin_layout Itemize
PNG_LRG / PNG_MED (typ MIME - image/png), 
\end_layout

\begin_layout Itemize
MPEG_TS_PAL / MPEG_TS_NTSC (video/mpeg).
\end_layout

\begin_layout Standard
Plik 
\emph on
DIDL-Lite
\emph default
 musi być dla wielu urządzeń specjalnie sformatowany z dokładnie sprecyzowaną
 ilością parametrów.
 Parametry nadmiarowe często powodują, że urządzenie uznaje serwer UPnP
 A/V lub DLNA za niewłaściwy i nie umożliwia przeglądania jego zawartości.
 W pierwotnej wersji oprogramowania 
\emph on
Coherence
\emph default
 programiści przygotowali specjalnie parsowane dokumenty, dla konsol do
 gier, takich jak 
\emph on
Microsoft Xbox 360
\emph default
 oraz 
\emph on
Sony Playstation 3
\emph default
.
 Autor dodał wsparcie dla urządzeń firm 
\emph on
Samsung 
\emph default
(telewizory oraz urządzenia mobilne), 
\emph on
Phillips 
\emph default
(telewizory), 
\emph on
LG 
\emph default
(telewizory oraz odtwarzacze Blu-Ray) oraz dla oprogramowania UPnP A/V i
 DLNA dla komputerów stacjonarnych działających pod kontrolą systemów operacyjny
ch Windows oraz Linux (środowisko graficzne Gnome).
\end_layout

\begin_layout Subsection
Klasa serwera RPC
\end_layout

\begin_layout Standard
Zewnętrzne oprogramowanie, dołączone do aplikacji, 
\emph on
Coherence DLNA/UPNP Framework for Digital Living
\emph default
, nie ma zaimplementowanej modyfikacji parametrów serwera poprzez interpretację
 komunikatów UPnP.
 Autor podjął decyzję o zaimplementowaniu oddzielnego serwera poleceń RPC,
 umożliwiającego zmianę opcji poprzez modyfikację rekordów w bazie danych.
 Było to zdaniem autora prostsze do stworzenia rozwiązanie.
\end_layout

\begin_layout Standard
W tym wypadku została napisana klasa, która modyfikuje zmienne definiujące
 opcje serwera oraz modyfikuje dane wewnątrz baz danych 
\emph on
SQLite
\emph default
.
 Serwer RPC umożliwia nie tylko zmianę parametrów, ale również pobieranie
 ich wartości, na potrzeby opisywanego już wcześniej drugiego modułu oprogramowa
nia, serwisu WWW.
 Informowanie zainteresowanych klas o modyfikacji parametrów odbywa się
 poprzez zaimplementowany zgodnie z wzorcem projektowym obserwatora.
\end_layout

\begin_layout Standard
Parametry możliwe do zmiany zostały przedstawione we wcześniejszym podrozdziale
 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Zarządzanie-aplikacją"

\end_inset

.
\end_layout

\begin_layout Section
Budowa wewnętrzna modułu zarządzającego
\end_layout

\begin_layout Standard
Moduł zarządzający jest to aplikacja internetowa, w postaci strony WWW.
 Zapewnia on graficzny interfejs użytkownika, który umożliwia sprawdzenie
 statusu serwera UPnP A/V oraz zmianę istotnych dla użytkownika parametrów.
\end_layout

\begin_layout Standard
Aplikacja została napisana we frameworku 
\emph on
Django
\emph default
, w języku programowania 
\emph on
Python.

\emph default
 Większość zapytań obsługiwana jest poprzez zapytania AJAX (ang.
 
\emph on
Asynchronous JavaScript and XML
\emph default
), dzięki czemu strona WWW nie musi być odświeżana przez użytkownika w celu
 sprawdzenia stanu pozostałych modułów oprogramowania.
\end_layout

\begin_layout Standard
Program napisany we framework'u 
\emph on
Django
\emph default
 jest zgodny z wzorcem projektowym 
\emph on
MVC
\emph default
 (Model - Widok - Kontroler, ang.
 
\emph on
Model - View - Controller
\emph default
).
 Z tego powodu każda z części wzorca została opisana w kolejnych podrozdziałach.
 Widok oraz kontroler w nomenklaturze 
\emph on
Django
\emph default
 nazywane są w sposób odwrotny od ogólnie przyjętego schematu, to jest w
 pliku widoku (ang.

\emph on
 view
\emph default
) zdefiniowana jest obsługa (kontrola) strony, zaś folder szablonów (ang.
 
\emph on
templates)
\emph default
 jest widokiem wzorca MVC.
\end_layout

\begin_layout Subsection
Model
\end_layout

\begin_layout Standard
Model definiuje strukturę tabel bazy danych aplikacji.
 Program posiada własną bazę danych (niezależną od bazy danych drugiego
 modułu).
 Baza danych, jak wszystkie tego typu struktury w zestawie aplikacji, jest
 bazą 
\emph on
SQLite.
 
\emph default
Istnieją w niej cztery tabele, takie jak (podlista dla każdego elementu
 to pola tabeli):
\end_layout

\begin_layout Enumerate
Zawartość (ang.
 
\emph on
Content
\emph default
),
\end_layout

\begin_deeper
\begin_layout Itemize
ID - numer identyfikacyjny,
\end_layout

\begin_layout Itemize
Ścieżka (ang.
 
\emph on
path
\emph default
) - ścieżka przeszukiwania plików do dodania do biblioteki multimediów,
\end_layout

\end_deeper
\begin_layout Enumerate
Parametry (ang.
 
\emph on
DBContainer
\emph default
),
\end_layout

\begin_deeper
\begin_layout Itemize
ID - numer identyfikacyjny,
\end_layout

\begin_layout Itemize
adres IP,
\end_layout

\begin_layout Itemize
port,
\end_layout

\begin_layout Itemize
nazwa,
\end_layout

\begin_layout Itemize
UUID - identyfikator serwer UPnP A/V,
\end_layout

\begin_layout Itemize
utworzony - wartość bool'owska definiująca, czy UUID jest utworzony,
\end_layout

\begin_layout Itemize
id sesji - identyfikator sesji WWW,
\end_layout

\begin_layout Itemize
kontener MIME - wartość bool'owska określająca czy serwer UPnP A/V tworzy
 biblioteke multimedialną kontenerów MIME,
\end_layout

\begin_layout Itemize
transkodowanie - włączenie lub wyłączenie transkodowania materiałów,
\end_layout

\begin_layout Itemize
obserwacja zmiany folderów - definiuje czy każda zmiana zawartości folderu,
 ma być automatycznie aktualizowana,
\end_layout

\end_deeper
\begin_layout Enumerate
Adres serwera RPC (ang.
 
\emph on
DBAddress),
\end_layout

\begin_deeper
\begin_layout Itemize
ID - numer identyfikacyjny,
\end_layout

\begin_layout Itemize
adres IP,
\end_layout

\begin_layout Itemize
port,
\end_layout

\end_deeper
\begin_layout Enumerate
Status usługi (ang.
 
\emph on
ServiceStatus
\emph default
),
\end_layout

\begin_deeper
\begin_layout Itemize
ID - numer identyfikacyjny,
\end_layout

\begin_layout Itemize
nazwa,
\end_layout

\begin_layout Itemize
stan - definiuje czy serwer podczas ostatniego sprawdzania był uruchomiony
 czy nie.
\end_layout

\end_deeper
\begin_layout Standard
W powyższym schemacie, zwraca uwagę fakt zdublowania informacji o adresie
 IP oraz porcie.
 W tabeli 
\begin_inset Quotes pld
\end_inset

Parametry
\begin_inset Quotes prd
\end_inset

 adres ip oraz port są to informacje uzyskane na temat serwera UPnP A/V,
 natomiast druga tabela zawiera dane o adresie IP oraz porcie serwera RPC,
 umożliwiające uzyskanie danych do tabeli 
\begin_inset Quotes pld
\end_inset

Parametry
\begin_inset Quotes prd
\end_inset

 oraz synchronizację ustawień między tabelą modułu zarządzającego 
\begin_inset Quotes pld
\end_inset

Parametry
\begin_inset Quotes prd
\end_inset

, a jej odpowiednikiem w drugim module.
\end_layout

\begin_layout Subsection
Widok
\end_layout

\begin_layout Standard
Rolę widoku w 
\emph on
Django 
\emph default
pełni katalog szablonów
\emph on
 templates.
 
\emph default
Udostępniane są w nim szablony stron internetowych napisanych w języku 
\emph on
HTML
\emph default
, 
\emph on
Javascript
\emph default
 (wraz z biblioteką 
\emph on
jQuery
\emph default
) oraz wbudowane, w framework, tagi, które umożliwiają wczytanie danych
 w trakcie inicjalizacji (pobierania) strony.
 Dane do wspomnianych tagów udostępniane są przez kontroler aplikacji.
\end_layout

\begin_layout Standard
W opisywanej aplikacji oprócz skryptów 
\emph on
Javascript 
\emph default
oraz stron internetowych, dołączone są pliki kaskadowych arkuszów stylów
 
\emph on
CSS 
\emph default
oraz elementy graficzne interfejsu użytkownika.
\end_layout

\begin_layout Subsection
Kontroler
\end_layout

\begin_layout Standard
Częścią aplikacji, która zwraca użytkownikowi stronę internetową oraz uzyskuje
 do niej niezbędne dane (takie jak parametry serwera UPnP A/V), jest kontroler.
 W nazewnictwie przyjętym w 
\emph on
Django, 
\emph default
plik nazywa się widokiem (ang.
 
\emph on
views
\emph default
).
\end_layout

\begin_layout Standard
Pierwsze zapytanie o plik główny jako jedyne nie jest zapytaniem wykonywanym
 techniką asynchroniczną AJAX
\emph on
.
 
\emph default
Wczytywany jest tu plik szablonu statusu oraz dodawane są do niego dane
 pobrane z tabeli 
\begin_inset Quotes pld
\end_inset

Parametry
\begin_inset Quotes prd
\end_inset

.
 Dalsze informacje o zmianie statusu pobierane są poprzez cykliczne zapytania
 do serwera, wykonywane w tle.
 Wszystkie dane przesyłane w komunikatach AJAX są przesyłane w formacie
 
\emph on
JSON
\emph default
 
\begin_inset CommandInset citation
LatexCommand cite
key "key-39"

\end_inset

.
 Pliki 
\emph on
JSON
\emph default
 tworzone są na dwa sposoby.
 Pierwszym sposobem jest parsowanie słownika za pomocą bilioteki 
\emph on
simplejson
\emph default
 (wersja 2.5.2), która tworzy ciąg znaków w pożądanym formacie.
 Drugim sposobem jest tworzenie pliku za pomocą 
\begin_inset Quotes pld
\end_inset

ręcznego
\begin_inset Quotes prd
\end_inset

 wpisywania do ciągu znaków odpowiednio spreparowanych komunikatów.
 Drugi sposób, pomimo, że stosunkowo prymitywny, w przypadkach, gdy aplikacja
 przesyła krótkie komunikaty, takie jak widoczne na rysunku 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:statusUPNPJSON"

\end_inset

, jest najprostszy.
 
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:statusUPNPJSON"

\end_inset

Status serwera UPnP w postaci 
\emph on
JSON
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
{ 
\begin_inset Quotes pld
\end_inset

Status
\begin_inset Quotes prd
\end_inset

 : 
\begin_inset Quotes pld
\end_inset

Running
\begin_inset Quotes prd
\end_inset

 }
\end_layout

\end_inset


\end_layout

\begin_layout Standard
W kontrolerze następuje uruchomienie demona serwer multimediów.
 Usługa jest uruchamiana w tle poprzez uruchomienie potoku zaimplementowanego
 w klasie 
\emph on
subprocess
\emph default
 języka Python.
\end_layout

\begin_layout Chapter
Testy
\end_layout

\begin_layout Standard
Oprogramowanie odtwarzaczy UPnP A/V oraz DLNA są bardzo zróżnicowane względem
 ilości udostępnianych funkcji.
 Powstają dość duże rozbieżności w sposobie obsługi serwerów multimedialnych,
 nawet w cechach wspólnych odtwarzaczy, czyli w sposobie wyszukiwania, przegląda
nia oraz odtwarzania multimediów.
 Z tego powodu serwer musi obsługiwać wiele urządzeń, w różnoraki sposób.
 Niesie to za sobą konieczność preparowania odpowiedzi przygotowanej dla
 danego typu oprogramowania.
 W tym przypadku przez typ rozumiany jest producent, wytwórca aplikacji.
 Z wcześniej przedstawionych powodów oprogramowanie serwera multimedialnego
 UPnP A/V musiało przejść szereg testów współpracy z różnymi urządzeniami.
 Autor planował stworzyć jednolity sposób testowania aplikacji, lecz w większośc
i przypadków nie było to możliwe.
 Każdy z odtwarzaczy wymaga stworzenia własnej procedury wykonania poleceń
 protokołów UPnP A/V i DLNA (odtwarzanie, przewijanie, pokaz slajdów itp.).
\end_layout

\begin_layout Section
Sposób testowania aplikacji 
\end_layout

\begin_layout Standard
\begin_inset CommandInset label
LatexCommand label
name "sec:Sposób-testowania-aplikacji"

\end_inset

Aplikacja została poddana kilkudziesięciu testom użytkowym oraz systemowym
 (nie zostały zaprogramowane i wykonane testy jednostkowe wytworzonego oprogramo
wania).
 Autor stworzył procedury sprawdzania poprawności działania aplikacji dla
 obu modułów aplikacji, serwera multimedialnego UPnP A/V oraz serwera zarządzają
cego.
 W przypadku pierwszego modułu, testom poddane zostały schematy działania
 dla większości stosowanych (w praktyce) poleceń specyfikacji UPnP A/V oraz
 DLNA.
 Z powodu zróżnicowania aplikacji na różnych urządzeniach (oraz programach)
 odtwarzających multimedia, sprawdzanie zgodności modułu ze zleconymi zadaniami
 zostało wykonane poprzez praktyczne wykonanie odtwarzania treści multimedialnyc
h.
\end_layout

\begin_layout Standard
W przypadku drugiego modułu, konieczne do wykonania testy, były prostsze
 oraz mniej skomplikowane.
 Konieczne było przetestowanie współpracy modułu z kilkoma (najpopularniejszymi)
 przeglądarkami internetowymi oraz reakcja na wydawanie poleceń, takich
 jak dodanie katalogu z multimediami czy zmiana ustawień.
\end_layout

\begin_layout Standard
Ponadto autor wykonał kilka testów 
\begin_inset Quotes pld
\end_inset

wspólnych
\begin_inset Quotes prd
\end_inset

 dla obu modułów.
 Gdy w jakimkolwiek stopniu zachodzi interakcja między modułami wykonane
 zostało sprawdzenie czy reakcja (np.
 przeszukanie katalogów) jest poprawna.
 Za bezwzględnie konieczny, autor uznał, test w sytuacjach awaryjnych, gdy
 jeden z modułów nie odpowiada.
 Oprogramowanie w sytuacjach awaryjnych musi powiadomić użytkownika o zaistniały
m błędzie lub samodzielnie spróbować rozwiązać problem.
 Druga sytuacja ma miejsce, tylko w jednym przypadku, to znaczy moduł zarządzani
a może ponownie uruchamiać (lub wysłać polecenie ponownego odczytu ustawień)
 moduł serwera multimedialnego (jeżeli ten nie obsługuje innych odtwarzaczy
 multimedialnych).
\end_layout

\begin_layout Standard
W sytuacji wykrycia błędnej współpracy na linii serwer i odtwarzacz multimedialn
y, po wprowadzeniu niezbędnych poprawek, testy dla wszystkich urządzeń były
 wykonywane ponownie.
 Zmiana sposobu działania serwera (np.
 modyfikacja jednego z nagłówków odpowiedzi) umożliwiała współpracę z jednym
 odtwarzaczem, natomiast mogła utrudniać działania innych.
\end_layout

\begin_layout Standard
Specyfikacja DLNA określa dwa typy odtwarzaczy DLNA:
\end_layout

\begin_layout Itemize
odtwarzacze (stacjonarne),
\end_layout

\begin_layout Itemize
odtwarzacze mobilne.
\end_layout

\begin_layout Standard
Autor, na potrzeby sprawdzenia odtwarzania materiałów z serwera multimedialnego,
 stworzył następujący podział opisywanego oprogramowania do testowania:
\end_layout

\begin_layout Itemize
oprogramowanie dla komputerów klasy PC,
\end_layout

\begin_layout Itemize
oprogramowanie w szeroko pojętym sprzęcie elektronicznym (telewizory, odtwarzacz
e Blu-ray itd.),
\end_layout

\begin_layout Itemize
oprogramowanie mobilne.
\end_layout

\begin_layout Standard
Powyższy podział powstał w wyniku różnic w implementacji technologii DLNA
 w wymienionych klasach urządzeń.
 Aplikacja, która współpracowała ze sprzętem telewizyjnym, we wczesnych
 fazach, nie działała poprawnie na pozostałych klasach.
 Sprzętem, na którym autor sprawdzał poprawność aplikacji, w początkowym
 etapie prac, były:
\end_layout

\begin_layout Itemize
telewizor marki Samsung UE46D6750WS,
\end_layout

\begin_layout Itemize
telewizor marki Phillips 32PFL8404H,
\end_layout

\begin_layout Itemize
odtwarzacz Blu-ray marki LG BD-390,
\end_layout

\begin_layout Itemize
smartfon Samsung Galaxy S2 I9100 (system operacyjny Android 4, oprogramowanie
 AllShare),
\end_layout

\begin_layout Itemize
smartfon Samsung Galaxy S I9000 (system operacyjny Android 2.3, oprogramowanie
 AllShare),
\end_layout

\begin_layout Itemize
smartfon Sony Ericsson Xperia X10 (system operacyjny Android 2.3, oprogramowanie
 inne).
\end_layout

\begin_layout Standard
Najnowsze telewizory marki Samsung z oprogramowaniem 
\emph on
SMART HUB
\emph default
 posiadają oprogramowanie AllShare.
 Oprogramowanie o tej samej nazwie jest również dostępne dla komputerów
 PC z systemem operacyjnym Microsoft Windows oraz dla smartfonów z systemem
 operacyjnym Android (tylko sprzęt firmy Samsung).
 Oprogramowanie, mimo tej samej nazwy, działa na każdym z urządzeń w inny
 sposób.
 Dokładne porównanie funkcji programów firmy Samsung znajduje się w rozdziale
 
\begin_inset CommandInset ref
LatexCommand ref
reference "chap:Przegląd-oprogramowania-UPnP"

\end_inset

.
\end_layout

\begin_layout Standard
Poza opisanymi powyżej urządzeniami przetestowane zostały pojedyńcze modele
 (dzięki udostępnieniu sprzętu przez jeden ze znanych marketów elektronicznych)
 telewizorów firm, takich jak Sony Bravia, Phillips oraz LG Smart TV.
 W kolejnych podrozdziałach zostały przedstawione jedynie wyniki testów,
 które zostały dokładnie udokumentowane.
 Były urządzenia, do których autor miał pełen dostęp.
 Były to telewizor Samsung, odtwarzacz Blu-ray LG oraz telefon Samsung Galaxy
 S2.
\end_layout

\begin_layout Standard
Zadaniami, (które na każdym z urządzeń były interpretowane w inny sposób),
 koniecznymi do bardzo dokładnego przetestowania były:
\end_layout

\begin_layout Itemize
przeglądanie zawartości folderów,
\end_layout

\begin_layout Itemize
odtwarzanie różnych kontenerów multimedialnych - filmowych oraz muzycznych,
\end_layout

\begin_layout Itemize
odtwarzanie napisów,
\end_layout

\begin_layout Itemize
przewijanie filmów.
\end_layout

\begin_layout Standard
Serwer w trakcie testów miał już wcześniej zdefiniowane źródła odtwarzanych
 materiałów.
 Udostępniał następujące pliki:
\end_layout

\begin_layout Itemize
pliki filmowe - avi, mkv, mp4,
\end_layout

\begin_layout Itemize
pliki audio - wav, mp3,
\end_layout

\begin_layout Itemize
pliki graficzne - jpg, png, miniatury filmów oraz zdjęć.
\end_layout

\begin_layout Subsection
Test wyszukiwania urządzenia
\end_layout

\begin_layout Standard
Pierwszym elementem, który umożliwia współpracę urządzeń audio-wideo w protokoła
ch UPnP A/V oraz DLNA jest ich wyszukiwanie.
 W trakcie tego testu sprawdzane jest czy każdy odtwarzacz wykrył serwer
 multimedialny oraz wyświetlił jego prawidłową nazwę i miniaturę urządzenia.
\end_layout

\begin_layout Subsection
Test przeglądania zawartości
\end_layout

\begin_layout Standard
Przed otwarciem materiału multimedialnego konieczne jest jego odnalezienie.
 Odbywa się to poprzez przeglądanie zawartości udostępnianych treści przez
 serwer multimedialny.
\end_layout

\begin_layout Standard
Sprawdzenie poprawności opisywanej operacji odbywało się na urządzeniach
 w kilku symulowanych sytuacjach.
 Pierwsza z nich, to uruchomienie serwera oraz przeglądanie zawartości na
 urządzeniu odtwarzającym.
 W tym momencie sprawdzane jest czy odtwarzacz wyświetla obecność wszystkich
 plików, które są współdzielone przez stworzone oprogramowanie.
 Test obejmuje również kontrolę poprawnego wyświetlania miniatur i prawidłowe
 wyświetlanie informacji o każdym pliku.
 Szczególnie ważne dla muzyki i treści wideo jest prawidłowe odczytanie
 długości materiału, gdyż istnienie tego parametru umożliwia w wielu urządzeniac
h przewijanie odtwarzanego pliku (w przypadku jego braku przewijanie jest
 zablokowane).
\end_layout

\begin_layout Standard
Przeglądanie zawartości umożliwia sprawdzenie czy serwer poprawnie przypisuje
 pliki do poszczególnych typów MIME oraz do typów odtwarzanych materiałów.
\end_layout

\begin_layout Subsection
Test odtwarzania materiałów
\end_layout

\begin_layout Standard
W celu sprawdzenia materiałów autor przygotował kilkanaście plików muzycznych,
 graficznych oraz wideo.
 Każdy z innym rozszerzeniem, aby sprawdzenie odtwarzania było wykonane
 w jak najszerszym zakresie.
 Niniejszy test został wykonany na zasadzie porównywania serwera UPnP A/V,
 z innym oprogramowaniem pełniącym rolę serwera UPnP A/V (DLNA).
 Umożliwiło to określenie możliwości odtwarzaczy oraz w przypadku problemów
 z odtwarzaniem materiałów udostępnianych przez zaprojektowaną aplikację
 serwera multimedialnego
\series bold
, 
\series default
wykrycie różnic, które powodują, iż inny serwer udostępnia materiały poprawnie.
\end_layout

\begin_layout Standard
Autor przygotował następujące pliki graficzne (rozszerzenie jest równoznaczne
 z kodowaniem pliku):
\end_layout

\begin_layout Itemize
plik z rozszerzeniem JPEG,
\end_layout

\begin_layout Itemize
plik z rozszerzeniem JPG,
\end_layout

\begin_layout Itemize
plik z rozszerzeniem PNG,
\end_layout

\begin_layout Itemize
plik z rozszerzeniem GIF,
\end_layout

\begin_layout Itemize
plik z rozszerzeniem BMP.
\end_layout

\begin_layout Standard
Na potrzeby testów zostały przygotowane następujące pliki audio:
\end_layout

\begin_layout Itemize
plik z rozszerzeniem MP3,
\end_layout

\begin_layout Itemize
plik z rozszerzeniem WAV,
\end_layout

\begin_layout Itemize
plik z rozszerzeniem WMA,
\end_layout

\begin_layout Itemize
plik z rozszerzeniem AAC,
\end_layout

\begin_layout Itemize
plik z rozszerzeniem FLAC,
\end_layout

\begin_layout Itemize
plik z rozszerzeniem M4A.
\end_layout

\begin_layout Standard
Ostatnimi przygotwanymi plikami były pliki wideo, o następujących parametrach:
\end_layout

\begin_layout Itemize
plik MATROSKA, z rozszerzeniem MKV, rozmiar 4GB
\end_layout

\begin_deeper
\begin_layout Itemize
jedna ścieżka audio AC3,
\end_layout

\begin_layout Itemize
plik wideo H.264
\series bold
,
\end_layout

\begin_deeper
\begin_layout Itemize
rozdzielczość 1280x720,
\end_layout

\begin_layout Itemize
24 klatki na sekundęm
\end_layout

\end_deeper
\begin_layout Itemize
napisy wewnątrz kontenera,
\end_layout

\begin_layout Itemize
napisy zewnętrzne (test odbył się z napisami i bez),
\end_layout

\end_deeper
\begin_layout Itemize
plik MATROSKA, z rozszerzeniem MKV, rozmiar 16GB,
\end_layout

\begin_deeper
\begin_layout Itemize
dwie ścieżki audio: stereo oraz DTS (dźwięk 5.1),
\end_layout

\begin_layout Itemize
plik wideo w formacie 3D SBS (ang.
 
\emph on
3D Side by Side
\series bold
\emph default
, 
\series default
co oznacza film, który ma 2 obrazy obok siebie, konieczne do zinterpretowania
 przez odtwarzacz, celem odtworzenia go w wersji 3D), kodowanie H.264,
\end_layout

\begin_deeper
\begin_layout Itemize
rozdzielczość 1920x1080,
\end_layout

\begin_layout Itemize
24 klatki na sekundę.
\end_layout

\end_deeper
\begin_layout Itemize
napisy zewnętrzne.
\end_layout

\end_deeper
\begin_layout Itemize
plik AVI
\end_layout

\begin_deeper
\begin_layout Itemize
ścieżka audio mp3 stereo,
\end_layout

\begin_layout Itemize
plik wideo XVID MPEG-4
\end_layout

\begin_deeper
\begin_layout Itemize
rozdzielczość 576x432,
\end_layout

\begin_layout Itemize
24 klatki na sekundę
\end_layout

\end_deeper
\end_deeper
\begin_layout Itemize
plik WMV
\end_layout

\begin_deeper
\begin_layout Itemize
plik wideo Windows Media Video 9,
\end_layout

\begin_deeper
\begin_layout Itemize
rozdzielczość 1280x720
\end_layout

\begin_layout Itemize
24 klatki na sekundę
\end_layout

\end_deeper
\begin_layout Itemize
ścieżka audio Windows Media Audio 9 5.1.
\end_layout

\end_deeper
\begin_layout Itemize
plik MP4
\end_layout

\begin_deeper
\begin_layout Itemize
plik wideo H.264
\end_layout

\begin_deeper
\begin_layout Itemize
rozdzielczość 1280x720
\end_layout

\begin_layout Itemize
25 klatek na sekundę
\end_layout

\end_deeper
\begin_layout Itemize
ścieżka audio MPEG-4 AAC stereo.
\end_layout

\end_deeper
\begin_layout Subsection
Polecenia UPnP A/V i DLNA
\end_layout

\begin_layout Standard
Do poprawnego przetestowania oprogramowania stworzonego na potrzeby niniejszej
 pracy magisterskiej konieczne było zapoznanie się z poleceniami protokołami
 UPnP A/V i DLNA oraz sposobu w jaki oprogramowanie DLNA ów polecenia wykonuje.
\end_layout

\begin_layout Standard
Jedną z newralgicznych operacji jest przeglądanie zawartości serwera multimedial
nego.
 Usługa 
\emph on
Content Directory
\emph default
 
\begin_inset CommandInset citation
LatexCommand cite
key "key-37"

\end_inset

 umożliwia klientom przeglądanie zawartości oraz opisuje sposób w jaki mogą
 ją odczytać.
 Usługa musi odpowiadać na kilka poleceń wysyłanych przez klienta.
 Są to takie właściwości jak: sposób przeszukiwania (polecenie 
\emph on
GetSearchCapabilities
\emph default
), sposób sortowania (polecenie 
\emph on
GetSortCapabilities
\emph default
), numer identyfikacyjny systemu (
\emph on
GetSystemUpdateID
\emph default
), przeglądanie (polecenie 
\emph on
Browse
\emph default
).
 Istnieje kilka poleceń opcjonalnych (według specyfikacji UPnP A/V oraz
 DLNA).
 Jednym z takich poleceń jest polecenie przeszukiwania 
\emph on
Search
\emph default
, które musi być udostępniane, gdyż niektóre z odtwarzaczy bez tego rodzaju
 usługi, nie wykrywają wówczas serwera w sposób poprawny.
\end_layout

\begin_layout Section
Napotkane problemy
\end_layout

\begin_layout Standard
\begin_inset CommandInset label
LatexCommand label
name "sec:Napotkane-problemy"

\end_inset


\end_layout

\begin_layout Standard
W trakcie pierwszych testów autor napotkał wiele problemów z poprawnym odtwarzan
iem plików na urządzeniach posiadających certyfikat DLNA.
 Gdy jedno potrafiło zaprezentować materiał, drugie wyświetlało błędy (najczęści
ej nienaprowadzające na genezę problemu).
\end_layout

\begin_layout Standard
Głównym problemem był brak możliwości otworzenia plików MKV.
 Problem ten występował w urządzeniach firmy Samsung.
 W urządzeniu LG wyświetlany był komunikat o możliwych nieprawidłowościach
 w odtwarzaniu.
 Pomimo komunikatu materiał był odtwarzany.
 Jak się okazało, po wielu godzinach poszukiwań sposobu odtworzenia pliku
 na pierwszym wymienionym urządzeniu, konieczne było przedstawienie typu
 MIME jako AVI, aby odtwarzacz poprawnie otwierał plik MKV (potrafił otworzyć
 nawet wbudowane napisy w kontener Matroska).
 Sytuacja opisana pozwala poprawnie odtwarzać materiały na telewizorach
 Samsung.
 W przypadku telefonów Samsung z aplikacją AllShare konieczne jest również
 
\begin_inset Quotes pld
\end_inset

oszukanie
\begin_inset Quotes prd
\end_inset

 odtwarzacza poprzez podanie rozszerzenia pliku jako inne niż *.mkv (np.
 *.tmp).
 W drugim przypadku odtwarzacz nie potrafi otworzyć napisów znajdujących
 się w kontenerze multimedialnym.
\end_layout

\begin_layout Standard
Aplikacja AllShare firmy Samsung podobnie jak w przypadku plików MKV, postępuje
 z plikami muzycznymi.
 Pomimo możliwości ich odtworzenia wyświetla komunikat o nieobsługiwanym
 formacie audio.
 W tym celu, niektóre z plików trzeba przedstawiać jako typ mp3.
\end_layout

\begin_layout Standard
Kolejnym napotkanym tematem do rozwiązania był brak wyświetlania miniatur
 materiałów w niektórych urządzeniach (dotyczy odtwarzacz Blu-ray LG).
 W celu rozwiązania sprawy dodany został specjalny nagłówek, zawierający
 informację o dokumentacji LG.
\end_layout

\begin_layout Standard
Urządzenia Samsung również wymagają załączenia nagłówka z adresem URL do
 swojej dokumentacji.
 Nagłówek ten nazywa się 
\emph on
sec
\emph default
 i w przypadku serwera multimedialnego UPnP A/V napisanego przez autora,
 wykorzystywany jest do dołączania napisów w filmach (
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Przykład-dołączonych-napisów"

\end_inset

).
 Innym sposobem dołączania napisów do filmu jest zawarcie, w pliku XML,
 elementu 
\emph on
res (
\emph default
ang.

\emph on
 resource) 
\emph default
wraz
\emph on
 z 
\emph default
opisem typu napisów
\emph on
 
\emph default
(
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:2Przykład-dołączonych-napisów"

\end_inset

)
\emph on
.
 
\emph default
W elemencie tym powinny znajdować się adresy URL z możliwymi do pobrania
 napisami.
 Istotnym elementem w przypadku urządzenia LG jest podanie typu MIME napisów
 jako 
\emph on
text/srt, 
\emph default
nawet w przypadku gdy napisy są innego typu.
 Do otworzenia napisów wszystkie urządzenia wymagają zawarcia w elemencie
 schematu XML rozmiaru pliku w bajtach.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Przykład-dołączonych-napisów"

\end_inset

Przykład dołączonych napisów w postaci atrybutu 
\emph on
sec
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename sec_napisy.png
	display false
	width 80page%

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:2Przykład-dołączonych-napisów"

\end_inset

Przykład dołączonych napisów w postaci atrybutu 
\emph on
resource
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename srt_attachments.png
	display false
	width 80page%

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
W przypadku oprogramowania firmy 
\emph on
Microsoft
\emph default
, znajdującego się w konsoli
\emph on
 Xbox 360
\emph default
 oraz programu 
\emph on
Windows Media Player
\emph default
 (od wersji 12 wzwyż), konieczne jest by serwer multimedialny symulował
 urządzenie 
\emph on
Windows Media Connect
\emph default
.
\end_layout

\begin_layout Standard
Problemów w trakcie pisania oprogramowania wystąpiło dużo więcej, jednakże
 autor wybrał te, które pozwolą czytelnikowi zauważyć, jak pomimo ustandaryzowan
ia sposoby udostępniania multimediów w sieci, różni producenci tworzą własne
 schematy, całkiem odrębne od specyfikacji.
\end_layout

\begin_layout Section
Wyniki testów
\end_layout

\begin_layout Standard
Niniejszy podrozdział zawiera opisane wyniki poszczególnych testów, których
 procedura wykonania została opisana we wcześniejszym podrozdziale 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:Sposób-testowania-aplikacji"

\end_inset

.
\end_layout

\begin_layout Subsection
Test wyszukiwania urządzenia
\end_layout

\begin_layout Standard
Po uruchomieniu testowanego oprogramowania, wysyła ono (poprzez rozgłaszanie)
 pakiety informujące, o swoim istnieniu, do działających już urządzeń (urządzeni
ami docelowymi są odtwarzacze).
 Najnowsze oprogramowanie Samsung AllShare w wersji na każde urządzenie
 momentalnie wyświetlało istnienie serwera.
 W przypadku innych odtwarzaczy konieczne było wykorzystanie polecenia odświeżaj
ącego zgormadzoną listę serwerów.
 Wszystkie testowane urządzenia poprawnie wykryły serwer oraz prawidłowo
 wyświetlały jego nazwę (również z wykorzystaniem polskich znaków).
 Miniatura na urządzeniach innych niż mobilne, nie była wyświetlana w ogóle
 (nie posiadają one funkcji wyświetlania miniatur).
 Aby miniatura serwera, 
\begin_inset Quotes pld
\end_inset

logo
\begin_inset Quotes prd
\end_inset

, było poprawnie wyświetlane musi być w wymiarach 50 x 50 pikseli.
\end_layout

\begin_layout Standard
Wszystkie przetestowane odtwarzacze, bez dodatkowych problemów, wyświetlały
 szczegóły urządzenia, taką jak nazwę oprogramowania serwera (użytkownik
 może nadać swoją nazwę dla serwera udostępniającego, jednakże nazwa serwer
 
\series bold
UPNP
\series default
 pozostaje bez zmian).
 Zrzut ekranu z aplikacji mobilnej Samsung AllShare widoczny jest na rysunku
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Karta-Szczegóły-serwera"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Karta-Szczegóły-serwera"

\end_inset

Karta Szczegóły serwera DLNA w odtwarzaczu mobilnym DLNA - Samsung AllShare
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename server_description.png
	display false
	height 20pheight%

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Test przeglądania zawartości
\end_layout

\begin_layout Standard
W większości przetestowanych modeli odtwarzaczy DLNA przeglądanie zawartości
 odbywa się w sposób podobny do wyboru plików w eksploratorach plików.
 Aby znaleźć pożądany plik wybieramy odpowiedni katalog (który również pełni
 rolę kategorii materiału) np.
 Muzyka i wyszukujemy plik.
 Opisywana funkcjonalność została w zupełnie inny sposób zaimplementowana
 w najnowszych telewizorach firmy Samsung.
 W tym sprzęcie oprogramowanie wysyła żądanie do serwera o udostępnienie
 listy wszystkich filmów, zdjęć i muzyki i wyświetla wszystkie elementy
 w jednej liście zgodnie z kategoriami (Wideo, Muzyka, Obrazy), nie zważając
 na strukturę katalogów, którą udostępnia serwer.
\end_layout

\begin_layout Standard
Udostępniana zawartość od początkowych wersji aplikacji była w sposób poprawny
 wyświetlana na wszystkich sprawdzanych urządzeniach oraz oprogramowaniu
 dla komputerów klasy PC z systemami operacyjnymi Microsoft Windows oraz
 Ubuntu od wersji 10.10 do 11.10.
\end_layout

\begin_layout Standard
Po dodaniu zawartości, pakiet informujący o konieczności aktualizacji listy
 plików, został spreparowany poprawnie i wszystkie zasubskrybowane urządzenia
 go otrzymały.
 Jednakże niektóre programy klienckie UPnP A/V (np.
 Samsung AllShare) nie reagują żądaniem odświeżenia listy plików, przez
 co lista plików nie aktualizuje się w sposób zautomatyzowany, bez ingerencji
 użytkownika.
\end_layout

\begin_layout Subsection
Test odtwarzania materiałów
\end_layout

\begin_layout Standard
Test odtwarzania treści multimedialnych pozwolił sprawdzić najważniejszą
 funkcję zaprojektowanej aplikacji.
 Poza główną funkcją, w trakcie testu sprawdzane zostały takie parametry
 jak: możliwość przewijania materiału, podgląd miniatur, przegląd atrybutów
 udostępnianego pliku, umożliwienie rozszerzania widoku (głównie działanie
 funkcji pełnego ekranu), odtwarzanie napisów, wybór ścieżki dźwiękowej,
 zapamiętanie i wznawianie odtwarzania od ostatniej pozycji.
 Ponadto dla wszystkich plików zostało sprawdzone obciążenie procesora urządzeni
a (na którym działa serwer) w trakcie odtwarzania.
\end_layout

\begin_layout Standard
Kwestie techniczne oraz ograniczenia oprogramowania odtwarzaczy multimedialnych
 zostały przedstawione w rozdziale 
\begin_inset CommandInset ref
LatexCommand ref
reference "chap:Przegląd-oprogramowania-UPnP"

\end_inset

.
\end_layout

\begin_layout Standard
Serwer w pełni poprawnie udostępnia materiały, tylko odtwarzaczowi w telewizorze
 firmy Samsung.
 Wszystkie pliki udostępniane przez serwer, odtwarzacz telewizyjny AllShare
 potrafił odtworzyć.
 Sprzęt ten, powołując się na instrukcję obsługi, potrafi odtworzyć formaty
 wideo zamieszczone w tabeli 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Obsługiwane-formaty-wideo"

\end_inset

 oraz formaty audio znajdujące się wymienione w tabeli 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Obsługiwane-kodeki-audio"

\end_inset

.
 Ostatnia z tabel 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Obsługiwane-napisy-przez"

\end_inset

 przedstawia obsługiwane napisy przez opisywany sprzęt.
 Wszystkie znajdują się w rozdziale 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Oprogramowanie-w-sprzęcie"

\end_inset

.
\end_layout

\begin_layout Standard
W rzeczywistości możliwości odtwarzania przez sieć są dużo mniejsze, niż
 lista wymieniona w tabelach.
 Odtwarzacz poprawnie otworzył materiał AVI.
 Pozostałe formaty sprawiały problemy w odtwarzaniu.
 W przypadku telewizorów Samsung, wystarczy jednak informować odtwarzacz,
 że wysyłany materiał ma rozszerzenie avi i wówczas pełna zawartość tabeli
 jest spełniona.
 Odtwarzacz nie pozwolił otworzyć plików audio *.FLAC, *.M4A, bez podania
 nieprawdziwego typu MIME (podany został typ MIME pliku MP3 - 
\emph on
audio/mpeg
\emph default
).
 W przypadku innych plików aplikacja nie załadowała napisów w formacie innym
 niż MicroDVD z rozszerzeniem *.txt.
\end_layout

\begin_layout Standard
Drugie z urządzeń, czyli odtwarzacz Blu-ray firmy LG, model BD-390, nie
 posiada ogólnodostępnej, dokładnej specyfikacji odtwarzanych materiałów,
 jak to ma miejsce w przypadku wcześniej opisanego urządzenia.
 Jednakże testy wykazały, że z dużo większą łatwością obsługuje wszystkie
 z przygotowanych plików muzycznych i wideo.
 W przypadku obrazów obsługuje tylko formaty wymagane przez specyfikację
 DLNA, czyli format JPEG oraz PNG.
 Spośród testowanych plików, jedynie plików tekstowych serwer multimedialny,
 nie udostępnia w sposób poprawny dla sprzętu.
 Autor jednakże nie znalazł jednoznacznego sposobu, aby wszystkie napisy
 urządzenie LG zawsze załadowało (w niektórych przypadkach urządzenie pobiera
 napisy, lecz ich nie wyświetla.
\end_layout

\begin_layout Standard
Ostatnie z urządzeń, urządzenie mobilne Samsung Galaxy S2 I9100, poprawnie
 otwiera wszystkie pliki graficzne.
 W przypadku dużych plików graficznych występuje problem skalowania obrazu.
 Autor poprawnie odtworzył poprawnie plik AVI oraz MKV o rozmiarze 4 GB.
 W przypadku pliku MKV o rozmiarze 16 GB, połączenie bezprzewodowe telefonu
 w technologii 802.11n było zbyt wolny, aby efektywnie buforować zawartość.
 Dodatki do plików, takie jak wiele ścieżek audio lub napisy nie są rozpoznawane
 przez aplikację mobilną AllShare.
 Podobnie jak w telewizorze marki Samsung, typ MIME muzyki musi być podawany
 jako 
\emph on
audio/mpeg
\emph default
 by plik mógł być odtwarzany (można nazwać tą sytuację, pośrednią obsługą
 plików *.FLAC, *.M4A, *.WAV).
\end_layout

\begin_layout Standard
Nie wszystkie odtwarzacze posiadają każdą z opisywanych funkcji.
 W celu zobrazowania wyników testów powstała tabela 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Możliwości-testowanych-odtwarzac"

\end_inset

 zestawiająca wszystkie funkcje dla każdego odtwarzacza.
 Nie zostały w niej uwzględnione obsługiwane kodeki audio, wideo oraz graficzne.
 
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:Możliwości-testowanych-odtwarzac"

\end_inset

Możliwości testowanych odtwarzaczy
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="12" columns="11">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Nazwa odtwarzacza
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
A
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
O
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
W
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
4
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
5
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
6
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
7
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
telewizor Samsung
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Samsung I9000
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
p
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Samsung I9100
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
p
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
AllShare PC
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Phillips TV
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
LG BD-390
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Microsoft XBOX
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
WMP
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Rhytmbox
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
nd
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
nd
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
nd
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Totem
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
VLC
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
\align left
'+' - funkcja istnieje, 
\end_layout

\begin_layout Plain Layout
\align left
'-' - brak funkcji,
\end_layout

\begin_layout Plain Layout
\align left
p - problematyczne,
\end_layout

\begin_layout Plain Layout
\align left
nd - nie dotyczy
\end_layout

\begin_layout Plain Layout
\align left
Znaczenie kolumn:
\end_layout

\begin_layout Plain Layout
\align left
A - pliki audio,
\end_layout

\begin_layout Plain Layout
\align left
O - pliki graficzne,
\end_layout

\begin_layout Plain Layout
\align left
W - pliki wideo,
\end_layout

\begin_layout Plain Layout
\align left
1 - możliwość przewijania materiału,
\end_layout

\begin_layout Plain Layout
\align left
2 - podgląd miniatur,
\end_layout

\begin_layout Plain Layout
\align left
3 - przegląd atrybutów udostępnianego pliku,
\end_layout

\begin_layout Plain Layout
\align left
4 - umożliwienie rozszerzania widoku (głównie działanie funkcji pełnego
 ekranu),
\end_layout

\begin_layout Plain Layout
\align left
5 - odtwarzanie napisów,
\end_layout

\begin_layout Plain Layout
\align left
6 - wybór ścieżki dźwiękowej,
\end_layout

\begin_layout Plain Layout
\align left
7 - zapamiętanie i wznawianie odtwarzania od ostatniej pozycji.
\end_layout

\end_inset


\end_layout

\begin_layout Chapter
Przegląd oprogramowania UPnP A/V i DLNA
\end_layout

\begin_layout Standard
\begin_inset CommandInset label
LatexCommand label
name "chap:Przegląd-oprogramowania-UPnP"

\end_inset


\end_layout

\begin_layout Standard
Oprogramowanie UPnP A/V oraz DLNA umożliwia w bardzo prosty sposób odtwarzać
 materiały multimedialne w sieci lokalnej.
 Serwerów multimedialnych w sieci internetowej można znaleźć stosunkowo
 dużo.
 Natomiast odtwarzacze UPnP A/V i DLNA są zazwyczaj wbudowane w większość
 standardowych odtwarzaczy dostarczanych wraz z systemem operacyjnym urządzenia.
\end_layout

\begin_layout Standard
W niniejszym rozdziale zostały zestawione, przetestowane przez autora, programy
 zgodne ze standardem UPnP A/V lub DLNA.
 W kolejnych podrozdziałach wyróżnione zostały możliwości serwerów mutlimedialny
ch, a następnie odtwarzaczy multimedialnych.
 Drugi z podrozdziałów zawiera zestawienie zarówno oprogramowania dla komputerów
 typu PC, jak i odtwarzaczy sprawdzanych w sprzęcie elektronicznym, czyli
 w tym wypadku telewizorach i odtwarzaczu Blu-ray.
\end_layout

\begin_layout Section
Przegląd oprogramowania serwerów UPnP A/V i DLNA
\end_layout

\begin_layout Standard
Ilość aplikacji udostępniających multimedia jest bardzo duża.
 Prawdopodobnie zbyt duża, aby zwykły użytkownik był w stanie podjąć prosty
 i zarazem dobry wybór, który z programów spełni jego oczekiwania.
 Pomimo dużej ilości aplikacji, wciąż jest ich niedostatecznie dużo.
 Powodem takiej opinii autora, jest problem z odtwarzaniem treści multimedialnyc
h na urządzeniach różnych producentów.
 Jest to warunek, w trakcie pisania niniejszej pracy, prawdopodobnie niemożliwym
 do spełnienia.
 W przypadku, gdy sieć domowa posiada odtwarzacze tylko jednego producenta
 (czyli teoretycznie powinny być zgodne), wystarczy odnaleźć serwer, który
 udostępni zawartość, a odtwarzacz będzie ją poprawnie prezentował.
 W kolejnych sekcjach niniejszego podrozdziału znajduje się krótki opis
 kilku wybranych serwerów multimedialnych.
\end_layout

\begin_layout Subsection
Oprogramowanie Samsung AllShare
\end_layout

\begin_layout Standard
W przypadku oprogramowania firmy Samsung do udostępniania multimediów wykorzysty
wane są dwa urządzenia.
 Komputery typu PC z systemem operacyjnym Windows (XP/Vista/7) oraz smartfony
 tej firmy.
\end_layout

\begin_layout Standard
Aplikacja udostępnia wszystkie rodzaje multimediów ujęte w specyfikacji
 DLNA, czyli obrazy, muzykę oraz filmy.
 Ma możliwość kodowania materiałów w locie, udostępniania napisów w postaci
 SubRip to jest z rozszerzeniem srt.
 Napisy muszą mieć taką samą nazwę plików jak film.
\end_layout

\begin_layout Standard
Program, w wersji dla systemu Microsoft Windows, umożliwia dodanie następujących
 plików wideo do listy odtwarzania: 
\end_layout

\begin_layout Itemize
*.3GP, *.ASF, *.AVI, *.DIVX, *.F4V, *.FLV, *.M1V, *.M2TS, *.M4V, *.MKV, *.MOV, *.MP4,
 *.MPEG, *.MPG, *.MPGV, *.MPV, *.MTS, *.PS, *.QT, *.RM, *.RMVB, *.SVI, *.TP, *.TRP,
 *.TS, *.VOB, *.VRO, *.WMV.
 
\end_layout

\begin_layout Standard
Pliki zdjęć mogą posiadać rozszerzenia:
\end_layout

\begin_layout Itemize
*.BMP, *.GIF, *.JPEG, *.JPG, *.MPO, *.PNG.
 
\end_layout

\begin_layout Standard
Ostatnie rodzajów plików, pliki audio, mogą zostać dodane spełniające następując
e parametry rozszerzenia: 
\end_layout

\begin_layout Itemize
*.3GA, *.AAC, *.AC3, *.AU, *.AMR, *.APE, *.DAT, *.FLAC, *.LPCM, *.M4A, *.MP2, *.MP3,
 *.MPA, *.OGG, *.PCM, *.RA, *.VOX, *.WAV, *.WMA.
 
\end_layout

\begin_layout Standard
Przedstawione listy są bardzo długie i wydaje się, że spełniają wszystkie
 możliwe wymaganie, jednakże pomimo iż tak dużą ilość rodzajów plików można
 dodać, to większość z nich jest udostępniana w taki sposób, że odtwarzacz
 nie umie ich zaprezentować użytkownikowi (pojawia się komunikat niepoprawny
 plik).
 W przypadku napisów autor potrafił uruchomić napisy jedynie do filmów z
 rozszerzeniem *.AVI oraz *.DIVX.
 W pozostałych przypadkach plik z napisami nie był wykryty przez odtwarzacz.
\end_layout

\begin_layout Standard
Oprogramowanie mobilne, dla systemu Android, nie ma możliwości przekazywania
 napisów dla urządzeń innych niż Samsung (do udostępniania napisów wykorzystywan
y jest znacznik 
\emph on
sec
\emph default
 opisany w rozdziale nr 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:Napotkane-problemy"

\end_inset

).
 Autor nie odnalazł listy z rodzajami plików do udostępnienia, lecz jest
 ona prawdopodobnie taka sama jak dla wersji PC serwera.
 Jednakże serwer mobilny, pliki które współdzieli, udostępnia w wyraźnie
 inny, lepszy sposób niż ma to miejsce w przypadku wersji komputerowej.
 Wszystkie pliki, które zostały dodane do udostępniania były poprawnie otwierane
 przez odtwarzacze DLNA, zarówno firmy Samsung, jak i innych producentów.
\end_layout

\begin_layout Subsection
Nero MediaHome 4
\end_layout

\begin_layout Standard
Nero MediaHome 4 jest to płatne oprogramowanie (do testów wykorzysywana
 była wersja próbna) udostępniające multimedia, podobnie jak większość aplikacji
, takie które są wyspecyfikowane w technologii DLNA.
 
\end_layout

\begin_layout Standard
W pliku pomocy programu zostały przedstawione obsługiwane rozszerzenia.
 
\end_layout

\begin_layout Standard
Dla plików audio są to: 
\end_layout

\begin_layout Itemize
*.AIFF, *.AIF, *.MP1, *.MP2, *.MP3, *.MPA, *.MP4, *.AC3, *.AAC, *.M4A, *.MP4, *.WAV,
 *.WAVE, *.WMA, *.OGG, OGM, *.LPCM, *.PCM, *.L16.
 Dla plików obrazów: *.BMP, *.GIF, *.JPEG, *.JPG, *.JPE, *.PNG, *.TIFF, *.TIF, *.WMF.
 
\end_layout

\begin_layout Standard
Dla plików wideo: 
\end_layout

\begin_layout Itemize
*.3GP, *.AVI, *.DIVX, *.ASF, *.DV, *.MPEG, *.MPG, *.MPE, *.M1V, *.DAT, *.MPEG2, *.MPG2,
 *.M2V, *.PVA, *.MOD, *.TOD, *.VOB, *.MP2P, *.PS, *.MP2T, *.TS, MP4, *.M4P, *.MOV,
 *.QT, *.WMV, *.DVR-MS, *.FLV, *.MP4.
 
\end_layout

\begin_layout Standard
Wszystkie z wymienionych formatów mogą być transkodowane do innych formatów
 znajdujących się na liście.
 Lista obsługiwanych plików jest bardzo duża.
 Jednakże w trakcie sprawdzania programu autor wykrył fakt, że w rzeczywistości
 odtwarzanie materiału zależy od pakietu kodeków zainstalowanych w komputerze.
 Program prawdopodobnie dostarcza kodeki, które odtwarzają wspomniane wyżej
 formaty, jednakże jeżeli są zainstalowane kodeki, które odtwarzają inne
 formaty, wówczas aplikacja je wykorzystuje.
 Jest to zachowanie o tyle dziwne, że nawet w przypadku braku transkodowania,
 aplikacja wymaga zainstalowanych kodeków do odtworzenia materiału (odtwarzacz
 multimedialny może posiadać oddzielny dekoder do danego formatu).
 W tym wypadku, w pierwszej kolejności, urządzenie, na którym uruchomiony
 jest serwer musi potrafić otworzyć udostępniany plik multimedialny.
\end_layout

\begin_layout Standard
W żadnym materiale dostarczanym wraz z Nero MediaHome 4 nie jest uwzględnione
 wsparcie dla napisów do filmów.
 Jest ono jednak zaimplementowane, a napisy muszą być w jednym z najpopularniejs
zych formatów, którymi w tym wypadku są SubRip lub MicroDVD.
\end_layout

\begin_layout Standard
Materiały udostępniane przez opisywany serwer multimedialny wszystkie przetestow
ane urządzenia odtwarzają poprawnie.
 Serwer ten potrafi również strumieniować materiał telewizyjny z tunera
 DVB-T na żywo do innych urządzeń (funkcja nie została przetestowana).
 Można stwierdzić, że jest to kompletny odtwarzacz multimediów, z jedną
 wadą, którą jest brak wieloplatformowości.
 Drugą cechą, która może odstraszyć przeciętnego użytkownika jest cena oprogramo
wania (około 40 USD).
 Biorąc pod uwagę, że większośc odtwarzaczy jest darmowych, jest to niewątpliwie
 wada.
\end_layout

\begin_layout Subsection
MiniDLNA
\end_layout

\begin_layout Standard
Oprogramowanie MiniDLNA jest stworzony z myślą o platformie Linux, napisane
 w języku C++.
 Udostępniane jest w ramach publicznej licencji GPL (
\begin_inset CommandInset citation
LatexCommand cite
key "key-40"

\end_inset

).
 Zostało stworzone na potrzeby urządzenia 
\emph on
ReadyNAS
\emph default
 firmy 
\emph on
Netgear, 
\emph default
dzięki czemu ma bardzo małe wymaganie sprzętowe.
 Jest bardzo popularnym serwerem multimediów.
 Celem autora projektu jest pełna współpraca ze wszystkimi urządzeniami
 UPnP A/V oraz DLNA.
 MiniDLNA nie posiada dokumentacji technicznej, z tego powodu niemożliwe
 jest podanie możliwych do udostępniania plików.
 W trakcie testów, autor stwierdził, że wszystkie pliki muzyczne oraz obrazów
 były poprawnie odtwarzane na używanym sprzęcie.
 W przypadku filmów, na każdym z urządzeń poprawnie udostępniane były pliki
 *.avi.
 W przypadku innych rozszerzeń, takich jak mp4 oraz mkv, prezentacji treści
 multimedialnych możliwa była tylko w przypadku oprogramowania dla komputerów
 stacjonarnych.
 Odtwarzacze w urządzeniach RTV oraz mobilne nie potrafiły odtworzyć zawartości.
 MiniDLNA poprawnie przesyła napisy jedynie dla urządzeń firmy Samsung.
 Muszą one być w formacie SubRIP.
 W pozostałych urządzeniach autor nie potrafił odtworzyć filmu wraz z funkcją
 wyświetlania napisów.
 MiniDLNA konfigurowany jest poprzez modyfikację tekstowych plików modyfikacyjny
ch, nie posiada dedykowanego interfejsu do obsługi.
 Jest wbudowany w wiele dystrybucjach oprogramowania alternatywnego dla
 sprzętu sieciowego, w których zazwyczaj posiada interfejs strony internetowej
 stworzony przez deweloperów (np.
 alternatywne oprogramowanie routerów DD-WRT).
\end_layout

\begin_layout Subsection
Wild Media Server
\end_layout

\begin_layout Standard

\emph on
Wild Media Server 
\emph default
jest płatną aplikacją udostępniającą multimedia w sieci.
 Użytkownik rozpoczyna udostępnianie multimediów od wyboru profilu urządzenia.
 Program ma wiele wbudowanych profili, wśród nich między innymi: DLNA wersja
 1.5, odtwarzacz Blu-ray LG, telewizor LG, telewizor Samsung, telewizor Phillips
 i wiele innych.
 Użytkownik może stworzyć swój własny profil.
 Program umożliwia transkodowanie zawartości oraz wbudowywanie napisów do
 materiału w locie.
 Pomimo dostępności tych opcji odtwarzacze, które autor wykorzystywał nie
 potrafiły w prosty sposób wywołać transkodowania (operację tą udało się
 wykonać, jednakże sposób był bardzo nieprzyjazny dla użytkownika i nie
 zostanie tu opisany).
 Pliki *.mkv, które sprawiają prawdopodobnie najwięcej problemów z odtworzeniem
 są przedstawiane przez serwer jako pliki *.mpeg.
 Jednakże nawet ten unik (autor w swoim oprogramowaniu zastosował podobny,
 lecz przedstawiał pliki jako materiał AVI) nie umożliwia odtwarzania materiałów
 na urządzeniach mobilnych.
 Ponadto serwer udostępnia nieprawidłowe informacje o udostępnianych plikach
 (błędny rozmiar oraz czas trwania materiału wideo), co może wpłynąć na
 obsługę (lub jej brak) funkcji przewijania.
\end_layout

\begin_layout Subsection
PS3 Media Server
\end_layout

\begin_layout Standard

\emph on
PS3 Media Server 
\emph default
jest serwerem multimedialnym stworzonym z myślą o konsoli PlayStation 3
 firmy Sony.
 Zarówno zdaniem użytkowników, jak i autora programu, w pełni z nią współpracuje
 (autor niniejszej pracy nie testował aplikacji z konsolą).
 Serwer podobnie, jak pozostałe potrafi udostępniać obrazy, muzykę oraz
 filmy.
 Ma możliwość transkodowania materiałów audio i wideo.
 Umożliwia odtwarzanie napisów w postaci MicroDVD oraz SubRIP.
 Testowane przez autora pracy urządzenia nie potrafiły odtworzyć materiałów
 kodowanych przy pomocy kodera H.264.
 Pozytywną cechą niniejszego serwera jest fakt, iż w takim przypadku automatyczn
ie transkodował materiał do innego obsługiwanego, zarówno przez odtwarzacz,
 jak i serwer formatu.
\end_layout

\begin_layout Subsection
Coherence
\end_layout

\begin_layout Standard

\emph on
Coherence 
\emph default
jest framework'iem wykorzystywanym do działania w sieci UPnP A/V i DLNA.
 Funkcjonuje jako warstwa tworząca komunikaty UPnP.
 Może być również uruchomiony jako samoodzielny program wykorzystujący wtyczki
 do zdefiniowania celu działania.
 Jedną z wtyczek jest udostępnianie multimediów w sieci lokalnej, zgodnie
 z protokołem UPnP A/V.
 Pożądane parametry spełnia wtyczka o nazwie 
\emph on
FSStore
\emph default
, która przeszukuje wyznaczone katalogi i udostępnia pliki multimedialne.
 Umożliwia ona udostępnianie najpopularniejsze formaty obrazów, audio oraz
 wideo.
 
\emph on
Coherence
\emph default
 w wersji 0.6.2 ma możliwość dołączania napisów, w przypadku gdy mają one
 tą samą nazwę co plik wideo oraz posiadają rozszerzenie srt.
 
\end_layout

\begin_layout Standard
Do programu nie została napisana instrukcja obsługi, co w znacznym stopniu
 utrudnia jego konfigurację.
 Odbywa się ona poprzez stworzenie pliku tekstowego z odpowiednimi parametrami.
 Autorowi udało się uruchomić jedynie starą wersję programu 
\emph on
Coherence
\emph default
.
 Dostarczała ona podstawowe funkcje tzn.
 wyszukiwała ona katalogi z multimediami, a następnie mapowała je dla odtwarzacz
a.
 Nie posiada funkcji przydzielania plików do kategorii zgodnych z typem
 zawartości (np.
 Muzyka) oraz nie posiada specjalnie przygotowanych profili, aby współpracować
 z możliwie dużą ilością urządzeń.
 Wyjątek stanowi specjalne reguły dla konsoli do gier Microsoft Xbox 360,
 wobec którego autorzy wtyczki zrobili wyjątek i przygotowali specjalne
 komunikaty celem udostępniania treści dla wymienionego produktu.
\end_layout

\begin_layout Standard
Nowsze wersje aplikacji (od wersji 0.6.5) nie działają poprawnie w środowisku
 systemu operacyjnego Ubuntu 11.04 oraz 11.10.
 Jest to spowodowane nowszymi wersjami, wykorzystywanych przez program,
 bibliotek systemowych.
\end_layout

\begin_layout Section
Przegląd oprogramowania odtwarzaczy DLNA i UPnP A/V
\end_layout

\begin_layout Standard
W sieci internetowej dostępnych jest bardzo wiele odtwarzaczy multimediów
 w sieciach lokalnych, zgodnych ze standardem DLNA i/lub UPnP A/V.
 Odtwarzacze są zawarte jako programy w urządzeniach RTV, takich jak telewizory,
 odtwarzacze DVD, odtwarzacze Blu-ray i inne.
 Inną grupą odtwarzaczy te są przeznaczone do instalacji w systemie operacyjnym.
 Spośród tych większość jest przeznaczona dla systemu operacyjnego Microsoft
 Windows, ewentualnie dla systemu MacOS X.
 Na szczęście dla użytkowników systemów rodziny Linux, społeczność wolnego
 oprogramowania, jest na tyle rozwinięta, że i dla tych systemów nie jest
 większym problemem odnalezienie programu obsługującego opisywane standardy.
\end_layout

\begin_layout Subsection
Oprogramowanie dla komputerów klasy PC
\end_layout

\begin_layout Standard
Odtwarzaczem DLNA, który autor może z całą pewnością polecić jest program
 XBMC Media Center, który został stworzony jako alternatywny interfejs graficzny
 konsoli Microsoft XBOX 360, a w chwili obecnej jest oprogramowaniem również
 dla systemów operacyjnych Windows, MacOS X oraz Linux.
 Jego interfejs graficzny użytkownika (GUI - ang.
 
\emph on
Graphical User Interface
\emph default
) jest bardzo przyjazny i starannie zaprojektowany, w taki sposób aby można
 było nim sterować każdym urządzeniem wskazującym np.
 pilotem telewizora.
 Jedynym mankamentem jaki odnalazł autor w niniejszym programie jest brak
 odtwarzania napisów w materiałach filmowych.
 Odtwarzacz bardzo dobrze prezentuje obrazy, muzykę oraz filmy.
\end_layout

\begin_layout Standard
Dla systemu Windows warto wymienić odtwarzacze Windows Media Player oraz
 Samsung AllShare, które potrafią wyszukać serwery DLNA lub UPnP A/V i odtworzyć
 ich zawartość.
 W przypadku pierwszego niewątpliwą wadą jest całkowity brak obsługi napisów.
 Pozytywnymi cechami drugiego z wymienionych programów jest bardzo duża
 ilość materiałów możliwych do odtworzenia, obsługa napisów do filmów, niestety
 w przypadku komputera, na którym był testowany (uproszczona specyfikacja:
 procesor Intel Core 2 Duo 2.4 GHz, 8 GB Ram, dysk twardy 500 GB) obraz nie
 był płynnie odtwarzany.
 Zajmował przy tym około 80% zasobów procesora.
\end_layout

\begin_layout Standard
System operacyjny z rodziny Linux, kontrolowany za pomocą środowiska graficznego
 Gnome, może mieć zainstalowane programy do odtwarzania muzyki, wideo, obrazów.
 Po zainstalowaniu odpowiednich wtyczek do wyszukiwania muzyki w sieci lokalnej
 można wykorzystywać programy Rhythmbox lub Banshee, zaś do materiałów wideo
 program Totem.
 Podobnego oprogramowania specjalizującego się w wyświetlaniu obrazów oraz
 wyświetlającego pokaz slajdów z obrazów autor nie odnalazł.
\end_layout

\begin_layout Subsection
\begin_inset CommandInset label
LatexCommand label
name "sub:Oprogramowanie-w-sprzęcie"

\end_inset

Oprogramowanie w sprzęcie audio-wideo
\end_layout

\begin_layout Standard
W przypadku odtwarzaczy dla komputerów stacjonarnych użytkownik nie jest
 zmuszony do używania jednego rodzaju programu i może odnaleźć taki, który
 mu najbardziej odpowiada.
 Natomiast w sytuacji odtwarzania materiałów na telewizorze użytkownik jest
 zobligowany do wykorzystania programu, który dostarczył producent sprzętu.
 Autor zdecydował się zamieścić w niniejszym podrozdziale również krótką
 opinię na temat mobilnego odtwarzacza AllShare (dla smartfonów firmy Samsung),
 z tego względu, iż oprogramowanie to jest preinstalowane przez producenta.
\end_layout

\begin_layout Standard
Telewizor firmy Samsung, model UE46D6750WS
\series bold
, 
\series default
posiada oprogramowanie Samsung AllShare.
 Po włączeniu programu wyszukiwane są serwery multimediów.
 Po wybraniu serwera multimediów już na pierwszym ekranie, widoczna jest
 różnica, względem innych implementacjami tego typu odtwarzaczy.
 Pozwala on na przeglądanie materiałów według trzech kategorii - Wideo,
 Muzyka, Obrazy.
 Widok ten nazywany jest widokiem prostym (ang.
 
\emph on
BasicView
\emph default
) i jeżeli serwer multimediów nie udostępnia takiego widoku lub zwraca go
 błędnie, wówczas AllShare zgłasza błąd i uniemożliwia wyszukanie treści
 multimedialnych.
 Warto zwrócić uwagę, że odświeżanie automatyczne (które jest uwzględnione
 w specyfikacjach UPnP A/V oraz DLNA) nie działa w oczekiwany sposób.
 Odtwarzacz nie potrafi przeglądać zawartości serwera bezpośrednio po jego
 dołączeniu bez ówczesnego odświeżenia listy serwerów.
 Testowany sprzęt posiada wbudowany sprzętowy dekoder H.264, a mimo to nie
 potrafił odtworzyć zawartości kontenera multimedialnego Matroska (*.mkv).
 W przypadku pliku *.mkv odtwarzanego z pamięci USB problem nie występował.
 Jak zostało wcześniej wspomniane autor w swoim programie zastosował obejście
 problemu, którym jest przedstawianie innego typu MIME dla tego rodzaju
 plików, to jest takiego jak dla plików *.avi - 
\begin_inset Quotes pld
\end_inset

video/avi
\begin_inset Quotes prd
\end_inset

 lub 
\begin_inset Quotes pld
\end_inset

video/ms-video
\begin_inset Quotes prd
\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:Obsługiwane-formaty-wideo"

\end_inset

Obsługiwane formaty wideo przez telewizor Samsung UE46D6750WS
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="9" columns="3">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Format
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Kodek wideo
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Maksymalna rozdzielczość
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="2" columns="1">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
AVI
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
MKV
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="5" columns="1">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
DivX 3.11 - 6.0
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
XviD
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
H.264
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
MPEG4
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Motion JPEG
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="5" columns="1">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1920x1080
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1920x1080
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1920x1080
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1920x1080
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1920x1080
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ASF
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="5" columns="1">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
DivX 3.11 - 6.0
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
XviD
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
H.264
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
MPEG4
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Motion JPEG
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="5" columns="1">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1920x1080
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1920x1080
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1920x1080
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1920x1080
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
800x600
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
WMV
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="2" columns="1">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Windows Media
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Video 9
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1920x1080
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
MP4
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="3" columns="1">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
H.264
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
MPEG4
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
XviD
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="3" columns="1">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1920x1080
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1920x1080
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1920x1080
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
3GPP
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="2" columns="1">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
H.264
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
MPEG4
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="2" columns="1">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1920x1080
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1920x1080
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="2" columns="1">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
VRO
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
VOB
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="2" columns="1">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
MPEG1
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
MPEG2
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="2" columns="1">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
352x288
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1920x1080
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
PS (*.mpg, *.mpeg)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="3" columns="1">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
MPEG1
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
MPEG2
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
H.264
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="3" columns="1">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
352x288
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1920x1080
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1920x1080
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
TS
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="3" columns="1">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
MPEG2
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
H.264
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
VC1
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="3" columns="1">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1920x1080
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" bottomline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1920x1080
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1920x1080
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
Źródło: instrukcja telewizora Samsung
\begin_inset CommandInset citation
LatexCommand cite
key "key-42"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:Obsługiwane-kodeki-audio"

\end_inset

Obsługiwane kodeki audio przez telewizor Samsung UE46D6750WS
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="11" columns="1">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Kodek audio
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
MP3
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
AC3
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
LPCM
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ADPCM
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
DTS Core
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
WMA
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
AAC
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
HEAAC
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
DD+
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
MPEG
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
Źródło: instrukcja telewizora Samsung
\begin_inset CommandInset citation
LatexCommand cite
key "key-42"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:Obsługiwane-napisy-przez"

\end_inset

Obsługiwane napisy przez telewizor Samsung UE46D6750WS
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="6" columns="3">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Nazwa
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Rozszerzenie pliku
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Format
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
MPEG-4 ze znacznikami czasowymi
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
*txt
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
XML
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
SAMI
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
*.smi
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
HTML
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
SubRip
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
*.srt
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
tekst
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
SubViewer
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
*.sub
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
tekst
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
MicroDVD
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
*.sub / *.txt
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
tekst
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Oprogramowanie Samsung AllShare dla urządzeń mobilnych wyświetla zawartość
 serwera poprzez przeglądanie katalogów (nie stosuje widoku prostego, tak
 jak w telewizorach tej firmy).
 Odświeżanie automatyczne listy serwerów zostało zaimplementowane poprawnie
 i działa zgodnie z oczekiwaniami.
 Program mobilny nie odtwarza poprawnie napisów do filmów (pobiera je, ale
 nie wyświetla żadnego błędu o braku możliwości ich załadowania).
 W filmach oraz obrazach, które były odtwarzane na urządzeniu występowały
 problemy z dostosowaniem obrazu do wielkości ekranu.
 Podobnie jak w przypadku telewizorów konieczna jest zmiana typu MIME kontenera
 wideo.
\end_layout

\begin_layout Standard
Inna sytuacja występuję w przypadku odtwarzacza firmy LG.
 Nie trzeba stosować żadnych sztuczek, aby odtworzył dowolny materiał.
 W przypadku formatu kontenera Matroska wyświetla jedynie komunikat o możliwych
 problemach z prezentacją filmu (autor jednak na żadne problemy w odtwarzaniu
 nie natrafił).
 Odtwarzacz LG, pomimo wyświetlania komunikatu z ostrzeżeniem, odtwarza
 bardzo dużo formatów wideo oraz audio.
 Wadami oprogramowania, na które warto zwrócić uwagę jest brak automatycznego
 odświeżania listy serwerów oraz zawartości multimedialnej serwera.
 Innymi mankamentami, które zostały wykryte to brak opisu obsługi napisów.
 Oznacza to, że napisy mogą być odtwarzane (również przy pomocy zawartości
 udostępnianej przez serwer multimedialny stworzony przez autora pracy),
 jednakże z niewiadomych względów niekiedy odtwarzacz nie potrafi wczytać
 napisów.
 Jedną z sytuacji jest, gdy film posiada dwie wersje napisów (np.
 napisy w dwóch językach, czyli dwa pliki z napisami).
 
\end_layout

\begin_layout Standard
Pliki MKV w opisywanym urządzeniu firmy LG są odtwarzane, dzięki certyfikatowi
 DivX HD, co powinno oznaczać pełne wsparcie dla rozdziałów, napisów oraz
 wielu ścieżek audio.
 Niestety wymagania certyfikatu nie zostały w pełni spełnione w odtwarzaniu
 filmów poprzez DLNA.
 Podobnie jak w wielu urządzeniach odtwarzacz Blu-ray nie potrafi poprawnie
 skalować wyświetlanych obrazów.
 Ma to jednak miejsce nie tylko w odtwarzaczu multimediów zgodnych z DLNA,
 ale również w 
\begin_inset Quotes pld
\end_inset

tradycyjnym
\begin_inset Quotes prd
\end_inset

 odtwarzaczu, który wczytuje pliki graficzne z nośnika danych np.
 pamięci USB lub płyty CD.
\end_layout

\begin_layout Subsection
Obsługa standardu DLNA
\end_layout

\begin_layout Standard
Technologia DLNA została opracowana, aby umożliwić współdzielenie multimediów.
 Jej poprzedniczką jest UPnP A/V, którą można określić jako bardziej liberalną.
 DLNA jest bardziej restrykcyjna, jednakże mimo bardziej ścisłego określenia
 współpracy różnice w implementacjach oraz funkcjonalność odtwarzaczy są
 dość znaczne.
 Utrudnia to prace zarówno programistom serwerów multimedialnych, a co istotniej
sze zwykłym użytkownikom, którzy w prosty sposób nie mogą prezentować na
 każdym urządzeniu wszystkich rodzajów materiałów multimedialnych.
\end_layout

\begin_layout Standard
Różnice można podzielić na grupy, według których materiały mogą być współdzielon
e.
 W przypadku plików muzycznych, na podstawie przeprowadzonych badań, można
 stwierdzić, że ich obsługa jest najbardziej zaawansowana.
 Autor nie odnalazł żadnych negatywnych cech, które by utrudniały udostępniane
 tego typu danych.
 Jako mankament, bardziej zauważalny w przypadku filmów, można wymienić
 brak zagwarantowania w standardzie obsługi ścieżek dźwiękowych DTS oraz
 HD.
 Zapewniają one lepszą jakość dźwięku, niż obsługiwane rodzaje ścieżek (np.
 AC3 lub MP3).
\begin_inset CommandInset citation
LatexCommand cite
key "key-41"

\end_inset

 Można wyobrazić sobie sytuację, gdy użytkownik chce udostępnić audiobooka
 lub materiał muzyczny z kilkoma ścieżkami dźwiękowymi, jednakże w chwili
 obecnej funkcje te (zawarte w specyfikacji DLNA) nie są wykorzystywane,
 zarówno na poziomie odtwarzaczy, jak i serwerów.
 
\end_layout

\begin_layout Standard
Obrazy sprawiają wielu odtwarzaczom problem, gdy nie posiadają dostosowanej
 rozdzielczości do ekranu urządzenia.
 Odtwarzacz może źle dopasować plik graficzny do ekranu lub powiększyć go
 w taki sposób, że obraz jest przycięty (nawet gdy nie jest to konieczne).
 Spowodowane to jest z góry zdefiniowanymi przez DLNA profilami, które nie
 uwzględniają niektórych rozdzielczości obrazów.
 Problemy występują również w sposobie odtwarzania pokazu slajdów.
 Niektóre z odtwarzaczy nie buforują kolejnego zdjęcia, co powoduje iż pliki
 graficzne większych rozmiarów są dłużej ładowane na urządzeniu (użytkownik
 musi na nie oczekiwać).
 Innym problemem w przypadku obrazów jest ograniczenie tylko do dwóch formatów
 JPEG oraz PNG.
 Każdy inny, powołując się na standard DLNA, nie musi być obsługiwany.
 
\begin_inset CommandInset citation
LatexCommand cite
key "key-41"

\end_inset


\end_layout

\begin_layout Standard
Standard DLNA nie wymusza na producentach obsługi wszystkich rodzajów kodowania
 materiałów wideo, obsługi napisów, obsługi wielu ścieżek dźwiękowych i
 innych.
 Niestety dla użytkowników, w specyfikacji zabrakło wielu, w chwili obecnej,
 wręcz niezbędnych formatów.
 Obsługiwane kontenery przez DLNA to MP4 oraz ASF.
 Są to kontenery multimedialne rzadziej spotykane, niż AVI oraz MKV.
 Obsługiwane kontenery posiadają wiele ograniczeń.
 Jednym z ograniczeń, bardzo odczuwalnym w erze filmów HD, jest cecha konetenera
 MP4, który przyjmuje maksymalną rozdzielczość 720 x 576 pikseli jako maksymalną.
 W takim przypadku o film w rozdzielczości full HD, zgodnie ze standardem,
 nie może zostać przesłany.
 Podobna sytuacja występuję w coraz powszechniejszych filmach 3D.
 
\begin_inset CommandInset citation
LatexCommand cite
key "key-41"

\end_inset


\end_layout

\begin_layout Standard
Z powyższych względów każdy z producentów tworzy własną wersję implementacyjną
 odtwarzacza DLNA, odbiegającą od standardu, z myślą o użytkownikach.
 Większość producentów nie tworzy oprogramowania serwerów multimedialnych
 na komputery klasy PC.
 Jeżeli jednak takie powstają, są one zgodne w pełni jedynie z urządzeniami
 tegoż producenta.
 Testy przedstawione w niniejszej pracy przeczą jednak teorii pełnej zgodności
 (przykład aplikacji Samsung AllShare) serwera i odtwarzacza tej samej firmy.
 Powodów takiej sytuacji, w artykułach oraz prasie (zarówno polskiej, jak
 i zagranicznej), nie sposób odnaleźć.
\end_layout

\begin_layout Chapter*
Podsumowanie
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{chapter}{Podsumowanie}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Certyfikat DLNA posiada większość urządzeń elektronicznych dostępnych powszechni
e na rynku.
 DLNA umożliwia centralizowanie danych i pozwala zmienić telewizor w ramkę
 do zdjęć lub odtwarzacz muzyki, bez konieczności podłączania dodatkowych
 urządzeń.
 W gospodarstwie domowym użytkownicy mogą wyświetlać różne materiały z tego
 samego źródła w wygodny sposób.
 Technologia DLNA oraz wcześniejsza UPnP A/V może ułatwić współczesnym ludziom
 życie w znacznym stopniu i wyeliminować konieczność posiadania kilku urządzeń
 do różnych rodzajów materiałów multimedialnych.
 Wystarczy wyobrazić sobie sprzęt komputerowy z odtwarzaczem Blu-ray, tunerem
 telewizyjnym, pamięcią masową, który udostępnia wszystkie usługi dla sprzętu
 podłączonego do sieci lokalnej.
 W tym wypadku, nie byłoby konieczności podłączania odtwarzacza do telewizora
 (lub posiadanie kilku odtwarzaczy przy kilku telewizorach), a telewizor
 nie musiałby posiadać nawet tunera telewizyjnego.
 Wystarczyłby jedynie sprzętowy dekoder obrazu Full HD, który obsługiwałby
 dużą liczbę kodowań.
 Z wcześniejszego opisu, jasno wynika, że kres możliwości technologii DLNA
 jest jeszcze daleki i nie wiadomo, jaką przyszłość czeka ta technologia.
\end_layout

\begin_layout Standard
Większość produktów RTV posiada obecnie odtwarzacz DLNA.
 Pomimo tego oraz faktu, że nowoczesny sprzęt elektroniczny jest coraz bardziej
 powszechny, serwerów multimedialnych DLNA jest bardzo mało.
 Ich funkcjonalność również jest dość mocno ograniczona i zbyt skomplikowana
 dla przeciętnego użytkownika.
 Proces podłączania powinien zakończyć się gdzieś pomiędzy instalacją okablowani
a sieci lokalnej, a instalacją oprogramowania serwera.
 Niestety, w praktyce, każdy serwer działa inaczej oraz nie współpracuje
 z każdym urządzeniem.
 
\end_layout

\begin_layout Standard
Odnalezienie uniwersalnego oprogramowania serwera multimedialnego jest prawdopod
obnie niemożliwe.
 Jednym z celów niniejszej pracy było między innymi umożliwienie odnalezienia
 uniwersalnej aplikacji obsługującej protokół UPnP A/V oraz współpracujące
 z urządzeniami DLNA.
 Zaprojektował serwer multimedialny UPnP A/V, który współpracuje z bardzo
 dużą ilością odtwarzaczy sieciowych.
 Jednym z zadań było zachowanie prostoty konfiguracji.
 Użytkownik nie powinien być zmuszany do wyboru różnych profili działania
 aplikacji, których nie musi rozumieć.
 Nie powinien poszukiwać metodą prób i błędów, który profil będzie dla niego
 odpowiedni.
 
\end_layout

\begin_layout Standard
Aplikacja spełnia wszystkie przedstawione wymagania.
 Testy zostały przeprowadzone bardzo żmudnie i dokładnie.
 Każda z obowiązkowych funkcji została dokładnie sprawdzona.
 Dzięki przeprowadzonym testom, autor ma pewność, że użytkownik, który uruchomi
 serwer multimedialny odtworzy pożądany materiał na odtwarzaczu UPnP A/V
 oraz DLNA, i o ile to możliwe załaduje dodatkowe napisy lub odtworzy inną
 ścieżkę dźwiękową.
 Spełnienie obsługi tych funkcji (przy zachowaniu braku profili dla różnych
 urządzeń) było czasochłonne do osiągnięcia.
 Cecha opcjonalna, którą było kodowanie materiałów w locie nie została zaimpleme
ntowana.
 Oprogramowanie serwera multimedialnego UPnP A/V działa pod dowolnym sprzętem,
 który obsługuje język programowania Python.
 W rzeczywistości natywnie jest to system operacyjny z rodziny Linux.
 W systemach serii Microsoft Windows, uruchomienie serwera możliwe jest
 po wcześniejszej instalacji oprogramowania Python.
 Serwer multimedialny z powodzeniem działa na routerach, kontrolowanych
 przez różne dystrybucje systemu Linux.
 Kolejnymi krokami, które mogłyby wyróżniać niniejszy serwer multimedialny
 są praca nad obsługą tunerów telewizyjnych i bardziej zautomatyzowany proces
 konfiguracji.
 Cechą negatywną odtwarzaczy DLNA jest ich różnica działania.
 W trakcie pisania aplikacji oraz pisania niniejszej pracy magisterskiej,
 firma LG wydała kilka uaktualnień oprogramowania.
 W każdym z nich odtwarzacz DLNA zmieniał sposób obsługi napisów do filmów.
\end_layout

\begin_layout Standard
Niniejsza praca magisterska miała za zadanie opisania w przystępny sposób
 technologii UPnP A/V oraz DLNA.
 Pośrednio wyjaśniała również specyfikę głównego protokołu (na którym obie
 bazują), to jest UPnP.
 
\end_layout

\begin_layout Standard
DLNA jest technologią przyszłości i ma szansę, aby zaistnieć jako standard
 na rynku sprzętu elektronicznego.
 Technologia ma ułatwiać udostępnianie multimediów i ograniczyć liczbę nośników
 pamięci w sieci domowej.
 W chwili pisania niniejszej pracy, dla większości użytkowników DLNA jest
 jedynie ciekawostką, o której wiedzą, że istnieje, lecz jej nie wykorzystują.
 Obecnie każdy nowy sprzęt posiada odtwarzacz DLNA.
 Jednakże, odtwarzacze nie mogą egzystować, bez udziału drugiej strony komunikac
ji, czyli serwerów multimedialnych, których wybór jest wciąż mocno ograniczony.
 Prawdopodobnie, w przyszłości, już w systemie operacyjnym znajdziemy wbudowany
 serwer multimedialny UPnP A/V lub certyfikowany przez organizację DLNA.
 Tak jak powszechnie wbudowane są usługi udostępniania i wyszukiwania plików,
 drukarek (często również oparte o protokół UPnP), tak serwer DLNA powinien
 być w przyszłości dostępny na tym samym poziomie.
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "test"

\end_inset

UPnP Forum, UPnP Device Architecture 1.0, 2008.
\begin_inset Note Note
status open

\begin_layout Plain Layout
poprawić bibliografię
\end_layout

\end_inset


\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-2"

\end_inset

Digital Living Network Alliance Home Networked Device Interoperability Guideline
s Version: 1.0 
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-3-2"

\end_inset

Digital Living Network Alliance Home Networked Device Interoperability Guideline
s Version: 1.0 Errata Version 2.0 
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-3"

\end_inset


\begin_inset Flex URL
status collapsed

\begin_layout Plain Layout

http://www.upnp.org/specs/gw/UPnP-gw-DeviceProtection-v1-Service-20110224.pdf
\end_layout

\end_inset


\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-4"

\end_inset


\begin_inset Flex URL
status collapsed

\begin_layout Plain Layout

http://www.google.com/url?q=http%3A%2F%2Fwww.pervasive.jku.at%2FResearch%2FPublicatio
ns%2F_Documents%2F2011_Online%2520UPnP%2520AV%2520Device%2520Database%2520for%25
20Quick%2520and%2520Easy%2520Capability%2520Checking_Riener.pdf&sa=D&sntz=1&usg=A
FQjCNEMLLsCjydhx6Qy1L30d4wZ5HgUVA
\end_layout

\end_inset


\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-5"

\end_inset


\begin_inset Flex URL
status collapsed

\begin_layout Plain Layout

http://www.google.com/url?q=http%3A%2F%2Fwww.territorioscuola.com%2Fwikipedia%2Fen.wi
kipedia.php%3Ftitle%3DTalk%3ADigital_Living_Network_Alliance&sa=D&sntz=1&usg=AFQj
CNFB10Qj3jNXfAqwV_NNQaRlBOk5zg
\end_layout

\end_inset


\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-6"

\end_inset


\begin_inset Flex URL
status collapsed

\begin_layout Plain Layout

http://www.google.com/url?q=http%3A%2F%2Fsuperuser.com%2Fquestions%2F226636%2Fwhat-
is-the-difference-between-dlna-and-upnp&sa=D&sntz=1&usg=AFQjCNHUjlpiufrZlgM_YLSN
ohaL355J_g
\end_layout

\end_inset


\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-7"

\end_inset


\begin_inset Flex URL
status collapsed

\begin_layout Plain Layout

http://www.google.com/url?q=http%3A%2F%2Fjan.newmarch.name%2Fpublications%2Fjini_upn
p.isng05.pdf&sa=D&sntz=1&usg=AFQjCNEZCczU2XK8hGsmHe7wU1mAbQpeKA
\end_layout

\end_inset


\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-8"

\end_inset

Abul Ahsan Md.
 Mahmudul Haque, UPnP Networking: Architecture and Security Issues, 2007
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-9"

\end_inset

UPnP Device Architecture V1.0 Annex A – IP Version 6 Support
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-10"

\end_inset

UPnP Device Template
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-11"

\end_inset

Networked Digital Media Standards A UPnP / DLNA Overview, Allegro Software
 Development Corporation, 2006.
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-12"

\end_inset

RFC 2616 Hypertext Transfer Protocol -- HTTP/1.1, Internet Engineering Task
 Force, 1999
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-13"

\end_inset

SOAP Simple Object Access Protocol, W3C, 2007
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-14"

\end_inset

Extensible Markup Language (XML) 1.0 (Fifth Edition), W3C, 2008
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-15"

\end_inset

Overview of UPnP AV Architecture, Intel Corporation, 2003
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-16"

\end_inset

Abusing Universal Plug and Play, Armijn Hemel, 2008
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-17"

\end_inset

Design and Implementation of home network systems using UPnP middleware
 for networked appliances, Dong-Sung Kim, Jae-Min Lee, Wook Hyun Kwon, Kwan
 You, 2002
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-18"

\end_inset

UPnP Design by Example: A Software Developers's Guide to Universal Plug
 and Play, Michael Jeromino, Jack Weast, 2003
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-19"

\end_inset

UPnP Forum UPnP AV Architecture:2, 2010
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-20"

\end_inset

Network Media Content Aggregator for DLNA Server, Jan Kubový, 2011
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-21"

\end_inset

ContentDirectory service:2 Service Template Version 1.01 – Document Version
 1.00, 2006
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-22"

\end_inset

DLNA Overview and Vision Whitepaper 2007 
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-23"

\end_inset

http://brage.bibsys.no/hia/bitstream/URN:NBN:no-bibsys_brage_9695/1/andreas-haber-
phone-based-upnp-control.pdf
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-24"

\end_inset

Wikipedia, http://pl.wikipedia.org/wiki/Kontener_multimedialny, 2011
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-26"

\end_inset

ISO/IEC 10918, JPEG
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-27"

\end_inset

 Cling Framework, http://4thline.org/projects/cling
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-28"

\end_inset

Cyberlink for Java, http://www.cybergarage.org/twiki/bin/view/Main/CyberLinkForJav
a
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-29"

\end_inset

 MiniUPnP, http://miniupnp.free.fr/
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-30"

\end_inset

MiniDLNA, http://sourceforge.net/projects/minidlna/
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-31"

\end_inset

Coherence http://coherence.beebits.net/wiki/WikiStart#CurrentState
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-32"

\end_inset

 Licencja MIT, http://www.opensource.org/licenses/mit-license.php
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-33"

\end_inset

Test Baz danych Open Source, SDJ Extra nr 17, PHP Starter Kit, http://www.scribd.c
om/doc/51087611/2/Test-baz-danych-Open-Source
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-34"

\end_inset

Typy multimedialne MIME, http://tools.ietf.org/html/rfc2046
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-35"

\end_inset

MPEG-4 ISO/IEC 14496-10
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-36"

\end_inset

SQLAlchemy http://www.sqlalchemy.org/
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-37"

\end_inset

ContentDirectory:1, Service Template Version 1.01, 2002, http://upnp.org/specs/av/
UPnP-av-ContentDirectory-v1-Service.pdf
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-38"

\end_inset

AllShare
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-39"

\end_inset

JSON, http://www.json.org/
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
label "40"
key "key-40"

\end_inset

Licencja GPL, http://www.gnu.org/licenses/gpl.html
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
label "41"
key "key-41"

\end_inset

http://www.digitalversus.com/tv-television/dlna-standard-real-mess-a971.html
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
label "42"
key "key-42"

\end_inset

Instrukcja obsługi telewizora Samsung UE46D6750WS
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
label "43"
key "key-43"

\end_inset

RFC 5219, http://tools.ietf.org/html/rfc5219
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
label "44"
key "key-44"

\end_inset

PNG, http://pl.wikipedia.org/wiki/Portable_Network_Graphics
\end_layout

\end_body
\end_document
