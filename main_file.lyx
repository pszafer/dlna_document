#LyX 2.0 created this file. For more info see http://www.lyx.org/
\lyxformat 413
\begin_document
\begin_header
\textclass dcsbook
\begin_preamble
\let\originaltable\table
\let\endoriginaltable\endtable
\renewenvironment{table}[1][ht]{%
  \originaltable[#1]
  \centering}%
  {\endoriginaltable}
\end_preamble
\options thesis
\use_default_options true
\begin_removed_modules
dcs
\end_removed_modules
\maintain_unincluded_children false
\language polish
\language_package default
\inputencoding auto
\fontencoding global
\font_roman default
\font_sans default
\font_typewriter default
\font_default_family default
\use_non_tex_fonts false
\font_sc false
\font_osf false
\font_sf_scale 100
\font_tt_scale 100

\graphics default
\default_output_format pdf2
\output_sync 0
\bibtex_command default
\index_command default
\float_placement H
\paperfontsize default
\spacing single
\use_hyperref false
\papersize default
\use_geometry false
\use_amsmath 1
\use_esint 1
\use_mhchem 1
\use_mathdots 1
\cite_engine basic
\use_bibtopic false
\use_indices false
\paperorientation portrait
\suppress_date false
\use_refstyle 1
\index Index
\shortcut idx
\color #008000
\end_index
\secnumdepth 3
\tocdepth 3
\paragraph_separation indent
\paragraph_indentation default
\quotes_language polish
\papercolumns 1
\papersides 1
\paperpagestyle default
\tracking_changes false
\output_changes false
\html_math_output 0
\html_css_as_file 0
\html_be_strict false
\end_header

\begin_body

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
supervisor{prof.
 dr hab inż.Jan Brzeziński}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
author{inż.
 Paweł Szafer}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
date{Poznań, 2012}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
renewcommand*{
\backslash
tablename}{Tabela}  
\end_layout

\begin_layout Plain Layout


\backslash
renewcommand*{
\backslash
figurename}{Rys.
 }
\end_layout

\begin_layout Plain Layout

%wielkość wcięcia nowego akapitu 
\end_layout

\begin_layout Plain Layout


\backslash
setlength{
\backslash
parindent}{1cm}
\end_layout

\end_inset


\end_layout

\begin_layout Title
UPNP DLNA
\end_layout

\begin_layout Standard
\begin_inset CommandInset toc
LatexCommand tableofcontents

\end_inset


\end_layout

\begin_layout Chapter*
Wstęp
\begin_inset ERT
status open

\begin_layout Plain Layout


\backslash
addcontentsline{toc}{chapter}{Wstęp}
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Technologie udostępniania multimediów w sieciach, zarówno lokalnych, jak
 i sieci Internetowej stają się coraz bardziej powszechne.
 Jakkolwiek dostęp do multimediów znajdujących się w Internecie przy pomocy
 komputera jest bardzo prosty, to problem powstaje w przypadku chęci odtworzenia
 na ekranie telewizora filmu z wakacji, który znajduje się na dysku komputera.
 Dotychczas trzeba było nagrać taki materiał na dysk DVD, bądź w nowszych
 telewizorach “najprostszym” rozwiązaniem było podłączenie dysku USB.
 Sieci komputerowe LAN zostały stworzone w celu łatwej komunikacji między
 stacjami roboczymi.
 Udostępnianie plików było i jest jedną z podstawowych usług, do których
 można wykorzystywać sieć lokalną.
 Jednakże wykorzystywane do dzisiaj protokoły udostępniania plików nie zostały
 zaprojektowane do odtwarzania multimediów i do ich oddzielnego rozpoznawania.
 Odtwarzacz sieciowy DLNA potrafi odtworzyć film, muzykę, obraz, jednak
 w większości przypadków nie poradzi sobie skuteczine z dokumentami, arkuszami
 kalkulacyjnymi i innymi nietypowymi dla niego plikami.
 Natomiast użytkownik takiego odtwarzacza w przypadku filmów oczekuje możliwości
 wyboru ścieżki dźwiękowej, napisów oraz tak jak w przypadku odtwarzaczy
 kaset VHS czy płyt DVD możliwości przewijania materiałów.
 W ostatnich latach wraz z upowszechnianiem się w gospodarstwach domowych
 różnego rodzaju urządzeń multimedialnych typu komputery PC, laptopy, netbooki,
 tablety, smartfony, odtwarzacze Blu-Ray, DVD, telewizory, ramki do zdjęć,
 przenoszenie multimediów między wieloma urządzeniami stało się uciążliwe.
 Co gorsza odtworzenie 
\end_layout

\begin_layout Part
Opis technologii
\end_layout

\begin_layout Chapter
Standardy UPnP i DLNA
\end_layout

\begin_layout Standard
Technologia UPnP, której skrót rozwijany jest jako Universal Plug and Play,
 co w łatwy sposób można zrozumieć jako podłącz i graj (lub odtwarzaj) jest
 zbiorem protokołów sieciowych, których celem powstania była możliwość wzajemneg
o wykrywania się przez urządzenia sieciowe takie jak komputery PC, drukarki,
 punkty dostępu WiFi, routery czy urządzenia mobilne.
 
\end_layout

\begin_layout Standard
UPnP ma za zadanie umożliwić użytkownikowi na łatwe wykrywanie urządzeń
 sieciowych oraz wykorzystywanie ich możliwości.
 Jest ono dedykowane dla małych sieci domowych w celach takich jak udostępnianie
 danych, komunikacja, drukowanie czy szeroko pojęta rozrywka.
 Niniejsza praca jest poświęcona w głównej mierze ostatniemu zagadnień (rozrywka
), którego specyfikacja nazywana UPnP A/V (ang.
 UPnP Audio/Video) jest rozszerzeniem podstawowego standardu UPnP.
 UPNP AV została stworzona do odtwarzania plików multimedialnych.
 Definiuje ona takie pojęcia jak serwery multimedialne (ang.
 Media Servers), Media Renderers??, odtwarzacze multimediów (ang.
 Media Players).
 Określone zostały w bardzo elastyczny sposób metodyt przesyłania multimediów.
 Z tego powodu UPNP AV nie rozpowszechniło się w swojej powszechnej wersji
 wśród producentów sprzętu elektronicznego.
 Każdy programista i każda firma mogła zaimplementować odtwarzacz lub serwer
 w taki sposób, że mogły one ze sobą nie współpracować (pomimo spełnienia
 wymogów standardu) lub powinny być nad wyrost skomplikowane.
 DLNA (ang.
 Digital Living Network Alliance) jest międzynarodową organizacją, powstałą
 w 2003 roku z inicjatywy firmy Sony.
 Stworzyła ona standard o tej samej nazwie (DLNA), który korzysta z protokołu
 UPNP A/V.
 Standard ten jest jednak bardziej restrykcyjny (np w postaci określenia
 formatów multimediów odtwarzanych przez urządzenia), dzięki czemu łatwiejszy
 do implementacji w większości urządzeń, a ponadto wprowadził kilka innowacyjnyc
h cech takich jak ochrona DRM (ochrona przed kopiowaniem).
\end_layout

\begin_layout Section
Opis standardu UPNP
\end_layout

\begin_layout Standard
W 1999 została założona, w głównej mierze dzięki dotacjom firmy Microsoft,
 fundacja UPnP.
 Powołana została w celu stworzenia standardu, który umożliwi intergację
 urządzeń oraz usług w obrębie sieci lokalnej oraz proste określanie ich
 możliwości (np.
 drukowanie).
 
\end_layout

\begin_layout Standard
UPnP jest oparty o architekturę klient - serwer, gdzie urządzenia - serwery
 , oferują swoje usługi dla klientów (UPnP Control Points).
 UPnP główny nacisk kładzie na brak konfiguracji urządzeń przez użytkownika,
 zgodnie z częścią nazwy zarówno fundacji, jak i standardu - plug and play
 (podłącz i działaj).
 Opisywana fundacja ustandaryzowała sposób komunikacji szeregu urządzeń,
 począwszy od włączników światła, drukarkach, kończąc na odtwarzaczach audio-wid
eo.
 Architektura UPNP AV została stworzona do przesyłania materiałów multimedialnyc
h.
 UPNP AV określa sposób komunikacji, między serwerem multimediów, a odtwarzaczem.
 Zbiór protokołów został zaprojektowany tak, aby być niezależny od rodzaju
 urządzenia, odtwarzanej treści i sposobu przesyłania danych.
\end_layout

\begin_layout Standard
UPNP AV określa sposób komunikacji, między serwerem multimediów, a odtwarzaczem.
 Zbiór protokołów został zaprojektowany tak, aby być niezależny od rodzaju
 urządzenia, odtwarzanej treści i sposobu przesyłania danych.
\end_layout

\begin_layout Section
Stos protokołów UPnP
\end_layout

\begin_layout Standard
Głównym wymaganiem UPnP jest działanie w obrębie sieci IP, niezależnie od
 sposobu komunikacji.
 Połączenie może zostać zrealizowane poprzez sieć Ethernet, połączenia bezprzewo
dowe takie jak WiFi 802.11abgn, Bluetooth (pomijany jest tu fakt braku możliwości
 technicznych niektórych protokołów do szybkiego przesyłania danych, co
 w przypadku niektórych typów multimediów, takich jak filmy czy muzyka,
 jest niezbędne).
\end_layout

\begin_layout Standard
Raport techniczny UPnP definiuje jedynie sposoby działania w obrębie sieci
 obsługiwanej przez protokół IPv4.
 Aneks 
\begin_inset CommandInset citation
LatexCommand cite
key "key-9"

\end_inset

 do głównego raportu określa różnice jakie występują, gdy urządzenie działa
 w obrębie sieci IPv6.
 Jeżeli nie napisano inaczej, w niniejszej pracy autor jako pierwszą pozycje
 określa przypadek sieci IPv4, natomiast drugi przypadek to sieć zgodna
 z protokołem IPv6.
 
\end_layout

\begin_layout Standard
\align left
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Protokoły
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename protocol_1.png
	display false
	width 70page%

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "test"

\end_inset


\begin_inset Caption

\begin_layout Plain Layout
Komunikacja
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename communicating.png
	display false
	width 70page%
	groupId figures

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Urządzenia UPnP można sklasyfikować w dwóch kategoriach, punktów kontrolnych
 (ang.
 Control Points) oraz urządzeń kontrolowanych (ang.
 Controlled Devices).
 
\end_layout

\begin_layout Standard
W protokole UPnP definiujemy następujące czynności wykonywane przez urządzenia:
\end_layout

\begin_layout Itemize
adresowanie IP (ang.
 IP addressing),
\end_layout

\begin_layout Itemize
wykrywanie (ang.
 discovery),
\end_layout

\begin_layout Itemize
opis usługi (ang.
 description),
\end_layout

\begin_layout Itemize
kontrola (ang.
 control),
\end_layout

\begin_layout Itemize
powiadomienia o zdarzeniach(ang.
 eventing lub event notification),
\end_layout

\begin_layout Itemize
prezentacja (ang.
 presentation).
\end_layout

\begin_layout Standard
(http://www.upnp.org/specs/arch/UPnP-arch-DeviceArchitecture-v1.0-20080424.pdf)
\end_layout

\begin_layout Standard
Architektura protokołu wykorzystuje stos protokołów przedstawiony w tabeli
 
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Test tabeli
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="6" columns="4">
<features tabularvalignment="top">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0pt">
<column alignment="center" valignment="top" width="0pt">
<row>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
UPNP Vendor
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
UPNP Forum
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
UPNP Device
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
SSDP
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
GENA
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
SOAP 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
HTTPMU 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
HTTP U
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
HTTP
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
HTTP
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multicolumn="1" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
IP
\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multicolumn="2" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Pierwsza, najwyższa warstwa są to wiadomości zawierające specyficzne informacje
 dostarczane przez producenta urządzenia dotyczące jego funkcjonalności
 czy możliwości.
 Kolejnym elementem są informacje zdefiniowane przez organizację UPnP Forum.
 Wszystkie te informacje są przekazywane poprzez następujące protokoły:
 
\end_layout

\begin_layout Itemize
SSDP (ang.
 Simple Service Discovery Protocol),
\end_layout

\begin_layout Itemize
GENA (ang.
 General Event Notification Architecture),
\end_layout

\begin_layout Itemize
SOAP (ang.
 Simple Object Access Protocol).
\end_layout

\begin_layout Standard
Do wzajemnego wykrywania się urządzeń UPnP wykorzystuje protokół SSDP.
 Urządzenia kontrolowane, które można nazwać serwerami usług wykorzystują
 SSDP do rozgłaszania swojego istnienia.
 W przypadku punktów kontrolnych SSDP jest wykorzystywany do wykrywania
 urządzeń pierwszego typu.
 
\end_layout

\begin_layout Standard
W protokole SSDP wykorzystuje się rozgłaszanie HTTP typu unicast lub multicast,
 z wykorzystaniem UDP (ang.
 User Datagram Protocol) jako protokołu transportu.
 Standardowo adresem multicast jest adres 239.255.255.255 oraz port numer 1900.
\begin_inset CommandInset citation
LatexCommand cite
key "key-1"

\end_inset


\end_layout

\begin_layout Standard
Drugi protokół transmisji tj.
 GENA wykorzystywany jest do przekazywania powiadomień o zdarzeniach.
 W tym przypadku typowo wykorzystywany jest protokół HTTP w sposób “tradycyjny”
 (z wykorzystaniem protokołu TCP) oraz transmisja UDP typu multicast.
 
\end_layout

\begin_layout Standard
Punkty kontrolne UPnP do wywoływania pożądanej usługi i kontrolowania urządzeń
 wykorzystują protokół SOAP.
\end_layout

\begin_layout Subsection
Adresowanie
\end_layout

\begin_layout Standard
Zarówno serwer, jak i klient UPnP musi komunikować się z wykorzystaniem
 protokołu IP.
 Organizacja UPnP Forum zdefiniowała, że każde urządzenie, które spełnia
 wymagania specyfikacji musi posiadać oprogramowanie serwera lub klienta
 protkołu DHCP (ang.
 Dynamic Host Configuration Protocol).
 Podczas podłączania się do sieci podejmuje próbę uzyskania adresu IP od
 serwera DHCP (jeżeli urządzenie nie jest serwerem DHCP).
 Jeżeli urządzenie nie otrzyma adresu IP powinno wykorzystać tzw.
 autoadresowanie IP (urządzenie wybiera adres z określonej puli np.
 169.254/16 lub w przypadku IPv6 FE80::/64).
 Raport techinczny stworzony przez organizację UPnP Forum określa dokładnie
 w jaki sposób urządzenie przydziela automatycznie adres IP, tak aby uniknąć
 kolizji.
\end_layout

\begin_layout Standard
Zarówno w praktyce w większości urządzeń, jak i w aplikacji, którą opisuje
 niniejsza praca problem adresowania nie jest najważniejszy, gdyż jest rozwiązyw
any przez oprogramowanie dołączone do sprzętu, bądź systemu operacyjnego.
\end_layout

\begin_layout Standard
Wywołania punktów kontrolnych odbywają się poprzez wykorzystanie adresów
 SOAP SSDP UPNP_FORUM_PUBLIC_RYSUNKI
\end_layout

\begin_layout Subsection
\begin_inset CommandInset label
LatexCommand label
name "sub:Wykrywanie"

\end_inset

Wykrywanie
\end_layout

\begin_layout Standard
Proces wykrywania polega na rozgłaszaniu przez nowo podłączone urządzenia
 informacji o swoim istnieniu.
 Wykorzystywany jest do tego protokół SSDP oraz adres 239.255.255.250 oraz
 port 1900 (dla IPv6 - [FF02::C]:1900).
\end_layout

\begin_layout Standard
Na potrzeby protokołu UPnP wyróżniane są następujące komunikaty SSDP 
\series bold
\bar under
(rys nr 2.3)
\series default
\bar default
:
\end_layout

\begin_layout Itemize
ogłaszanie (
\emph on
ang.
 advertise
\emph default
),
\end_layout

\begin_layout Itemize
szukanie (
\emph on
ang.
 search
\emph default
),
\end_layout

\begin_layout Itemize
odpowiedzi (
\emph on
ang.
 responses
\emph default
).
\end_layout

\begin_layout Standard
Punkty kontrolne nasłuchują urządzeń na porcie 1900 lub rozgłaszają pakiet
 z danymi o typie, identyfikatorze pożądanego urządzenia lub usługi.
 Urządzenia oferujące swoje usługi wysyłają na wcześniej wspomniany adres
 (239.255.255.250:1900) pakiety SSDP przy pomocy rozgłaszania typu 
\emph on
multicast
\emph default
.
\end_layout

\begin_layout Standard
Odpowiedzi są wysyłane przy pomocy rozgłaszania typu 
\emph on
unicast
\emph default
.
 
\end_layout

\begin_layout Standard
Urządzenie nowo dołączone do sieci wysyła rozgłoszenie o swoim istnieniu,
 urządzenia wbudowane w nie również wysyłają rozgłoszenie o sobie oraz o
 usługach, które świadczą.
 Kontrolowane odłączenie od sieci wiążę się z obowiązkiem ogłoszenia zdarzenia
 przez urządzenie.
 Przyjęta jest w tym przypadku zasada, że powinno ono wysłać tyle komunikatów
 odłączenia, ile wysłało komunikatów ogłaszających swoje działanie.
\end_layout

\begin_layout Standard
Rozgłaszanie wiąże się niestety z obciążaniem sieci, często niepotrzebnym.
 W tym celu zalecany czas życia pakietu (
\emph on
TTL - ang.
 time-to-live
\emph default
) dla każdej wiadomości wynosi 4 (powinna istnieć możliwość modyfikacji
 tej wartości).
\end_layout

\begin_layout Standard
\begin_inset Float figure
placement H
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Sposoby wykrywania urządzeń
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename discovery_messages.png
	width 70page%

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsubsection
Wykrywanie: Ogłaszanie
\end_layout

\begin_layout Standard
W głównej części tego podrozdziału został opisany zarys sposobu ogłaszania
 się urządzeń w sieci.
 Jest to jednak bardzo newralgiczna cecha tego protokołu, gdyż bez możliwości
 wzajemnego wykrywania nie ma możliwości, aby urządzenia efektywnie się
 ze sobą komunikowały.
 Każde urządzenie/usług wysyła pakiety ogłaszające (
\emph on
advertise
\emph default
) swoje działanie na adres 239.255.255.250:1900.
 Punkty kontrolne nasłuchują na porcie 1900, oczekując na komunikaty wysyłane
 przez urządzenia.
 Opisywane komunikaty muszą być wysyłane często oraz co określony interwał
 czasowy, gdyż zarówno urządzenie, jak i punkt kontrolny mogą zostać dołączone
 do sieci w różnym czasie.
 
\end_layout

\begin_layout Standard
Każda wiadomość 
\begin_inset Quotes eld
\end_inset

ogłaszająca
\begin_inset Quotes erd
\end_inset

 zawiera możiwości urządzenia (np.
 odtwarzanie muzyki).
 Ilość wiadomości jest zależna od ilości wbudowanych urządzeń/usług w główne
 urządzenie.
 Urządzenia wbudowane w komunikatach dołączają informacje o urządzeniu nadrzędny
m (np.
 informacja o systemie operacyjnym).
 Oprócz wcześniej przedstawionych cech, komunikaty powinny zawierać czas
 do wygaśnięcia ogłoszenia (jeżeli po czasie wygaśnięcia urządzenie nadal
 chce oferować swoje usługi, wówczas powinno wysłać nowy komunikat z nowym
 czasem wygaśnięcia).
 Dzięki takiemu podejściu, pomimo, że urządzenia powinny ogłaszać swoje
 odłączenie od sieci, to nawet, gdy komunikat wyłączenie nie może zostać
 wysłany, wiadomość rozgłaszająca wygaśnie i nie zostanie przedłużona.
 Ogranicza to możliwość istnienia w sieci usług już nie działających.
\end_layout

\begin_layout Standard
Możliwe jest wysyłanie i odbieranie ogłoszenia przez sprzęt zgodny ze specyfikac
ją UPnP, jedynie w przypadku, gdy komunikat jest stworzony według schematu
 z tabeli 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Stos-protokołu-UPnP"

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:Stos-protokołu-UPnP"

\end_inset

Stos protokołu UPnP w przypadku rozgłaszania -- 
\series bold
do poprawienia
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="7" columns="1">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
producent oprogramowania UPnP
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
organizacja UPnP
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
architektura urządzenia UPnP
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
komunikat SSDP
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
HTTPMU (
\emph on
multicast
\emph default
)
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
UDP
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
IP
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Pierwsza warstwa opisywanego stosu zawiera informacje specyficzne dla dostawcy
 urządzenia.
 Najczęściej producenci dołączają w tym miejscu adres URL do opisu urządzenia,
 bądź też identyfikator urządzenia (UUID - 
\emph on
ang.
 Universally unique identifier
\emph default
).
 Kolejną warstwą stosu są informacje dostarczane przez organizację UPnP
 Forum, np.
 typ urządzenia.
 Kolejnym dwie warstwy zostaną dokładnie opisane w niniejszym dokumencie,
 a ich pełen opis znajduje się w specyfikacji protokołu UPnP.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout

\series bold
\bar under
Przykładowy komunikat przyłączający do sieci:
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="8" columns="1">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
NOTIFY * HTTP/1.1 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
HOST: 239.255.255.250:1900 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
CACHE-CONTROL: max-age = seconds until advertisement expires 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
LOCATION: URL for IPP Printer with 'ipp' scheme 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
NT: search target 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
NTS: ssdp:alive 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
SERVER: OS / version, IPP / 1.1, product / version 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
USN: advertisement UUID 
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Trzy pozostałe warstwy nie są tematem niniejszej pracy.
 Warto jedynie zwrócić uwagę na fakt, iż komunikaty HTTP nie są przesyłane
 typowo przez protokół TCP, a przez protokół UDP.
 Jak zostało wspomniane wcześniej urządzenie dołączone do sieci rozgłasza
 swoje istnienie.
 Komunikat rozgłaszający wykorzystuje metodę NOTIFY protokołu HTTP.
 W każdym komunikacie dołączane są informacje w następujących nagłówkach:
\end_layout

\begin_layout Itemize
NT - Notification Type - typ ogłoszenia,
\end_layout

\begin_layout Itemize
NTS - Notification Subtype - podtyp ogłoszenia,
\end_layout

\begin_layout Itemize
USN - Unique Service Name - Unikalna nazwa usługi / UUID
\end_layout

\begin_layout Itemize
LOCATION - URL z rozszerzonymi informacjami o urządzeniu,
\end_layout

\begin_layout Itemize
CACHE-CONTROL - czas do wygaśnięcia ogłoszenia
\end_layout

\begin_layout Standard
Opisywana metoda protokołu HTTP (NOTIFY) wykorzystywana jest przy ogłaszaniu
 podłączenia, bądź też odłączenia od sieci.
 W komunikacie podłączenia pole 
\emph on
NTS
\emph default
 jest podtypu 
\emph on
ssdp:alive
\emph default
, natomiast rozłączenie cechuje podtyp 
\emph on
ssdp:byebye.
\end_layout

\begin_layout Standard
Organizacja stanowiąca zasady protokołu UPnP w przypadku wykrywania urządzeń,
 poza wzajemnym informowaniem się o obecności (bądź też nieobecności), zagwarant
owała również szukanie się wzajemne urządzeń UPnP.
 Do wyszukiwania służy metoda M-SEARCH, której ogólny format przedstawia
 
\series bold
tabela nr.
 
\series default
Pola 
\emph on
HOST
\emph default
 i 
\emph on
MAN 
\emph default
nie mogą zostać zmienione i zawsze muszą mieć taką wartość jak podana w
 tabeli.
 Pole 
\emph on
MX
\emph default
 określa maksymalny czas oczekiwanie w sekundach.
 Jego wartość powinna mieścić się w przedziale 1, a 120.
 Ostatnie pole, 
\emph on
ST
\emph default
 (
\emph on
Search Target
\emph default
) określa rodzaj wyszukiwanego urządzeń.
 Dostępne rodzaje to:
\end_layout

\begin_layout Itemize
ssdp:all - wyszukiwanie wszystkich urządzeń i usług,
\end_layout

\begin_layout Itemize
upnp:rootdevice - wyszukiwanie jedynie urządzeń głównych,
\end_layout

\begin_layout Itemize
uuid:device-UUID - wyszkuwanie konkretnego urządzenia,
\end_layout

\begin_layout Itemize
urn:schemas-upnp-org:device:deviceType:v - wyszukiwanie urządzenia według
 typu.
 Lista typów możliwych do odnalezienia znajduje się w 
\series bold
...
\end_layout

\begin_layout Itemize
urn:schemas-upnp-org:device:seviceType:v - wyszukiwanie urządzenia według
 typu usługi, którą świadczy.
 Lista typów 
\series bold
jak wyżej
\end_layout

\begin_layout Itemize
urn:domain-name:device:deviceType:v - takie jak przeszukiwanie urządzenia
 według typu, z tym, że nazwę domeny typ urządzenia i jego wersję definiuje
 producent urządzenia UPnP,
\end_layout

\begin_layout Itemize
urn:domain-name:device:serviceType:v - takie jak przeszukiwanie urządzenia
 według typu uslugi, z tym, że nazwę domeny typ urządzenia i jego wersję
 definiuje producent urządzenia UPnP.
\end_layout

\begin_layout Standard
Bezpośrednio powiązana z komunikatem M-SEARCH jest odpowiedź na nią, którą
 urządzenie odpowiadające wysyła na adres źródłowy wcześniejszego pakietu.
 Odpowiedź jest zgoda z protokołem HTTP.
 Jej schemat widnieje w 
\series bold
tabeli nr 4.
 
\series default
Odpowiedź nie zawiera treści (
\emph on
HTTP BODY
\emph default
), lecz musi posiadać jedną pustą linię poniżej nagłówka.
 Zarówno dla metody 
\emph on
M-SEARCH, 
\emph default
jak i odpowiedzi na nią nie ma potrzeby określania czasu życia pakietu 
\emph on
TTL.
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Metoda M-Search
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
M-SEARCH * HTTP/1.1
\end_layout

\begin_layout Plain Layout
HOST: 239.255.255.250:1900
\end_layout

\begin_layout Plain Layout
MAN: 
\begin_inset Quotes pld
\end_inset

ssdp:discover
\begin_inset Quotes prd
\end_inset


\end_layout

\begin_layout Plain Layout
MX: seconds to delay response
\end_layout

\begin_layout Plain Layout
ST: search target
\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Odpowiedź na metodę M-SEARCH
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
HTTP/1.1 200 OK
\end_layout

\begin_layout Plain Layout
CACHE-CONTROL: max-age = seconds until advertisment expires
\end_layout

\begin_layout Plain Layout
DATE: when response was generated
\end_layout

\begin_layout Plain Layout
EXT:
\end_layout

\begin_layout Plain Layout
LOCATION: URL for UPnP description for root device
\end_layout

\begin_layout Plain Layout
SERVER: OS/version UPnP/1.0 product/version
\end_layout

\begin_layout Plain Layout
ST: search target 
\series bold
OPISAĆ STRONA 21
\end_layout

\begin_layout Plain Layout
USN: advertisment UUID
\end_layout

\end_inset


\end_layout

\begin_layout Subsection
\begin_inset CommandInset label
LatexCommand label
name "sub:Opis-urządzeń-i"

\end_inset

Opis urządzeń i usług
\end_layout

\begin_layout Standard
Po udanym wyszukaniu urządzenia, punkt kontrolny posiada jedynie podstawowe
 informacje o urządzeniu, które zostały zawarte we wcześniejszych komunikatach
 (
\begin_inset CommandInset ref
LatexCommand nameref
reference "sub:Wykrywanie"

\end_inset

).
 Do interakcji z urządzeniem punkt kontrolny potrzebuje więcej danych, niż
 te zawarte w pierwszych komunikatach.
 W tym celu może pobrać dokładne informacje z adresu URL przesyłanego wraz
 z komunikatem o przyłączeniu do sieci (ang.
 
\emph on
advertising
\emph default
).
 Pobiera informacje nazywane są opisem usługi (ang.
 
\emph on
description
\emph default
).
\end_layout

\begin_layout Standard
Uproszczony schemat pobierania informacji o urządzeniu znajduje się na rysunku
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Schemat-pobierania-opisu"

\end_inset

.
 Pojedyńczy schemat pobierania opisu można podzielić na dwie operacje, uzyskania
 informacji o urządzeniach oraz o usługach, które one oferują.
 W najprostszym schemacie cały proces wykonywany jest w kilku krokach:
\end_layout

\begin_layout Enumerate
Pobranie informacji o głównym urządzeniu (ang.
 
\emph on
root device
\emph default
),
\end_layout

\begin_layout Enumerate
Pobranie informacji o usługach udostępnianych przez urządzenie (ang.
 
\emph on
services
\emph default
).
\end_layout

\begin_layout Standard
Opis urządzenia zawiera informacje o fizycznych i logicznych kontenerach
 
\series bold
(opisać termin kontener).
 
\series default
Natomiast opis usług określa w sposób bardzo dokładny oferowane prze urządzenie
 funkcje.
 Pojedyńcze urządzenie fizyczne może zawierać wiele urządzeń logicznych,
 każde z nich może być skonfigurowane jako główne (ang.
 
\emph on
root device
\emph default
).
 Ponadto każde urządzenie logiczne może oferować jedną lub wiele usług.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status collapsed

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Schemat-pobierania-opisu"

\end_inset

Schemat pobierania opisu usługi
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename get_decription.png
	display false
	width 70page%

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Opis urządzenia/usługi jest napisany przez dostawcę oprogramowania.
 Jest napisany w języku XML i zalecane jest, aby był zgodny z wytycznymi
 przedstawionymi w szablonie opisu urządzenia.
 
\begin_inset CommandInset citation
LatexCommand cite
key "key-10"

\end_inset

 Najważniejszym elementem z punktu widzenia autora jest sposób opisu usługi,
 który powinien być stworzony tak, aby punkty kontrolne jak największej
 liczby producentów (stan idealny - wszystkich producentów) sprzętu i oprogramow
ania potrafiły uzyskać przydatne dla nich informacje.
\end_layout

\begin_layout Standard
W celu otrzymania opisu urządzenia (bądź usługi) wykorzystywana jest metoda
 GET protokołu HTTP.
 Adres URL znajduje się w wiadomościach z ogłoszeniem o przyłączeniu do
 sieci.
\end_layout

\begin_layout Subsection
Kontrola
\end_layout

\begin_layout Standard
Po uzyskaniu opisu urządzenia oraz usługi, punkt kontrolny może wywołać
 akcje, które mogą wykonywać dostawcy usług.
 Wywoływanie usługi przez punkt kontrolny można określić jako rodzaj wywołań
 zdalnych RPC (ang.
 
\emph on
Remote Procedure Call
\emph default
).
 Każde polecenie, niezależnie czy wywoływane przez punkt kontrolny czy jako
 odpowiedź zwrotna od usługi, jest enkapsulowane w komunikatach SOAP (ang.
 
\emph on
Simple Object Access Procotol
\emph default
) poprzez wywołania protokołu HTTP.
 Wywoływanie procedur przez punkt kontrolny może (lecz nie musi) być przedstawio
ne poprzez modyfikację zmiennych określających stan usługi.
 O każdym takim zdarzeniu powinny zostać poinformowane wszystkie zainteresowane
 punkty kontrolne.
\begin_inset CommandInset citation
LatexCommand cite
key "key-11"

\end_inset

 Punkt kontrolny może wykorzystywać wywołania zdalne, tak długo, aż wcześniej
 wysłane ogłoszenie nie wygaśnie lub nie zostanie odwołane (przesłanie nowego
 ogłoszenia, wydłuża możliwość wykonywania wywołań kontrolnych).
\end_layout

\begin_layout Standard
Przykładowe wywołanie akcji do usługi znajdującej się w urządzeniu UPnP
 zostało umieszoncze na rysunku 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Wywołanie-akcji-przez"

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Wywołanie-akcji-przez"

\end_inset

Wywołanie akcji przez punkt kontrolny
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename control.png
	display false
	width 70page%

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Subsection
\begin_inset CommandInset label
LatexCommand label
name "sub:Zdarzenia"

\end_inset

Zdarzenia
\end_layout

\begin_layout Standard
W opisie urządzenia UPnP przesyłana jest lista akcji możliwych do wykonania
 przez usługę oraz lista zmiennych modelujących aktualny stan usługi (w
 trakcie jej działania).
 Jako zdarzenie (ang.
 
\emph on
event
\emph default
) została zdefiniowana zmiana wartości wcześniej wspomnianych zmiennych.
 Każdy punkt kontrolny może zasubskrybować (z ang.
 
\emph on
subscribe)
\emph default
 otrzymywanie informacji o takich zmianach.
 Punkt kontrolny, który zamówił subskrypcję zdarzeń nazywany subskrybentem
 (ang.
 
\emph on
subscriber
\emph default
), natomiast usługę, która takową subskrypcję realizuje (wysyła informację
 o zmianie stanu zmiennych) określamy jako wydawcę (ang.
 
\emph on
publisher
\emph default
).
 Wiadomości przesyłane są poprzez protokół GENA (ang.
 
\emph on
General Event Notification Architecture
\emph default
), który jest rozszerzeniem protokołu HTTP zaprojektowanym na potrzeby organizac
ji UPnP Forum.
\end_layout

\begin_layout Standard
Punkt kontrolny w celu otrzymywania subskrypcji wysyła zgłoszenie subskrypcji
 (ang.
 
\emph on
subscription message
\emph default
).
 Jeżeli zgłoszenie jest zaakecptowane wydawca zwraca potwierdzenie w postaci
 czasu ważności sybksrypcji.
 Subskrypcja musi być odnawiana przez subskrybenta poprzez wysłanie kolejnych
 zgłoszeń.
 Punkt kontrolny, który otrzymuje informacje o zmianie stanu zmiennych może
 w każdej chwili zrezygnować z ich prenumeraty poprzez wysłanie wiadomości
 unieważniającej (ang.
 
\emph on
cancellation message
\emph default
) do wydawcy.
\begin_inset CommandInset citation
LatexCommand cite
key "key-11"

\end_inset


\end_layout

\begin_layout Standard
Do wydawcy należy zadanie wysyłania informacji o zdarzeniach.
 Komunikat zdarzenia (ang.
 
\emph on
event message
\emph default
) zawiera jeden lub więcej zmiennych, wraz z ich aktualnymi wartościami
 i jest zapisany w notacji języka XML (ang.
 
\emph on
Extensible Markup Language
\emph default
).
 Pierwsza wiadomość wysłana do subskrybenta jest nazywana wiadomością inicjująca
 (ang.
 
\emph on
initial event message
\emph default
) i zawiera wszystkie zmienne (wraz z ich wartościami).
 Wydawca rozsyła zawsze wszystkie zmienione wersje do każdego punktu kontrolnego
, który zgłosił chęć otrzymywania powiadomień (nie ma możliwości przesyłania
 jedynie niektórych zmiennych).
 
\begin_inset CommandInset citation
LatexCommand cite
key "key-11"

\end_inset


\end_layout

\begin_layout Standard
Zmienne, których wartości są zbyt duże lub których wartości ulega bardzo
 często zmianie, przez co ich wysłanie w komunikacie zdarzenia jest bezcelowe
 lub niemożliwe, wydawca może oznaczyć jako tagiem 
\emph on
non-evented
\emph default
, czyli jako niezgłaszane w rozsłyanych pakietach.
 
\begin_inset CommandInset citation
LatexCommand cite
key "key-1"

\end_inset

 Rozmiar (wielkość) zmiennych jest zgodna ze schematem dokumentu XML 
\begin_inset CommandInset citation
LatexCommand cite
key "key-14"

\end_inset

.
\end_layout

\begin_layout Standard
Przykładem zdarzeń może być zmiana poziomu głośności urządzenia UPnP, które
 to zdarzenie jest wysyłane do zainteresowanego punktu kontrolnego.
 Innym przykładem, dotyczącym multimediów, jest dodanie pliku, bądź plików
 multimedialnych i wysłanie powiadomienia o tym fakcie do subskrybentów.
 Dzięki temu punkty kontrolne mogą wykonać natychmiastową aktualizacje listy
 plików w sposób wygodny i nie wymagający interwencji użytkownika.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Komunikacja-pomiędzy-punktem"

\end_inset

Komunikacja pomiędzy punktem kontrolnym, a usługą w przypadku zapisywania
 do subskrybcji
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename eventing.png
	display false
	width 70theight%

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Prezentacja
\end_layout

\begin_layout Standard
Warstwa prezentacji jest ostatnią w stosie protokołu UPnP.
 Wyświetla ona interfejs użytkownika w postaci strony HTML, który umożliwia
 kontrolę i sprawdzanie statusu urządzenia oraz usług wbudowanych w to urządzeni
e.
 Dostęp do interfejsu użytkownika urządzenia umożliwia adres URL, dostarczany
 wraz z opisem urządzenia (warstwa opisu) 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Opis-urządzeń-i"

\end_inset

.
 Dostarczanie prezentacji nie jest obowiązkowe i wiele urządzeń takiego
 interfejsu nie zapewnia.
 Uzyskanie opisywanej strony HTML urządzenia odbywa się zgodnie ze standardem
 HTTP (wykorzystując metodę HTTP GET).
\begin_inset CommandInset citation
LatexCommand cite
key "key-1"

\end_inset


\end_layout

\begin_layout Standard
Wygląd prezentacji nie jest narzucowny w żaden sposób przez zrzeszenie UPnP
 Forum i jest zależna w pełni od preferencji producenta urządzenia.
 Wymanage jest jednakże, aby strona była zgodna ze standardem HTML i powinna
 być w wersji 3.0 lub późniejszej.
\begin_inset CommandInset citation
LatexCommand cite
key "key-1"

\end_inset


\end_layout

\begin_layout Standard
Często do kontroli urządzenia poprzez warstwę prezentacji wykorzystywane
 są pozostałe wartwy stosu UPnP.
 Jednakże nie każdy interfejs UPnP umożliwia modyfikację wszystkich danych
 (rozdział dotyczący warstwy zdarzeń 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Zdarzenia"

\end_inset

), co zmusza programistów do tworzenia kilku interfejsu kontroli usług UPnP.
\begin_inset CommandInset citation
LatexCommand cite
key "key-1"

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Żądanie strony prezentacji od urządzenia UPnP przez punkt kontrolny
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename presentation.png
	display false
	width 70page%

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Section
Klasy urządzeń multimedialnych UPnP
\end_layout

\begin_layout Standard
Specyfikacja UPnP definiuje kilka rodzajów urządzeń, które dotyczą protokołu
 UPnP w sieci IP.
 W niniejszym rozdziale zostaną opisane rodzaje spotykanych urządzeń UPnP
 ze szczególnym ukierunkowaniem na rodzaje przeznaczone do współpracy z
 materiałami multimedialnymi.
 Urządzenia te są zgodne z jedną z kategorii opisywanego protokołu nazywanego
 UPnP AV (od ang.
 
\emph on
Audio / Video
\emph default
).
\end_layout

\begin_layout Standard
Organizacja DLNA (ang.
 
\emph on
Digital Living Network Alliance) 
\emph default
zaczerpnęła
\emph on
 
\emph default
mutlimedialne rodzaje urządzeń ze specyfikacji UPnP oraz dodała elementy
 wyróżniające DLNA (np drukarkę multimediów).
 W niniejszym rozdziale zostaną przedstawione zarówno nazwy urządzeń DLNA,
 jak i multimedialnych urządzeń UPnP AV.
\end_layout

\begin_layout Standard
Jak zostało opisane w poprzednim rozdziale wyróżniamy trzy główne rodzaje
 urządzeń:
\end_layout

\begin_layout Itemize
punkty kontrolne,
\end_layout

\begin_layout Itemize
usługi,
\end_layout

\begin_layout Itemize
urządzenia.
\end_layout

\begin_layout Standard
Urządzenia multimedialne podzielone zostały na następujące kategorie:
\end_layout

\begin_layout Itemize
serwer multimediów (ang.
 
\emph on
Media Server
\emph default
) / cyfrowy serwer multimediów DMS (ang.
 
\emph on
Digital Media Server
\emph default
),
\end_layout

\begin_layout Itemize
* / cyfrowy odtwarzacz multimediów DMP (ang.
 
\emph on
Digital Media Player
\emph default
),
\end_layout

\begin_layout Itemize
serwer renderujący (ang.
 
\emph on
Media Renderer) / 
\emph default
cyfrowy serwer renderujący DMR (ang.
 
\emph on
Digial Media Renderer
\emph default
) ,
\end_layout

\begin_layout Itemize
punkt kontrolny / cyfrowy kontroler multimediów DMC (ang.
 
\emph on
Digital Media Controller
\emph default
),
\end_layout

\begin_layout Itemize
drukarka multimediów DMPr (ang.
 
\emph on
Digital Media Printer).
\end_layout

\begin_layout Standard
W powyższej liście pierwsza nazwa jest nazwą nadaną przez organizację UPnP,
 druga przez organizację DLNA.
 W przypadku, gdy odpowiednik, w którymś z protokołów nie występuje, na
 miejscu nazwy usługi lub urządzenia znajduje się znak myślnika.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Schemat-odtwarzania-w"

\end_inset

Schemat odtwarzania w UPnP AV
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename upnpavplaying.png
	display false
	width 70page%

\end_inset


\end_layout

\begin_layout Plain Layout

\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Serwer multimedialny
\end_layout

\begin_layout Standard
Serwer multimediów w protokołach UPNP AV oraz DLNA jest niezbędnym elementem
 sieci.
 Serwer udostępnia stworzone, pobrane, nagrane pliki multimedialne.
 Jest to jego główne zadanie.
 W protokole DLNA jego rolą jest również zapewnienie ochrony treści (praw
 autorskich).
 Serwer multimediów UPnP AV nie zapewnia ochrony treści.
 Serwer multimedialny jest to zazwyczaj oprogramowanie zainstalowane na
 urządzeniach podłączonych do sieci Ethernet, takich jak:
\end_layout

\begin_layout Itemize
komputer typu PC,
\end_layout

\begin_layout Itemize
nagrywarka cyfrowa,
\end_layout

\begin_layout Itemize
smartfon,
\end_layout

\begin_layout Itemize
kamera cyfrowa,
\end_layout

\begin_layout Itemize
odtwarzacz BluRay / DVD.
\end_layout

\begin_layout Standard
Na urządzenie lub oprogramowanie serwera UPnP składają się następujące usługi:
\end_layout

\begin_layout Itemize
usługa zarządzania treścią (ang.
 
\emph on
Content Directory Service),
\end_layout

\begin_layout Itemize
usługa menedżera połączeń (ang.
 
\emph on
ConnectionManager Service
\emph default
),
\end_layout

\begin_layout Itemize
opcjonalna: usługa transportu AV (ang.
 
\emph on
AVTransport Service
\emph default
).
\end_layout

\begin_layout Standard
Pierwsza z usług, dotycząca zarządzania treścią umożliwia punktom kontrolnym
 przeglądanie zasobów udostępnianych przez serwer.
 Jedną z metod jest przeglądanie - 
\emph on
ContentDirectory:::Browse(), 
\emph default
która po
\emph on
zwala 
\emph default
uzyskać informacje uzyskać informacje o pliku wraz z jego metadanymi - nazwa,
 artysta itd.
 W metadanych mogą również być zawarte informacje o kodowaniu, transporcie,
 dzięki którym punkt kontrolny potrafi określić czy dany odtwarzacz ma możliwość
 odtworzenia zawartości.
 Druga z usług wykorzystywana jest do zarządzania ustanowionych już połączeń.
 Ostatnia z opisywanych usług, służy do zarządzania odtwarzanym materiałem.
 Umożliwia wydawanie poleceń takich jak: odtwarzaj, pauza, stop, przewiń
 wprzód, przewiń w tył itd.
\end_layout

\begin_layout Standard
Wszystkie powyżej opisane usługi 
\begin_inset Quotes pld
\end_inset

wewnętrzne
\begin_inset Quotes prd
\end_inset

 są również integralną częścią specyfikacji DLNA (ich nazwy w większości
 publikacji pozostały takie same).
\begin_inset CommandInset citation
LatexCommand cite
key "key-19"

\end_inset


\end_layout

\begin_layout Subsection
Odtwarzacz multimediów oraz odtwarzacz renderujący
\end_layout

\begin_layout Standard
W przypadku opisywanego oprogramowania różnica, między standardami UPnP,
 a DLNA jest najbardziej widoczna.
 Zróżnicowanie te polega głównie na rozdzieleniu ogólnie pojętego zadania
 odtwarzania materiałów multimedialnych na mniejsze, pośrednie zadania.
\end_layout

\begin_layout Standard
W przypadku UPnP AVw odtwarzaniu treści multimedialnych uczestniczy punk
 kontrolny, który wyszukuje materiały udostępniane przez serwer multimediów
 oraz zleca ich odtworzenie.
 Polecenie odtworzenia może zostać wykonane w postaci dwóch metod.
 Metodą 
\emph on
push
\emph default
, w której serwer mutlimediów wysyła treść do wybranego przez punkt kontrolny
 odtwarzacz renderujący, bądź też metodą 
\emph on
pull, 
\emph default
w której odtwarzaczacz renderujący (ang.
 
\emph on
MediaRenderer
\emph default
) pobiera dane z serwera multimediów, renderuje je i/lub odtwarza (może
 je renderować i wysyłać do odtwarzania do innego odtwarzacza).
 Uproszczony schemat opisanej powyżej procedury znajduje się na rysunku
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Architektura-odtwarzania-UPnP"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Architektura-odtwarzania-UPnP"

\end_inset

Architektura odtwarzania UPnP AV
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename playback_architecture_upnpav.png
	display false
	width 70page%

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
W przypadku architektury DLNA wyróżniamy dwie usługi potrafiące odtwarzać
 materiały:
\end_layout

\begin_layout Itemize
odtwarzacz multimedialny (ang.
 
\emph on
Digital Media Player
\emph default
),
\end_layout

\begin_layout Itemize
odtwarzacz renderujący (ang.
 
\emph on
Digital Media Renderer
\emph default
).
\end_layout

\begin_layout Standard
Pierwszy z nich służy do wyszukiwania i renderowania treści multimedialnych.
 Natomiast zadaniem drugiego jest renderowanie oraz odtwarzanie zadań zleconych
 przez kontroler multimediów.
 Różnica między pierwszym, a drugim jest taka, że odtwarzaczowi renderującemu
 trzeba zlecić zadanie odtwarzanie, natomiast odtwarzacz multimedialny może
 podjąć taką decyzję 
\begin_inset Quotes pld
\end_inset

samodzielnie
\begin_inset Quotes prd
\end_inset

.
\end_layout

\begin_layout Standard
Urządzeniami tego typu może być:
\end_layout

\begin_layout Itemize
telewizor,
\end_layout

\begin_layout Itemize
odtwarzacz DVD/BluRay,
\end_layout

\begin_layout Itemize
amplituner,
\end_layout

\begin_layout Itemize
smartfon,
\end_layout

\begin_layout Itemize
komputer PC.
\end_layout

\begin_layout Standard
Podobnie, jak w przypadku serwera UPnP, odtwarzacz posiada intergralne usługi,
 które musi, bądź powinien mieć zaimplementowane:
\end_layout

\begin_layout Itemize
usługa kontroli renderowania,
\end_layout

\begin_layout Itemize
usługa menedżera połączeń (ang.
 
\emph on
ConnectionManager Service
\emph default
),
\end_layout

\begin_layout Itemize
opcjonalna: usługa transportu AV (ang.
 
\emph on
AVTransport Service
\emph default
).
\end_layout

\begin_layout Standard
Dwie ostatnie usługi komunikują się ze swoimi odpowiednikami w implementacji
 serwera multimedialnego (ich funkcje się uzupełniają).
 Usługa kontroli renderowania pozwala punktowi kontrolnemu sterować sposobem
 przetwarzania treści przez odtwarzacz renderujący.
 Oznacza to zmianę takich funkcji jak: jasność, kontrast, głośność, wyciszenie
 itd.
 Usługa kontroli renderowania może obsługiwać wiele odtwarzaczy renderujących,
 co umożliwia jednoczesną zmianę ustawień w wielu urządzeniach UPnP.
\begin_inset CommandInset citation
LatexCommand cite
key "key-19"

\end_inset


\end_layout

\begin_layout Subsection
Punkt kontrolny oraz kontroler multimedialny
\end_layout

\begin_layout Standard
W przypadku UPnP A/V nie wyspecyfikowano oddzielnej usługi / urządzenia
 do kontroli odtwarzacza.
 Taką rolę spełnia punkt kontrolny w obrębie całej specyfikacji UPnP.
 Punkt kontrolny w UPnP koordynuje działania serwera multimediów i odtwarzacza.
 Zazwyczaj wysyłanie poleceń jest efektem interakcji z użytkownikiem poprzez
 interfejs użytkownika.
 Punktu kontrolnego, w opisywanej roli, specyfikacja UPnP AV nie określa
 jako pełnoprawnego urządzenia UPnP (nie dostarcza żadnych usług UPnP oraz
 nie jest widoczny jako urządzenie UPnP w sieci), lecz jest niezbędnym pośrednik
iem, między użytkownikiem, a urządzeniami UPnP.
\end_layout

\begin_layout Standard
Specyfikacja DLNA wyróżnia punkt kontrolny do zarządzania odtwarzaczem multimedi
alnym, bądź renderującym.
 Kontroler multimedialny (ang.
 
\emph on
Digital Media Controller)
\emph default
 odtwarza zawartość, znalezioną w udostępnianych zasobach serwera multimedialneg
o lub zarządza odtwarzaną zawartość odtwarzacza renderującego.
 Kontrolerami multimedialnymi zazwyczaj są:
\end_layout

\begin_layout Itemize
smartfony,
\end_layout

\begin_layout Itemize
tablety,
\end_layout

\begin_layout Itemize
itd.
\end_layout

\begin_layout Standard
Uproszczony sposób działania algorytmu punktu kontrolnego, współpracującego
 z pojedyńczym serwerem multimedialnych oraz serwerem renderującym wygląda
 następująco:
\end_layout

\begin_layout Enumerate
Wykrywanie urządzeń Audio / Video (przy pomocy mechanizmów UPnP).
\end_layout

\begin_layout Enumerate
Zlokalizowanie pożądanej treść, przy pomocy metod serwera UPnP, takich jak
 
\emph on
ContentDirectory::Browse() 
\emph default
oraz 
\emph on
ContentDirectory::Search(), 
\emph default
które umożliwiają odnalezienie zasobu.
\end_layout

\begin_layout Enumerate
Pobierz wspierane, przez odtwarzacz renderujący, formaty danych i protokoły
 (poprzez metodę 
\emph on
ConnectionManager::GetProtocolInfo()
\emph default
).
\end_layout

\begin_layout Enumerate
Sprawdź możliwości odtworzenia materiału przez pożądany odtwarzacz, wyznacz
 najlepszy sposób transmisji oraz format danych.
\end_layout

\begin_layout Enumerate
Skonfiguruj serwer oraz odtwarzacz renderujący - wykorzystywane są takie
 polecenia jak: 
\emph on
ConnectionManager::PrepareForConnection(), AVTransport::Play(), AVTransport::Sto
p(), AVTransport::Pause(), AVTransport::Seek() itd.
\end_layout

\begin_layout Enumerate
Wyznacz zawartość do przesłania.
\end_layout

\begin_layout Enumerate
Rozpocznij przesyłanie wybranej treści.
\end_layout

\begin_layout Enumerate
Możliwe wywoływanie działań na odtwarzaczu (np.
 pauza).
\end_layout

\begin_layout Enumerate
Wybierz opcję: powtórz odtworzenie lub kolejny materiał.
\end_layout

\begin_layout Enumerate
Po zakończeniu działania zamknij połączenia z serwerem multimediów.
\end_layout

\begin_layout Subsection
Odmiany mobilne
\end_layout

\begin_layout Standard
Specyfikacja DLNA dla większości typów urządzeń (wyjątkiem jest drukarka
 
\emph on
DMPr
\emph default
) przewiduje możliwość ich odmiany mobilnej.
 Spełniają one te same funkcje co typy główne.
 Rozróżnienie dużej ilości typów zostało wprowadzone dla ułatwionej orientacji
 konsumentów, pośród różnych produktów.
\begin_inset CommandInset citation
LatexCommand cite
key "key-20"

\end_inset


\end_layout

\begin_layout Standard
Poza powtarzającymi się typami wyróżniamy dwa, które istnieją jedynie w
 wersji mobilnej:
\end_layout

\begin_layout Itemize
menedżer wysyłania multimediów (ang.
 
\emph on
Mobile Digital Media Uploader M-DMU)
\emph default
,
\end_layout

\begin_layout Itemize
menedżer pobierania multimediów (ang.
 
\emph on
Mobile Digital Media Downloader M-DMD).
\begin_inset CommandInset citation
LatexCommand cite
key "key-20"

\end_inset


\end_layout

\begin_layout Standard
Pierwszy typ służy do wysłania (całości) materiału do serwera multimediów
 (mobilnej wersji bądź standardowej) poprzez sieć bezprzewodową.
 Przykładem takich urządzeń mogą być: cyfrowy aparat fotograficzny, kamera
 wideo, smartfon.
 Menedżer pobierania multimediów, również jest urządzeniem działającym w
 obrębie sieci bezprzewodowej, które pobiera materiały udostępniane przez
 serwer DLNA (niezależnie od wersji mobilnej, bądź standardowej).
 Menedżerem pobierania może być smartfon lub przenośny odtwarzacz muzyki.
\begin_inset CommandInset citation
LatexCommand cite
key "key-20"

\end_inset


\end_layout

\begin_layout Standard
Odmiany mobilne urządzeń i usług nie są wyróżnione w dokumentacji UPnP.
\end_layout

\begin_layout Chapter
Multimedia w UPnP AV/DLNA
\end_layout

\begin_layout Standard
Specyfikacja UPnP AV została stworzona do umożliwienia oraz ustandaryzowania
 sposobu komunikacji ze sobą urządzeń multimedialnych w obrębie sieci lokalnej
 oraz zapewnienie współpracy między produktami różnych dostawców.
 Cel ten w specyfikacji UPnP AV został w dużej mierze osiągnięty.
 Specyfikacja UPnP AV pozostawia jednak swobodę w możliwościach obsługiwanych
 formatów danych.
 Oznacza to, że pomimo komunikowania się ze sobą różnych urządzeń, cel dla
 użytkownika końcowego, czyli odtworzenie treści, nie zawsze może być spełniony.
 Liberalność w kwestii wspieranych formatów zadziałał w tym przypadku na
 niekorzyść specyfikacji UPnP AV.
\end_layout

\begin_layout Standard
Z powyżej opisanego powodu producenci urządzeń powołali konsorcjum DLNA.
 W specyfikacji DLNA autorzy skupili się w również na formatach odtwarzanych
 plików.
 Natomiast ze specyfikacji UPnP zapożyczyli między innymi w prawidłowy sposób
 działającą komunikację między urządzeniami.
 Jako format definiuje się możliwy sposób zakodowania pliku.
\end_layout

\begin_layout Standard
Certyfikacja DLNA jest stosowana przez większość producentów urządzeń multimedia
lnych, a spośród w chwili obecnej najprawdopodobniej najpopularniejszego
 przeznaczenia DLNA (odtwarzanie filmów), większość producentów nowoczesnych
 telewizorów wyposaża je w oprogramowanie odtwarzacza DLNA.
\end_layout

\begin_layout Standard
Zgodnie ze standardem UPnP AV oraz DLNA plik multimedialny można zaklasyfikować
 do jednego z następujących formatów:
\end_layout

\begin_layout Itemize
audio (ang.
 
\emph on
audio
\emph default
),
\end_layout

\begin_layout Itemize
obraz (ang.
 
\emph on
image
\emph default
),
\end_layout

\begin_layout Itemize
audio-wideo (ang.
 
\emph on
AV / audio-video).
\end_layout

\begin_layout Standard
W niniejszym rozdziale zostaną opisane obsługiwane typy multimediów, ich
 klasyfikacje w opisywanych specyfikacjach oraz formaty kodowania plików,
 przechowywania oraz sposób ich obsługi.
\end_layout

\begin_layout Standard
Typy plików (lub ich kodowania) konieczne do obsługi oraz opcjonalne, zdefiniowa
ne przez DLNA, znajdują się w tabelach 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Typy-obsługiwanych-plików"

\end_inset

, .
 Objaśnienia do niniejszej tabeli znajdują się w rozdziałach poświęconym
 poszczególnym klasom multimediów.
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:Typy-obsługiwanych-plików"

\end_inset

Typy obsługiwanych plików w DLNA - standardowe urządzenia
\begin_inset CommandInset citation
LatexCommand cite
key "key-22"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="4" columns="3">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0pt">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Klasa multimediów
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Wymagane typy plików
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Opcjonalne typy plików
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Obraz (ang.
 
\emph on
Image
\emph default
)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
JPEG
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
PNG, GIF, TIFF
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Audio
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
LPCM
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
AC3, AAC, MP3, WMA9, ATRAC3plus
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Wideo (ang.
 
\emph on
Video
\emph default
)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
MPEG2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
MPEG1, MPEG4, WMV9
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Typy obsługiwanych plików w DLNA - urządzenia mobilne
\begin_inset CommandInset citation
LatexCommand cite
key "key-22"

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="6" columns="3">
<features tabularvalignment="middle">
<column alignment="left" valignment="top" width="0pt">
<column alignment="left" valignment="top" width="0pt">
<column alignment="center" valignment="top" width="0pt">
<row>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Klasa multimediów
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Wymagane typy plików
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Opcjonalne typy plików
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Obraz (ang.
 
\emph on
Image
\emph default
)
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
JPEG
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
PNG, GIF, TIFF
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="3" alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Audio
\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
MP3, MPEG4 AAC LC
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
MPEG4 (HE AAC, AAC LTP, BSAC),
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
AMR, ATRAC3plus, G.726, WMA, LPCM
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="3" alignment="left" valignment="middle" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Wideo (ang.
 
\emph on
Video
\emph default
)
\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="left" valignment="middle" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
MPEG4 AVC (AAC LC)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
VC1, H.263, MPEG4, 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
MPEG2, MPEG4 AVC (np.
 BSAC)
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Section
Odtwarzanie multimediów
\end_layout

\begin_layout Standard
W odtwarzaniu multimediów w DLNA (analogicznie w UPnP AV) muszą brać udział
 minimum dwa urządzenia.
 Jedno to serwer multimediów udostępniający materiał, drugie to odtwarzacz
 DLNA (rysunek 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Uproszczony-schemat-komunikacji"

\end_inset

).
 Istnieje również schemat w którym udział bierze więcej urządzeń, a trzecim
 urządzeniem jest kontroler multimedialny pełniący rolę 
\begin_inset Quotes pld
\end_inset

pilota
\begin_inset Quotes prd
\end_inset

 zarządzającego, co ma być odtwarzane oraz zarządzać odtwarzaniem (
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:2Uproszczony-schemat-komunikacji"

\end_inset

).
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Uproszczony-schemat-komunikacji"

\end_inset

Uproszczony schemat komunikacji 2 urządzeń
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename 2box_playing.png
	display false
	width 100text%

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:2Uproszczony-schemat-komunikacji"

\end_inset

Uproszczony schemat komunikacji 3 urządzeń
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename 3box_playing.png
	display false
	width 100text%

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Pierwsze dwa kroki w celu odtwarzania materiału to podłączenie urządzenia
 do sieci:
\end_layout

\begin_layout Enumerate
Urządzenie dołącza do sieci lokalnej (pobiera adres z serwera DHCP lub autorytat
ywnie przydziela sobie adres IP - metoda Auto-IP),
\end_layout

\begin_layout Enumerate
Urządzenie wysyła informacje o sobie z wykorzystaniem protokołu SSDP na
 adres 239.255.255.255:1900.
\end_layout

\begin_layout Standard
W dalszej kolejności następuje prawidłowa procedura odtwarzania:
\end_layout

\begin_layout Enumerate
Punkt kontrolny (w notacji DLNA - odtwarzacz multimedialny lub kontroler
 multimedialny) wysyła żądanie opisu urządzenia i usługi (usług) do serwera
 multimedialnego.
\end_layout

\begin_layout Enumerate
Serwer multimedialny odsyła opis urządzenia i usługi (usług) w postaci pliku
 XML.
\end_layout

\begin_layout Enumerate
Punkt kontrolny za pomocą komunikat SOAP wysyła do serwera akcje, którą
 chce wykonać.
 W przypadku odtwarzania mogą być to komunikaty przeglądania multimediów
 (ang.
 
\emph on
browse
\emph default
), ich wyszukiwania (ang.
 
\emph on
search
\emph default
).
 Ilość komunikatów jest zależna od drzewa wyszukiwania pożądanego pliku
 przez użytkownika.
\end_layout

\begin_layout Enumerate
Wyszukiwanie kończy się wyborem pliku z wykorzystaniem metod protokołu HTTP
 np.
 HTTP GET.
\end_layout

\begin_layout Standard
Odtwarzacz mutimedialny ma możliwość, działania w typowy sposób dla tradycyjnego
 odtwarzacza muzyki lub wideo/DVD.
 Może przewijać materiał w przód, w tył.
 Przewijanie jest wykonywane przez podawania pożądanych bajtów pliku (np.
 bajt 50 000 - 150 000) przez odtwarzacz multimedialny.
 Wykonywanie przewijania i skoków w filmie jest możliwe tylko wtedy gdy
 serwer multimedialny udostępnia rozmiar pliku lub długość pliku (niektóre
 odtwarzacze pożądają jednostek w minutach dla długości muzyki czy filmu,
 pomimo, że prawdiłowo wykorzystują pobieranie tzn.
 pobierają okresloną ilość bajtów).
\end_layout

\begin_layout Standard
Odtwarzacz multimedialny zgodnie z przytaczanymi specyfikacjami mają możliwość
 układania list odtwarzania (ang.
 
\emph on
playlist
\emph default
), jednakże autor nie odnalazł odtwarzacza, który umożliwiałby jej utworzenie.
\end_layout

\begin_layout Section
Klasy multimediów UPnP
\end_layout

\begin_layout Standard
Klasą główną urządzeń UPnP jest 
\emph on
item, 
\emph default
w którym są zawarte następujące podtypy:
\end_layout

\begin_layout Itemize
rysunek (
\emph on
imageItem
\emph default
),
\end_layout

\begin_deeper
\begin_layout Itemize
obraz (
\emph on
photo
\emph default
),
\end_layout

\end_deeper
\begin_layout Itemize
audio (
\emph on
audioItem
\emph default
)
\end_layout

\begin_deeper
\begin_layout Itemize
utwór muzyczny (
\emph on
musicTrack),
\end_layout

\begin_layout Itemize
nadawanie materiału audio (
\emph on
audioBroadcast
\emph default
),
\end_layout

\begin_layout Itemize
audiobook (
\emph on
audiobook
\emph default
),
\end_layout

\end_deeper
\begin_layout Itemize
wideo (
\emph on
videoItem
\emph default
),
\end_layout

\begin_deeper
\begin_layout Itemize
film (
\emph on
movie)
\emph default
,
\end_layout

\begin_layout Itemize
nadawanie materiału wideo (
\emph on
videoBroadcast
\emph default
),
\end_layout

\begin_layout Itemize
teledysk (
\emph on
musicVideoClip),
\end_layout

\end_deeper
\begin_layout Itemize
lista odtwarzania (
\emph on
playlistItem
\emph default
),
\end_layout

\begin_layout Itemize
tekst (
\emph on
textItem
\emph default
).
\begin_inset CommandInset citation
LatexCommand cite
key "key-21"

\end_inset


\end_layout

\begin_layout Standard
Każdy z powyższych typów, może posiadać podtypy określone przez wystawcę
 oprogramowania.
 Schemat typów został dodatkowo przedstawiony na rysunku nr 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Schemat-typu-item"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Schemat-typu-item"

\end_inset

Schemat typu 
\emph on
item
\emph default
 wraz ze standardowymi podtypami
\end_layout

\end_inset

upnp_av_contentdirectory_service:2 
\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename item_type.png
	display false
	width 70page%

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Poza typowymi 
\series bold
\emph on
item 
\series default
\emph default
wyróżniamy również tak zwane kontenery (ang.
 
\emph on
containers
\emph default
).
 Reprezentują one kolekcje obiektów (fizyczną, bądź logiczną np.
 posortowaną według typów filmów).
 Dokładny opis obu typów, wraz ze sposobem stosowania, znajduje się w rozdziale
 implementacyjnym niniejszej pracy magisterskiej.
\end_layout

\begin_layout Standard
W przypadku DLNA zrezygnowano w materiałach z przyrostka 
\emph on
item
\emph default
 i pozostały nazwy takie jak: 
\emph on
audio, AV, image
\emph default
.
 Jednakże w implementacji DLNA (w postaci XML) pozostawiono nazwy, takie
 jak w UPnP AV, dlatego w niniejszej pracy autor używa nazw pochodzących
 z UPnP AV.
 Wyjątek stanowi sytuacja, gdy nazwa została zdefiniowana jedynie w specyfikacji
 DLNA, a w specyfikacji autorstwa UPnP Forum jej odpowiednik nie występuje.
\end_layout

\begin_layout Standard
Typ pliku jest określany poprzez opcję 
\emph on
res (ang.
 resource
\emph default
).
\end_layout

\begin_layout Subsection
Klasa 
\emph on
object 
\emph default
oraz klasa 
\emph on
item
\end_layout

\begin_layout Standard
Wyróżniamy dwie klasy główne: 
\emph on
object 
\emph default
i 
\emph on
item.

\emph default
 Pierwsza z nich to klasa główna , w której znajduje się cała udostępniana
 odtwarzaczowi UPnP lub DLNA treść multimedialna (ang.
 
\emph on
ContentDirectory
\emph default
).
 Klasa 
\emph on
object
\emph default
 określa właściwości, które są wspólne dla każdego z udostępnianych plików,
 jak i dla ustrukturyzowanej logicznej kolekcji materiałów.
 Niniejsza lista przedstawia wymagane właściwości dostarczane wraz z obiektem:
\end_layout

\begin_layout Itemize
@id - unikalny identyfikator klasy głównej,
\end_layout

\begin_layout Itemize
@parentID - identyfikator klasy nadrzędnej,
\end_layout

\begin_layout Itemize
@restricted - ...???
\end_layout

\begin_layout Itemize
dc:title - nazwa obiektu,
\end_layout

\begin_layout Itemize
upnp:class - klasa zawartości zgodna z UPnP
\begin_inset CommandInset citation
LatexCommand cite
key "key-21"

\end_inset

.
\end_layout

\begin_layout Standard
Dodatkowymi właściwościami opisywanej klasy są:
\end_layout

\begin_layout Itemize
dc:creator - ...?
\end_layout

\begin_layout Itemize
res - URL ????
\end_layout

\begin_layout Itemize
upnp:writeStatus - ?????????????.
\begin_inset CommandInset citation
LatexCommand cite
key "key-21"

\end_inset


\end_layout

\begin_layout Standard
Klasa 
\emph on
item
\emph default
 jest typem określającym każdy indywidualny materiał multimedialny np.
 zdjęcie w albumie.
 Obiekt ten nie może zawierać w sobie innych obiektów (nie może być 
\begin_inset Quotes pld
\end_inset

katalogiem
\begin_inset Quotes prd
\end_inset

).
 Klasa dziedziczy wszystkie opcje po klasie głównej 
\emph on
object 
\emph default
oraz wprowadza następujące właściwości (wszystkie są opcjonalne):
\end_layout

\begin_layout Itemize
@refID - odniesienie do pliku głównego (w przypadku gdy plik znajduje się
 w logicznym kontenerze).
 Jeżeli udostępniany zasób jest odniesieniem, wówczas pole opisywana opcja
 jest obowiązkowa,
\end_layout

\begin_layout Itemize
upnp:bookmarkID - ..........?
\end_layout

\begin_layout Subsection
Klasa kontener
\end_layout

\begin_layout Standard
Klasa kontener (ang.
 
\emph on
container
\emph default
) dziedziczy po typie głównym 
\emph on
object
\emph default
 i reprezentuje kolekcje innych obiektów (innych kontenerów lub innych podtypów
 dziedziczącej po klasie 
\emph on
object
\emph default
).
 Nie określa ona żadnych obowiązkowych właściwości, które trzeba dostarczyć
 drugiej stronie komunikacji.
 Opcjami dodatkowymi są natomiast pola:
\end_layout

\begin_layout Itemize
@childCount - liczba obiektów, które znajdują się w kontenerze,
\end_layout

\begin_layout Itemize
upnp:CreateClass - ........?
\end_layout

\begin_layout Itemize
upnp:SearchClass - ...........?
\end_layout

\begin_layout Itemize
@searchable - wartość 0 lub 1????????
\end_layout

\begin_layout Itemize
@neverPlayable - ????????????
\end_layout

\begin_layout Subsection
Klasa obraz
\end_layout

\begin_layout Standard
Typ obraz (ang.
 
\emph on
imageItem
\emph default
) wywodzi się z klasy głównej 
\emph on
item 
\emph default
i dziedziczy od niej wymagane opcje.
 Ponadto typ obraz powinien zawierać następujące opcje (minimum jedno wystąpieni
e):
\end_layout

\begin_layout Itemize

\emph on
res - 
\emph default
ścieżka do obrazu
\end_layout

\begin_deeper
\begin_layout Itemize
res@resolution - rozdzielczość obrazu,
\end_layout

\end_deeper
\begin_layout Itemize
upnp:longDescription - długi opis obrazu,
\end_layout

\begin_layout Itemize
upnp:storageMedium - rodzaj pamięci,
\end_layout

\begin_layout Itemize
upnp:rating - ocena,
\end_layout

\begin_layout Itemize
dc:description - opis obrazu,
\end_layout

\begin_layout Itemize
dc:publisher - wydawca,
\end_layout

\begin_layout Itemize
dc:date - data powstania obrazu,
\end_layout

\begin_layout Itemize
dc:rights - prawa do obrazu (???) 
\begin_inset CommandInset citation
LatexCommand cite
key "key-21"

\end_inset


\end_layout

\begin_layout Standard
Gdy przedstawianym obrazem jest zdjęcie może ono być podtypu zdjęcie 
\emph on
photo:imageItem
\emph default
, które dziedziczy wszystkie właściwości typ obraz oraz umożliwia układanie
 zdjęć w albumy, dzięki opcjonalnej właściwości:
\end_layout

\begin_layout Itemize

\emph on
upnp:album 
\emph default
- nazwa albumu.
\end_layout

\begin_layout Standard
Obraz lub zdjęcie może być udostępnione w kilku rozmiarach oraz według kilku
 typów.
 Zdjęcie może być udostępnione w następujących rozmiarach:
\end_layout

\begin_layout Itemize
SM (ang.
 
\emph on
small
\emph default
) - małe,
\end_layout

\begin_layout Itemize
MED (ang.
 
\emph on
medium
\emph default
) - średnie,
\end_layout

\begin_layout Itemize
LRG (ang.
 
\emph on
large
\emph default
) - wielkie,
\end_layout

\begin_layout Itemize
TN (ang.
 
\emph on
thumbnail
\emph default
) - miniatura.
\end_layout

\begin_layout Standard
Obsługiwany obowiązkowo typ grafik to JPEG_SM.
 Opcjonalnymi typami, które może obsługiwać odtwarzacz są JPEG_MED, JPEG_LRG,
 JPEG_TN, PNG_TN.
 Ponadto miniaturami obrazów, urządzenie może udostępniać ikony (np.
 ikona z logiem producenta oprogramowania).
 Ikony mogą być formatowane zgodnie z następującymi rozmiarami: PNG_SM_ICO,
 PNG_LRG_ICO, JPEG_SM_ICO, JPEG_LRG_ICO.
 W przypadku ikon, jeżeli urządzenie wspiera ich udostępnianie, wówczas
 musi udostępniać ich wszystkie rozmiary.
\end_layout

\begin_layout Standard
Na podstawie dokumentacji DLNA autor opracował tabelę 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Tabela-porównawcza-formatów"

\end_inset

 zestawiającą formaty plików oraz ich właściwości.
 Tabela zawiera standardowe formaty danych i nie uwzględnia formatów opcjonalnyc
h (takich jak PNG czy BMP), które mogą być obsługiwane przez urządzenie.
 Jednakże bez względu na typ pliku, właściwości dotyczące rozmiaru (na podstawie
 którego klasyfikowana jest nazwa skrócona obrazu np.
 MED) muszą być uwzględnione, a obraz udostępniony z odpowiednią nazwą profilu
 (np.
 PNG_MED).
\end_layout

\begin_layout Standard
Obrazy udostępniane są również w postaci miniatur.
 Miniatury mogą odnosić się nie tylko do obrazów i zdjęć, lecz do pozostałej
 udostępnianej zawartości, czyli muzyki i filmów.
 Każdy album muzyczny może mieć miniaturę z okładką albumu, zaś film miniature
 z plakatem, wybraną sceną lub inny dowolny obraz.
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:Tabela-porównawcza-formatów"

\end_inset

Tabela porównawcza standardowych formatów obrazów w technologii DLNA
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="12" columns="3">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0pt">
<column alignment="center" valignment="top" width="0pt">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Typ MIME
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Profil*
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Właściwości
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="3" alignment="left" valignment="middle" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
image/jpeg
\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="center" valignment="middle" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
JPEG_SM
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
maksymalny rozmiar**: 640 x 480
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
paleta kolorów: niekalibrowane lub sRGB
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="center" valignment="middle" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
JPEG_MED
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
maksymalny rozmiar: 1024 x 768
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="center" valignment="middle" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
JPEG_LRG
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
maksymalny rozmiar: 4096 x 4096
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
JPEG_TN
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
maksymalny rozmiar: 160 x 160
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
JPEG_SM_ICO
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
maksymalny rozmiar: 48 x 48
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
JPEG_LRG_ICO
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
maksymalny rozmiar: 120 x 120
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="3" alignment="left" valignment="middle" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
image/png
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
PNG_TN
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
maksymalny rozmiar: 160 x 160
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="left" valignment="middle" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
PNG_SM_ICO
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
maksymalny rozmiar: 48 x 48
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell multirow="3" alignment="left" valignment="middle" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
paleta kolorów: odcienie szarości, 24 bitowa paleta kolorów
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
PNG_LRG_ICO
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
maksymalny rozmiar: 120 x 120
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
*na profil składa się typ pliku (np.
 JPEG) oraz rozmiar: SM - mały, MED - średni, LRG - wielki, TN - miniatura,
 SM_ICO - mała ikona, LRG_ICO - duża ikona
\end_layout

\begin_layout Plain Layout
** rozmiar podawany w pikselach
\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Klasa audio
\end_layout

\begin_layout Standard
Typ audio służy do udostępniania plików audio, które są przeznaczone jedynie
 do słuchania.
 Oznacza to, że klasa ta nie dotyczy ścieżki dźwiękowej w materiałach wideo,
 takich jak filmy czy transmisja telewizyjna.
 Klasą nadrzedną dla audio, jest klasa 
\emph on
item
\emph default
, od której dziedziczone są wszystkie jej właściwości.
 Podobnie jak w klasie opisującej obraz, powinna ona zawierać opcję 
\emph on
res
\emph default
 wraz z danymi dotyczącymi zasobu.
 Ponadto opcjonalnymi właściwościami możliwymi do załączenia są:
\end_layout

\begin_layout Itemize
upnp:genre - gatunek pliku audio,
\end_layout

\begin_layout Itemize
dc:description - opis pliku,
\end_layout

\begin_layout Itemize

\emph on
upnp:longDescritpion
\emph default
 - rozszerzony opis pliku,
\end_layout

\begin_layout Itemize

\emph on
dc:publisher
\emph default
 - wydawca,
\end_layout

\begin_layout Itemize

\emph on
dc:language
\emph default
 - język,
\end_layout

\begin_layout Itemize
dc:relation - ......?,
\end_layout

\begin_layout Itemize
dc:rights - .........?
\end_layout

\begin_layout Standard
Klasa audio posiada następujące podtypy, określające rodzaj dostępnego materialu
 dźwiękowego:
\end_layout

\begin_layout Itemize
muzyka (ang.
 
\emph on
musicTrack
\emph default
),
\end_layout

\begin_layout Itemize
transmisja audio (ang.
 
\emph on
audioBroadcast
\emph default
),
\end_layout

\begin_layout Itemize
książka audio (ang.
 
\emph on
audioBook
\emph default
).
\end_layout

\begin_layout Standard
Pierwszy z podtypów jest jednocześnie najbardziej popularnym do udostępniania
 w klasie audio.
 Muzykę można klasyfikować w albumy, listy odtwarzania, udostępniać informacje
 o artyście.
 Wszystkie te atrybuty są opcjonalne, a ich pełna lista wygląda następująco:
\end_layout

\begin_layout Itemize

\emph on
upnp:artist
\emph default
 - wykonawca,
\end_layout

\begin_layout Itemize

\emph on
upnp:album
\emph default
 - album muzyczny,
\end_layout

\begin_layout Itemize

\emph on
upnp:originalTrackNumber
\emph default
 - oryginalny numer utworu,
\end_layout

\begin_layout Itemize

\emph on
upnp:playlist
\emph default
 - lista odtwarzania,
\end_layout

\begin_layout Itemize

\emph on
upnp:storageMedium
\emph default
 - rodzaj pamięci??,
\end_layout

\begin_layout Itemize

\emph on
dc:contributor - 
\emph default
?????
\end_layout

\begin_layout Itemize

\emph on
dc:date - data???????
\end_layout

\begin_layout Standard
Transmisja audio daje bardzo dużo możliwości rozszerzenia funkcji odtwarzaczy
 o wzbogacenie ich o takie opcje jak radio internetowe, dzięki przekazywaniu
 transmisji na żywo przez serwer.
 Opisywany podtyp można przesłać wraz z opcją 
\emph on
res
\emph default
 zawierającą dane o zasobie oraz opcjonalnymi atrybutami, takimi jak:
\end_layout

\begin_layout Itemize
upnp:region 
\end_layout

\begin_layout Itemize
upnp:radioCallSign 
\end_layout

\begin_layout Itemize
upnp:radioStationID 
\end_layout

\begin_layout Itemize
upnp:radioBand 
\end_layout

\begin_layout Itemize
upnp:channelNr 
\end_layout

\begin_layout Itemize
upnp:signalStrength 
\end_layout

\begin_layout Itemize
upnp:signalLocked 
\end_layout

\begin_layout Itemize
upnp:tuned 
\end_layout

\begin_layout Itemize
upnp:recordable .??????????????????????????
\end_layout

\begin_layout Standard
Ostatni z typów dziedziczący po klasie audio, czyli audiobook, służy do
 określania charakterystyki tego typu książek.
 Pole z zasobem (
\emph on
res
\emph default
) powinno być zawarte w przesłanych danych co najmniej raz.
 Poza nim mogą zostać dołączone następujące atrybuty:
\end_layout

\begin_layout Itemize
upnp:storageMedium,
\end_layout

\begin_layout Itemize
upnp:producer,
\end_layout

\begin_layout Itemize
dc:contributor, 
\end_layout

\begin_layout Itemize
dc:date .????????
\end_layout

\begin_layout Subsection
Klasa wideo
\end_layout

\begin_layout Standard
Klasa wideo opisuje materiały audiowizualne udostępniane w sieci.
 Są to materiały, których udostępnianie jest najtrudniejsze, zarówno z perspekty
wy programisty, jak i użytkownika.
 Jest to spowodowane bardzo dużą rozległością w sposobach kodowania materiałów
 oraz wciąż niepełną kompatybilnością wielu urządzeń z wieloma formatami
 plików.
 W plikach wideo warto zwrócić uwagę na dwa podstawowe pojęcia: kontener
 multimedialny oraz format pliku wideo.
 Pojęcie te występuje również w plikach graficznych i audio, jednakże stopień
 komplikacji dla sprzętu komputerowego występuje dopiero w plikach zawartych
 w opisywanej klasie.
\end_layout

\begin_layout Standard
W ogólnie rozumianym kontenerze multimedialnym może być przechowywanych
 wiele strumieni obrazów, audio, wideo, napisów, informacji o strumieniach
 i innych metadanych.
 Pozwala on na przechowywanie wszystkich tych danych w jednym pliku
\begin_inset CommandInset citation
LatexCommand cite
key "key-24"

\end_inset

.
 Natomiast jako format wideo definiowany jest sposób kodowania strumienia
 wideo.
 Analogiczne definicje dotyczą formatów audio oraz obrazów.
\end_layout

\begin_layout Standard
Podstawowy typ wideo (ang.
 
\emph on
videoItem
\emph default
) dziedziczy po klasie głównej 
\emph on
item
\emph default
.
 Zawiera minimum jedną informacje o zasobie 
\emph on
res
\emph default
.
 Ponadto z materiałem mogą być przekazane następujące atrybuty:
\end_layout

\begin_layout Itemize
upnp:genre,
\end_layout

\begin_layout Itemize
upnp:genre@id,
\end_layout

\begin_layout Itemize
upnp:genre@type,
\end_layout

\begin_layout Itemize
upnp:longDescription,
\end_layout

\begin_layout Itemize
upnp:producer,
\end_layout

\begin_layout Itemize
upnp:rating,
\end_layout

\begin_layout Itemize
upnp:actor,
\end_layout

\begin_layout Itemize
upnp:director,
\end_layout

\begin_layout Itemize
dc:description,
\end_layout

\begin_layout Itemize
dc:publisher,
\end_layout

\begin_layout Itemize
dc:language,
\end_layout

\begin_layout Itemize
dc:relation,
\end_layout

\begin_layout Itemize
upnp:playbackCount,
\end_layout

\begin_layout Itemize
upnp:lastPlaybackTime,
\end_layout

\begin_layout Itemize
upnp:lastPlaybackPosition,
\end_layout

\begin_layout Itemize
upnp:recordedDayOfWeek,
\end_layout

\begin_layout Itemize
upnp:srsRecordScheduleID.?????????
\end_layout

\begin_layout Standard
Jak jest widoczne na powyższej liście ilość atrybutów możliwych do przesłania
 jest bardzo duża.
 Jest to bazowa klasa dla pozostałych typów wideo, którymi są:
\end_layout

\begin_layout Itemize
film (
\emph on
movie:videoItem
\emph default
),
\end_layout

\begin_layout Itemize
transmisja wideo (
\emph on
videoBroadcast:videoItem
\emph default
),
\end_layout

\begin_layout Itemize
teledysk / klip muzyczny (
\emph on
musicVideoClip:videoItem
\emph default
).
\end_layout

\begin_layout Standard
Klasa film reprezentuje materiały filmowe i umożliwia załączenie dodatkowych
 danych odnośnie filmu w wyspecyfikowanych, przez autorów dokumentacji UPnP
 AV, atrybutach.Na atrybuty składają się:
\end_layout

\begin_layout Itemize

\emph on
upnp:storageMedium 
\emph default
- nośnik pamięci,
\end_layout

\begin_layout Itemize

\emph on
upnp:DVDRegionCode
\emph default
 - kod regionalny materiału DVD,
\end_layout

\begin_layout Itemize

\emph on
upnp:channelName
\emph default
 - nazwa kanału,
\end_layout

\begin_layout Itemize

\emph on
upnp:scheduleStartTime - 
\emph default
planowany start transmisji,
\end_layout

\begin_layout Itemize

\emph on
upnp:scheduleEndTime - 
\emph default
planowany koniec transmisji,
\end_layout

\begin_layout Itemize

\emph on
upnp:programTitle
\emph default
 - tytuł programu (odcinka),
\end_layout

\begin_layout Itemize

\emph on
upnp:seriesTitle
\emph default
 - tytuł serii,
\end_layout

\begin_layout Itemize

\emph on
upnp:episodeCount
\emph default
 - liczba odcinków,
\end_layout

\begin_layout Itemize

\emph on
upnp:episodeNr 
\emph default
- numer odcinka.
\end_layout

\begin_layout Standard
Wszystkie z powyższych opcji są możliwe do udostępnienia w postaci atrybutów
 XML, lecz nie są obowiązkowe.
\end_layout

\begin_layout Section
Rodzaje multimediów
\end_layout

\begin_layout Standard
Filmy, a dokładnie ich pełne wsparcie i obsługa, były najciekawszym i zarazem
 najtrudniejszym tematem do realizacji dla autora niniejszej pracy.
 Z tego powodu niniejszy podrozdział zostanie głównie poświęcony opisowi,
 w jaki sposób w erze komputerów przechowywane są tego rodzaju materiały.
\end_layout

\begin_layout Standard
Ilość formatów danych multimedialnych jest bardzo duża.
 Najbardziej pożądanymi formatami są formaty kompresujące dane.
 Formaty plików zapewniające tzw kompresję bezstratną (formaty 
\emph on
RAW
\emph default
 - surowe) są formatami pozwalającymi zachować najwyższą jakość obrazu lub
 dźwięku.
 Przykładami takich formatów są dla plików graficznych - RAW, natomiast
 audio - format FLAC (ang.
 
\emph on
Free Lossless Codec).
 
\emph default
Innym popularnym formatem dźwięku, który jest uważany za bardzo bliski oryginało
wi, dzięki pokrywaniu całego zakresu pasma częstotliwości słyszalnych jest
 kodowanie PCM, stosowane bardzo często w formacie WAV (http://pl.wikipedia.org/wi
ki/PCM).
 Spośród plików wideo można wyróżnić formaty danych o niskiej kompresji
 stratnej.
 Przykładem takich plików są formaty MPEG-2 oraz MPEG-4.
 Drugi z nich pozwala na przesyłanie materiału HD i posiadają kompresję
 w stosunku 4:1 
\bar under
(skąd to wiem)
\bar default
.
 Wykorzystywany jest współcześnie w przesyłaniu cyfrowej telewizji naziemnej
 oraz częściowo satelitarnej.
\end_layout

\begin_layout Standard
W przypadku zdjęć prym wiedzie format JPEG, który jest ustandaryzowany przez
 organizację ISO/IEC 
\begin_inset CommandInset citation
LatexCommand cite
key "key-26"

\end_inset

, jest formatem kompresji stratnej.
 Jednakże kompromis między kompresją, a jakością obrazu (kompresja 10:1)
 jest na tyle zadowalający, że stał się najpopularniejszym formatem danych
 graficznych (z pominięciem zastosowań profesjonalnych, gdzie często wykorzystyw
ane są formaty bezstratne, bądź inne specjalistyczne, specyficzne dla oprogramow
ania obróbki grafiki).
\end_layout

\begin_layout Standard
Najpopularniejszym formatem audio dla przechowywania muzyki wśród końcowych
 użytkowników jest format MP3 (ang.
 
\emph on
MPEG-1/MPEG-2 Audio Layer 3
\emph default
).
 Jest standardem RFC....
 W swojej pierwotnej, a zarazem najpopularniejszej wersji pozwala na zapis
 muzyki w postaci dźwięku jednokanałowego (mono) lub dwukanałowego (stereo)
 i oferuje najwyższy stopień kompresji, przy zachowaniu dobrej jakości dźwięku.
 W przypadku ścieżek dźwiękowych do filmów czętsze zastosowanie ma standard
 AC3 [wikipedia]
\end_layout

\begin_layout Standard
W przypadku materiałów filmowych trudnym zadaniem jest jednoznaczne określenie
 najpopularniejszego formatu tego typu danych.
 W kolejnych podrozdziałach został dokładnie opisany ten rodzaj multimediów.
\end_layout

\begin_layout Subsection
Muzyka
\end_layout

\begin_layout Standard
Obrazy
\end_layout

\begin_layout Subsection
Filmy
\end_layout

\begin_layout Standard
Film można rozumieć zgodnie z następującym schematem:
\end_layout

\begin_layout Itemize
Kontener filmowy(np.
 AVI, MKV)
\end_layout

\begin_deeper
\begin_layout Itemize
Format wideo (np.
 MPEG-2),
\end_layout

\begin_layout Itemize
Format audio (np.
 AC3),
\end_layout

\begin_layout Itemize
Napisy,
\end_layout

\begin_layout Itemize
Rozdziały,
\end_layout

\begin_layout Itemize
Metadane opisujące powyższe dane.
\end_layout

\end_deeper
\begin_layout Standard
Istnieje wiele rodzajów kontenerów.
 Część z nich ma przeznaczenie do udostępniania multimediów w sieci internetowej
 (Flash), inne są dedykowane dla urządzeń mobilnych (MP4).
 Najpopularniejszymi kontenerami multimedialnymi są:
\end_layout

\begin_layout Itemize
AVI (rozszerzenie AVI),
\end_layout

\begin_layout Itemize
Matroska (rozszerzenie MKV),
\end_layout

\begin_layout Itemize
Flash (rozszerzenie FLV lub F4V).
\end_layout

\begin_layout Itemize
MP4,
\end_layout

\begin_layout Itemize
DivX.
\end_layout

\begin_layout Standard
Kontenery różnią się metadanymi opisującymi pliki oraz możliwościami we
 wspieraniu przechowywanych formatów danych.
 Tabela porównawcza formatów AVI i MKV pokazuje podstawowe różnice między
 tymi formatami (tabela 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Porównanie-formatów-AVI"

\end_inset

).
\end_layout

\begin_layout Standard
Materiał wideo w filmach może być kodowany w formatach, takich jak:
\end_layout

\begin_layout Itemize
MPEG-1,
\end_layout

\begin_layout Itemize
MPEG-2
\end_layout

\begin_layout Itemize
MPEG-4 AVC / H.264,
\end_layout

\begin_layout Itemize
WMV (ang.
 
\emph on
Windows Media Video
\emph default
),
\end_layout

\begin_layout Itemize
RealVideo.
\end_layout

\begin_layout Standard
Kontenery filmowe pozwalają przewchowywać różne formaty wideo (część z nich
 widoczna jest powyżej), różne formaty audio (jeden plik może zawierać kilka
 ścieżek audio w różnych formatach np.
 MP3 lub AC3).
 Niektóre umożliwiają przechowywanie w kontenerze plików z napisami (we
 wspieranych formatach), posiadają możliwości podziału materiału na sekcję
 lub przechowywania materiału trójwymiarowego 3D.
 Wszystkie dane co przechowywane jest w danym pliku zawierają się metadanych
 pliku.
 Każdy rodzaj konteneru posiada (niestety) zróżnicowany sposób tworzenia
 metadanych.
 Utrudnia to w znaczący sposób łatwe wsparcie jak ich największej ilości.
\end_layout

\begin_layout Standard
Oddzielnym tematem są formaty płyt Blu-Ray, bądź DVD.
 Formaty te posiadają specjalną strukturę plików oraz schemat katalogów,
 według których umieszczone są odpowiednie dane.
 W uproszczeniu można powiedzieć, że nośnik Blu-Ray jest kontenerem multimedialn
ym, takim jak AVI czy MKV.
 Podobna sytuacja ma miejsce w przypadku płyt DVD.
 
\end_layout

\begin_layout Standard
Płyta Blu-Ray, zgodna ze standardem posiada drzewo, składające się z dwóch
 plików 
\begin_inset Quotes pld
\end_inset

index.bdmv
\begin_inset Quotes prd
\end_inset

 (zawierający informacje o zawartości katalogów płyty BD), MovieObject.bdmv
 (zawierający informacje o obiektach filmowych) oraz katalogów: PLAYLIST
 (lista odtwarzania filmu / rozdziały), CLIPINF (informacje o klipach wideo),
 STREAM (strumień audio wideo w kontenerze m2ts - ang.
 MPEG-2 Transport Stream), AUXDATA (pliki dźwiękowe oraz czcionki dla plików
 z napisami), BACKUP (katalogów zawierający kopie zapasowe plików index.bdmv
 oraz MovieObject.bdmv).
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:Porównanie-formatów-AVI"

\end_inset

Porównanie formatów AVI i MKV
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="5" columns="5">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="left" valignment="top" width="0pt">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Format
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Rozdziały
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Napisy
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Formaty wideo
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Formaty audio
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
AVI
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Tak
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Nie (poza standardem tak)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
MPEG-1, MPEG-2, WMV, RealVideo
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
MP3, WMA, AAC, AC-3, DTS, PCM
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
MKV
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Tak
\end_layout

\end_inset
</cell>
<cell alignment="left" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Tak
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
MPEG-1, MPEG-2, 
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
MP3, WMA, AAC, AC-3, 
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
MPEG-4 AVC, WMV, RealVideo
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
DTS, PCM, RealAudio, Vorbis, APE, Flac, DTS-HD
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Film może posiadać wiele ścieżek dźwiękowych np.
 różne wersje językowe lub lektora.
 Płyty DVD oraz Blu-Ray w standardzie swoim mają możliwość zamieszczania
 wielu ścieżek dźwiękowych.
 Podobna sytuacja ma miejsce w przypadku kontenerów danych takich jak AVI
 oraz Matroska.
 Oprogramowanie udostępniające materiały multimedialne powinno zapewniać
 możliwość wyboru ścieżki dźwiękowej.
 W tym celu konieczne jest poprawne odczytywanie metadanych dostarczanych
 wraz z kontenerem multimedialnym.
 Filmy DVD oraz Blu-Ray ponadto, że umożliwiają zmianę ścieżki dźwiękowej,
 wprowadziły do zestawów kina domowego możliwość wyświetlania napisów w
 filmach (przedtem napisy były cechą wyróżniającą kina).
 W przypadku płyt DVD napisy są przechowywane w formacie bitmapowym, co
 wykracza poza standardy UPnP oraz DLNA (dla napisów), dlatego też nie są
 one obsługiwane do udostępniania.
 Płyty Bluray posiadają standard zbliżony do płyt DVD (napisy PGS - ang.
 
\emph on
Presentation Graphic Stream
\emph default
).
 Łatwiejszym przypadkiem są kontenery plików.
 Napisy w przypadku tego typu filmów mają postać pliku tekstowego.
 Plik z napisami może być wbudowany w kontener, a może być udostępniany
 jako oddzielny plik (zazwyczaj w tym samym folderze i tej samej nazwie
 co film).
\end_layout

\begin_layout Standard
Istnieje wiele standardów napisów do filmów, które mogą być w prosty sposób
 przechowywany na dysku twardym komputera stacjonarnego.
 Głównymi standardami spotykanymi powszechnie w Internecie są MicroDVD oraz
 SubRip.
 Istnieje wiele formatów, jednakże standard DLNA pomija te cechy filmów
 i nie specyfikuje jakie rodzaje napisów powinny być obsługiwane oraz w
 jaki sposób.
 Informacje o sposobie udostępniania napisów zostały określone jedynie w
 specyfikacji UPnP AV dla urządzeń renderujących [http://www.upnp.org/specs/av/UPn
P-av-RenderingControl-v3-Service-20101231.pdf].
\end_layout

\begin_layout Standard
Brak jednoznacznych rozwiązań w kwestii napisów do filmów, sprawił, że producenc
i w wielu przypadkach we własnym zakresie zapewniają ich wsparcie.
 Odtwarzacze multimediów podłączonych przez złącze USB w telewizorach ma
 zazwyczaj możliwość odtwarzania napisów w wersji tekstowej, w formatach
 MicroDVD lub SubRIP.
 Takie samo podejście zostało zastosowane w odtwarzaczach DLNA.
 Obsługują one jeden z dwóch rodzajów napisów, a w gestii serwera leży,
 aby w odpowiednim formacie takie napisy udostępnić (lub samodzielnie przekonwer
tować do obsługiwanego formatu).
\end_layout

\begin_layout Subsection
Kodowanie i kompresja filmów
\end_layout

\begin_layout Standard
Niniejszy podrozdział jest poświęcony jedynie tematyce kodowania filmów,
 z pominięciem roli kontenerów multimedialnych.
 Kodowanie służy do przedstawienia materiału wideo w reprezentacji kodu
 binarnego.
 Kompresja natomiast to takie kodowanie, które zmniejsza wielkość strumienia
 wideo, przy spadku jakości.
 Obecnie najpopularniejszymi koderem jest kodek MPEG-4 AVC (ang.
 
\emph on
Advanced Video Coding
\emph default
).
 Jest to obecnie najbardziej wydajny standard kodowania, pozwalający uzyskać
 bardzo dobrą jakość obrazu, o rozdzielczości do Full HD (1920 x 1080i).
 Coraz powszechniej jest wykorzystywany w transmisjach telewizyjnych, w
 kompresji filmów Blu-ray.
 Opisywany kodek jest zamiennie nazywany MPEG-4 AVC lub H.264.
 W fazie początkowej były to dwa różne standardy, jednakże w kolejnych etapach
 projekty zostały połączone.
 Standard jest opisany w dokumencie 
\emph on
MPEG-4 Part 10, Advanced Video Coding 
\begin_inset CommandInset citation
LatexCommand cite
key "key-35"

\end_inset

.
\end_layout

\begin_layout Standard
Urządzenia DLNA (i nie tylko) posiadają wbudowane dekodery formatów wideo.
 Obecnie najpopularniejszym dekoderem znajdującym się w kartach graficznych,
 telewizorach i innych urządzeniach odtwarzających jest dekoder MPEG-4 AVC/H.264.
 Są to najnowocześniejsze dekodery umożliwiające odtworzenie prawie każdego
 dostępnego współcześnie materiału wideo.
 
\end_layout

\begin_layout Part
Implementacja serwera UPnP
\end_layout

\begin_layout Chapter
Oprogramowanie serwera UPnP AV
\end_layout

\begin_layout Standard
Większość współczesnych odtwarzaczy Blu-ray, telewizorów, dekoderów i tym
 podobnych urządzeń RTV, posiada złącze Ethernet (lub moduł 
\emph on
WiFi
\emph default
) i umożliwia podłączenie urządzenia do sieci lokalnej i Internetu.
 Takie urządzenia posiadają oprogramowanie umożliwiające wyszukiwać oraz
 odtwarzać materiały udostępniane przez serwery UPnP AV oraz DLNA.
 Autor na potrzeby niniejszej pracy stworzył w pełni funkcjonalny serwer
 UPnP AV współpracujący z urządzeniami UPnP i DLNA.
 Głównym celem aplikacji było umożliwenie kooperacji dwóch urządzeń ze sobą,
 w taki sposób, aby odtwarzacz potrafił wykorzystać jak największą możliwą
 ilość funkcji określoną w specyfikacjach UPnP AV i DLNA.
\end_layout

\begin_layout Section
Wymagania wstępne
\end_layout

\begin_layout Standard
Zdefiniowanie środowiska do implementacji oprogramowania było bardzo ważnym
 wyborem.
 Autor do codziennej pracy używa systemu operacyjnego z rodziny Linux, jednakże
 większość użytkowników komputerów typu PC używa systemu operacyjnego Microsoft
 Windows.
 Dlatego też środowisko implementacji ma zapewniać kompatybilność z oboma
 systemami operacyjnymi.
 Pierwszym wyborem ze względu na biegłą znajomość języka było środowisko
 programistyczne języka Java.
\end_layout

\begin_layout Standard
W dzisiejszych czasach coraz więcej urządzeń sieci lokalnej nie jest oparta
 o architekturę PC.
 Przykładami takich urządzeń mogą być routery lub smartfony.
 Pierwsze z nich, coraz częściej są wyposażone w złącza USB oraz posiadają
 załączone oprogramowanie do udostępniania multimediów.
 Z doświadczeń własnych autora, wynika jednak, że zakres możliwości oraz
 wydajność takiego oprogramowania pozostawia wiele do życzenia.
 Skutecznie udostępniane są jedynie zdjęcia, natomiast użytkownicy natrafiają
 na problemy w kwestii odtwarzania filmów oraz muzyki.
 
\end_layout

\begin_layout Standard
W tabeli 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Platformy-obsługiwane-przez"

\end_inset

 zostały zdefiniowane platformy konieczne do obsługiwania przez serwer UPnP.
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:Platformy-obsługiwane-przez"

\end_inset

Platformy obsługiwane przez serwer UPnP AV
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="5" columns="2">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Klasa urządzenia
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
System operacyjny
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="3" alignment="left" valignment="middle" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Router
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
DD-WRT
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Tomato
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="3" alignment="left" valignment="middle" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
PC
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Windows
\end_layout

\end_inset
</cell>
</row>
<row>
<cell multirow="4" alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Linux
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
W przypadku środowiska Java wymienione we wcześniejszych akapitach wymagania
 mogą być z łatwością realizowane.
 Jednakże obciążenie procesora (ystem operacyjny Ubuntu 10.10) dla prostej
 aplikacji UPnP wynosiło około 5%.
 Analiza materiałów udostępnianych w Internecie oraz doświadczenie z użytkowania
 aplikacji Java, poddawała w wątpliwość wydajną pracę serwera zaprojektowanego
 w tym języku na mało wydajnych urządzeniach (np.
 routery).
 Po kilku próbah uruchomienia serwera Tomcat na routerze firmy Linksys E3000,
 autor podjął decyzję o dalszym szukaniu środowiska do stworzenia aplikacji.
 Ostateczny wybór padł na język Python do realizacji oprogramowania.
\end_layout

\begin_layout Standard
Pozostałe wymagania zostały narzucone przez standardy UPnP AV i DLNA, co
 prosto można określić jako wymaganie pełnej współpracy z certyfikowanymi
 urządzeniami DLNA lub UPnP.
 Głównymi wymaganiami są:
\end_layout

\begin_layout Itemize
współpraca z podstawowymi urządzeniami DLNA - telewizorami, odtwarzaczami
 BluRay itd.,
\end_layout

\begin_layout Itemize
odtwarzanie (o ile podstawowy odtwarzacz urządzenia ma taką możliwość) konteneró
w muzycznych i filmowych np.
 plików Matroska - MKV,
\end_layout

\begin_layout Itemize
odtwarzanie napisów w filmach i muzyce (np.
 do karaoke, specjalny tryb serwera), zarówno z plików tekstowych, jak i
 z kontenerów (w tym przypadku tylko pliki Matroska, MKV),
\end_layout

\begin_layout Itemize
przewijanie materiału,
\end_layout

\begin_layout Itemize
udostępnianie materiału w pełnej jakości,
\end_layout

\begin_layout Itemize
dodawanie / usuwanie udostępnianej zawartości bez konieczności ponownego
 uruchamiania oprogramowania,
\end_layout

\begin_layout Itemize
tworzenie albumów, klasyfikacji treści w logicznych katalogach.
\end_layout

\begin_layout Standard
W oprogramowaniu autor jako opcjonalne wymaganie zdefiniował renderowanie
 filmów do gorszej jakości w locie.
 W chwili obecnej większość nowoczesnego sprzętu na rynku obsługuje dużą
 ilość formatów i mimo swoich możliwości to oprogramowanie odtwarzacza DLNA
 jest przestarzałe lub stworzone z minimalnymi wymaganiami certyfikacji,
 co powoduje komunikat o niekompatybilności materiału, pomimo, że w rzeczywistoś
ci taka sytuacja nie ma miejsca.
 Z tego powodu autor skupił się podczas tworzenia oprogramowania serwera
 na ominięciu przeszkód postawionych przez większość producentów i wymuszenie
 odtwarzania materiałów na każdym urządzeniu.
\end_layout

\begin_layout Standard
Nie wszystkie urządzenia posiadają interfejs graficzny użytkownika.
 Interfejs użytkownika w serwerze UPnP AV/DLNA jest dostarczane wraz z oprogramo
waniem serwera www i interfejsem strony internetowej do zarządzania serwerem
 oraz uruchamiania go.
\end_layout

\begin_layout Section
Wykorzystane narzędzia
\end_layout

\begin_layout Standard
Aplikacja serwera UPnP AV została napisana w języku Python.
 Jej szkielet został oparty o zmodyfikowaną wersję framework'a 
\emph on
Coherence, 
\emph default
opisanego w rozdziale 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Framework’i-UPnP"

\end_inset

.

\emph on
 
\emph default
Druga aplikacja, zapewniająca zarządzanie serwerem została napisana w języku
 Python, HTML oraz Javascript z wykorzystaniem popularnego framework'a Django.
\end_layout

\begin_layout Standard
Aplikacja jest zarządzana przez narzędzie kontroli wersję Git na darmowym
 serwerze Github.com
\end_layout

\begin_layout Standard
Wykorzystane narzędzia na potrzeby opisywanego zestawu aplikacji to:
\end_layout

\begin_layout Itemize
platforma Eclipse 3.6,
\end_layout

\begin_deeper
\begin_layout Itemize
języki programowania: Python, HTML, Javascript, 
\series bold
Django, 
\series default
T-SQL,
\end_layout

\begin_layout Itemize
framework'i
\end_layout

\begin_deeper
\begin_layout Itemize

\emph on
Coherence DLNA, 
\end_layout

\begin_layout Itemize

\emph on
Django, 
\end_layout

\begin_layout Itemize

\emph on
JSONRPC, 
\end_layout

\begin_layout Itemize

\emph on
Storm.
\end_layout

\end_deeper
\end_deeper
\begin_layout Itemize
GIMP do tworzenia grafiki aplikacji
\end_layout

\begin_layout Itemize
odtwarzacze UPnP AV / DLNA do testów
\end_layout

\begin_layout Itemize
GIT - do zarządzania wersjami oprogramowania.
\end_layout

\begin_layout Subsection
\begin_inset CommandInset label
LatexCommand label
name "sub:Framework’i-UPnP"

\end_inset

Framework’i UPnP
\end_layout

\begin_layout Standard
W internecie można odnaleźć bardzo dużo framework'ów, które obsługują UPnP
 AV oraz DLNA.
 Przed wyborem języka programowania autor skupił się na poszukiwaniu odpowiednie
go środowiska, który wspiera komunikację w sieci multimedialnej, posiada
 darmową, otwartą do modyfikacji licencję oraz nie obciąża w znaczący sposób
 systemu operacyjnego.
 Autor nie odnalazł framework'a, który natywnie wspierałby specyfikację
 DLNA.
 Jest to spowodowane prawdopodobnie koniecznością ponoszenia kosztów licencji
 DLNA.
 Liczba framework'ów, które wspierają protokół UPnP oraz UPnP AV, pomimo
 że nie jest duża, to jest w zadowalający sposób zaimplementowana, dzięki
 czemu autor nie musiał zaprogramować niższych warstw opisywanego protokołu.
\end_layout

\begin_layout Standard
Pierwszym, prawdopodobnie najnowszym i najczęściej aktualizowanym jest oprogramo
wanie 
\emph on
Cling
\emph default
 
\begin_inset CommandInset citation
LatexCommand cite
key "key-27"

\end_inset

.
 Jest to biblioteka, której zadaniem docelowym (jest wciąż w fazie rozwoju
 i wiele funkcji nie jest jeszcze zaimplementowanych) jest pełne wsparcie
 protokołu UPnP.
 Nie implementuje zmian wprowadzonych przez zrzeszenie DLNA.
 Jest napisana w języku Java, możliwe jest jej wykorzystanie zarówno w oprogramo
waniu PC, jak i oprogramowaniu Javy dla smartfonów z systemem operacyjnym
 Android.
 Autor odrzucił jej wykorzystanie, gdyż w ówczesnym stadium rozwoju implementowa
ła zbyt małą liczbę koniecznych do komunikacji funkcji oraz niemożliwe byłoby
 jej wykorzystanie na urządzeniach o bardzo małych możliwościach wydajnościowych
 (np.
 routery).
\end_layout

\begin_layout Standard
Drugim branym pod uwagę jako podstawę do aplikacji serwera UPnP framework'iem
 był 
\emph on
CyberLink for Java 
\begin_inset CommandInset citation
LatexCommand cite
key "key-28"

\end_inset

.
 
\emph default
Jest to pakiet oprogramowania umożliwiający twórcom aplikacji komunikację
 w sieci UPnP.
 Posiada wiele popularnych dla oprogramowania UPnP przykładów, np.
 włączanie i wyłączanie żarówki.
 Niestety w chwili porównywania możliwości framework'ów opisywany projekt
 nie był rozwijany i jego ostatnia aktualizacja datowana była na 2003 rok.
 Natomiast w trakcie pisania niniejszej pracy (już po stworzeniu oprogramowania)
 autor zauważył wznowienie projektu poprzez dodanie wsparcia dla pisania
 aplikacji UPnP do obsługi urządzeń mobilnych z systemem operacyjnym Android.
 
\emph on
CyberLink for Java
\emph default
 jest rozwijany na licencji nie zezwalającej na modyfikacje kodu źródłowego.
\end_layout

\begin_layout Standard
Autor rozważał również wykorzystanie bibliotek popularnego w środowisku
 
\emph on
Linux 
\emph default
programu MiniUPnP 
\begin_inset CommandInset citation
LatexCommand cite
key "key-29"

\end_inset

 lub MiniDLNA 
\begin_inset CommandInset citation
LatexCommand cite
key "key-30"

\end_inset

.
 Niestety oba umożliwiają wykorzystanie we własnym oprogramowaniu bibliotek
 klienckich, a celem projektu było stworzenie serwera UPnP AV.
\end_layout

\begin_layout Standard
Ostatnim opisanym w niniejszym podrozdziale będzie 
\emph on
Coherence DLNA/UPNP Framework for Digital Living 
\begin_inset CommandInset citation
LatexCommand cite
key "key-31"

\end_inset

.
 
\emph default
Pomimo, że ostatni to spełnił najwięcej wymagań stawianych przez autora
 i dlatego został przez niego wybrany jako szkielet napisanej aplikacji.
 
\emph on
Coherence 
\emph default
jest zarówno programem udostępniającym prosty serwer multimediów, serwer
 renderujący, posiada wiele wtyczek do popularnych programów (np.
 Rhytmbox, Totem, Picasa).
 Jest na bieżąco rozwijany, zaś jego licencja - MIT 
\begin_inset CommandInset citation
LatexCommand cite
key "key-32"

\end_inset

,zezwala na dowolną modyfikację.
 Jest napisany w języku Python.
 Dla deweloperów najważniejsze jest, że oprogramowanie zapewnia komunikację
 (wykrywanie, ogłaszanie urządzeń) oraz posiada 
\begin_inset Quotes pld
\end_inset

szablony
\begin_inset Quotes prd
\end_inset

, to jest przykładowe aplikacje z funkcjonalnością udostępniania albumów,
 filmów itd.
 Niestety testy oprogramowania wykazały, że sposób implementacji protokołu
 nie zapewnia komunikacji z wieloma urządzeniami (w tym mobilnymi).
 Autor zdecydowal się wykorzystać w swoim oprogramowaniu opisywany framework
 oraz wprowadzić w nim niezbędne modyfikacje, co dzięki liberalnej licencji
 MIT było w kwestiach prawnych możliwe.
\end_layout

\begin_layout Section
Opis programu
\end_layout

\begin_layout Standard
Zaprojektowana aplikacja do udostępniania materiałów multimedialnych, jest
 to w rzeczywistości zestaw dwóch niezależnych od siebie programów.
 Pierwsza aplikacja jest serwerem UPnP AV który komunikuje się bezpośrednio
 z odtwarzaczami DLNA oraz UPnP AV.
 Natomiast druga aplikacja służy do zarządzania współdzielonymi zasobami
 oraz ustawieniami 
\begin_inset Quotes pld
\end_inset

techincznymi
\begin_inset Quotes prd
\end_inset

 serwera.
\end_layout

\begin_layout Standard
Aplikacja posiada wbudowane wyszukiwanie multimediów różnych rodzajów w
 lokalizacjach, które użytkownik wcześniej zdefiniował.
 W przypadku podkatalogów stosowane jest przeszukiwanie rekursywne.
 Serwer UPnP AV interpretuje zawartość katalogów i określa te pliki, które
 są filmami, plikami tekstowymi (które są napisami do filmów), muzycznymi
 oraz zdjęciami.
 Pliki w odtwarzaczu mogą być przeglądane w katalogach oddających strukturę
 w systemie plików serwera oraz w kategoriach (wirtualnych katalogach) zdefiniow
anych przez użytkownika.
\end_layout

\begin_layout Section
Funkcje programu
\end_layout

\begin_layout Standard
Aplikacja składa się z dwóch modułów:
\end_layout

\begin_layout Itemize
serwer UPnP AV,
\end_layout

\begin_layout Itemize
aplikacji zarządającej.
\end_layout

\begin_layout Standard
Funkcje pierwszego z modułów to:
\end_layout

\begin_layout Itemize
ogłaszanie aktywności dla innych urządzeń UPnP,
\end_layout

\begin_layout Itemize
wysyłanie, odpowiadanie na aktywność UPnP,
\end_layout

\begin_layout Itemize
wyszukiwanie multimediów: filmów, plików z napisami, muzyki, obrazów,
\end_layout

\begin_layout Itemize
tworzenie biblioteki multimediów:
\end_layout

\begin_deeper
\begin_layout Itemize
zgodnie ze strukturą katalogów,
\end_layout

\begin_layout Itemize
według typów plików (sortowanie według typów multimedialnych MIME),
\end_layout

\begin_layout Itemize
według typów zawartości:
\end_layout

\begin_deeper
\begin_layout Itemize
Muzyka,
\end_layout

\begin_layout Itemize
Wideo,
\end_layout

\begin_layout Itemize
Zdjęcia.
\end_layout

\end_deeper
\end_deeper
\begin_layout Itemize
udostępnianie w językach:
\end_layout

\begin_deeper
\begin_layout Itemize
angielski,
\end_layout

\begin_layout Itemize
polski,
\end_layout

\end_deeper
\begin_layout Itemize
udostępnianie informacji o plikach
\end_layout

\begin_deeper
\begin_layout Itemize
rozdzielczość,
\end_layout

\begin_layout Itemize
rodzaj,
\end_layout

\begin_layout Itemize
rozszerzenie,
\end_layout

\begin_layout Itemize
czas trwania,
\end_layout

\begin_layout Itemize
jakość,
\end_layout

\begin_layout Itemize
data dodania,
\end_layout

\begin_layout Itemize
rozmiar pliku,
\end_layout

\begin_layout Itemize
lokalizacja pliku.
\end_layout

\end_deeper
\begin_layout Subsection
Biblioteka multimediów
\end_layout

\begin_layout Standard
Biblioteka multimediów jest zbiorem plików udostępnianych przez serwer UPnP
 AV.
 W opisywanej aplikacji biblioteka została podzielona na kilka głównych
 kategorii.
 Pierwszą z nich jest odwzorowanie zgodnie z położeniem w systemie plików
 (gdy to możliwe wyświetlana jest tylko nazwa katalogu nadrzędnego, w którym
 znajduje bądź znajdują się pliki multimedialne).
 Oznacza to, że przy pomocy odtwarzacza UPnP AV lub DLNA użytkownik może
 nawigować do przeglądania zawartości serwera i do sekcji 
\begin_inset Quotes pld
\end_inset

Katalogi
\begin_inset Quotes prd
\end_inset

 (ang.
 
\emph on

\begin_inset Quotes pld
\end_inset

Directories
\emph default

\begin_inset Quotes prd
\end_inset

).
 W dalszej kolejności wyświetlane są nazwy katalogów z plikami multimedialnymi.
\end_layout

\begin_layout Standard
Kolejnym krokiem nawigacji może być 
\begin_inset Quotes pld
\end_inset

Typy MIME
\begin_inset Quotes prd
\end_inset

 (ang.
 
\begin_inset Quotes pld
\end_inset


\emph on
Mimetypes
\emph default

\begin_inset Quotes prd
\end_inset

), w którym wyselekcjonowane materiały są dzielone według swoich typów MIME.
\end_layout

\begin_layout Standard
Dalszymi dostępnymi ścieżkami są następujące kategorie: 
\end_layout

\begin_layout Itemize
Wideo (ang.
 
\emph on
Video
\emph default
), 
\end_layout

\begin_layout Itemize
Muzyka (ang.
 
\emph on
Music
\emph default
), 
\end_layout

\begin_layout Itemize
Zdjęcia (ang.
 
\emph on
Images
\emph default
),
\end_layout

\begin_layout Standard
Pliki są segregowane przez algorytm zgodnie ze swoją kategorią (zgodnie
 z typem MIME), a następnie umieszczane w odpowiadającej kategorii bibliotece.
 Typ MIME w swojej nazwie dla każdej z bibliotek w pliku posiada cechę wspólną.
 W niniejszym przypadku pliki graficzne posiadają w typie MIME słowo 
\emph on
image
\emph default
, muzyka słowo 
\emph on
audio
\emph default
, natomiast materiały wideo, słowo 
\emph on
video
\emph default
.
 Upraszcza to w dużym stopniu sposób kategoryzowania plików.
 Przykładowy sposób selekcji plików, zgodnie z jego rozszerzeniem został
 przedstawiona w tabeli 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Katagolowanie-typów-MIME"

\end_inset

.
 Typ MIME jest rozpoznawany, dzięki rozszerzeniu pliku, dlatego wybór jakiego
 typu jest plik, należy do aplikacji.
 Oprogramowanie stworzone na potrzeby niniejszej pracy magisterskiej posiada
 wbudowany słownik, odwzorowujący rozszerzenie na typ MIME.
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:Katagolowanie-typów-MIME"

\end_inset

Katagolowanie typów MIME - przykład
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="8" columns="3">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Typ MIME
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Rozszerzenie pliku
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Kategoria
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
audio/mpeg
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
mp3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Muzyka
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
audio/x-wav
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
wav
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Muzyka
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
image/png
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
png
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Zdjęcia
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
image/jpeg
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
jpeg, jpg
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Zdjęcia
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
video/mpeg
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
mpeg mpg
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Wideo
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
video/x-matroska
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
mkv
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Wideo
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
video/x-msvideo
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
avi
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Wideo
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Dla każdego odnalezionego katalogu oraz pliku multimedialnego tworzony jest
 obiekt 
\emph on
MediaItem
\emph default
, który przechowuje niezbędne informacje dla serwera UPnP AV.
 Dzięki odczytaniu informacji o obiekcie możliwy jest zwrócenie odtwarzaczom
 posiadanych informacje o pliku, katalogu lub katalogu wirtualnym.
\end_layout

\begin_layout Standard
Parametry możliwe do zwrócenia dla każdego z wcześniej wymienionych typów
 są umieszczone w tabeli 
\begin_inset CommandInset ref
LatexCommand ref
reference "tab:Parametry-dla-kategorii"

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "tab:Parametry-dla-kategorii"

\end_inset

Parametry dla kategorii UPnP
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="17" columns="5">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Pobierany parametr | Rodzaj
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Katalog
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Wideo
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Audio
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Zdjęcia
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Ścieżka URL
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Ilość podkatalogów
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Podkatalog
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Obiekt 
\emph on
MediaItem
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Katalog nadrzędny
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Inne katalogi nadrzędne
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
ID
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Nazwa
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Okładka (miniatura)
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Typ MIME
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Rozmiar
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Czas trwania
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Bitrate
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Kanały audio
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Napisy
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Rozdzielczość
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
x
\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Biblioteka multimediów umożliwia dodawanie nowych kategorii w trakcie działania
 aplikacji bez konieczności przerywania jej działania.
 Odpowiada za to parametr zdefiniowany w specyfikacji UPnP - parametr aktualizac
ji (ang.
 
\emph on
updateID
\emph default
), który jest numerem sekwencyjnym określającym ilość zmian w danej bibliotece.
 Jeżeli odtwarzacz posiada dane o plikach z nieaktualnym parametrem aktualizacji
, wówczas pobiera od nowa listę multimediów.
 Aplikacja w podobny sposób reaguje na dodanie i usunięcie pliku (plików)
 do istniejącego już, w ścieżce wyszukiwania, katalogu.
\end_layout

\begin_layout Subsection
Miniatury multimediów
\end_layout

\begin_layout Standard
Miniatury multimediów nie są obowiązkową treścią, którą musi udostępniać
 serwer DLNA.
 Jednakże sposób udostępniania ich nie odbiega znacząco od sposobu udostępniania
 innych materiałów, dlatego autor uznał, że warto tą funkcje również zaimplement
ować.
\end_layout

\begin_layout Standard
Większość współczesnych systemów operacyjnych tworzy miniatury filmów oraz
 obrazów na własne potrzeby oraz często pobiera okładki albumów muzycznych
 z Internetu.
 Autor zdecydował się w pierwszej kolejności korzystać z miniatur stworzonych
 przez system operacyjny, zaś w dalszej kolejności z miniatur tworzonych
 przez aplikację (w przypadku gdy miniatura systemu operacyjnego nie istnieje
 lub nie spełnia wymogów co do rozmiarów).
 Miniatura tworzona przez aplikację ma rozmiar 120 x 120 pikseli i jest
 zapisana w standardzie JPEG z tą samą nazwą pliku jaką posiada główny plik
 multimedialny, z przedrostkiem TH (od ang.
 
\emph on
Thumbnail
\emph default
 - miniatura).
\end_layout

\begin_layout Subsection
\begin_inset CommandInset label
LatexCommand label
name "sub:Zarządzanie-aplikacją"

\end_inset

Zarządzanie aplikacją
\end_layout

\begin_layout Standard
Serwer zarządzający serwerem multimediów DLNA jest to aplikacja internetowa
 przygotowana w oparciu o framework 
\emph on
Django.
 
\emph default
Serwer WWW nasłuchuje domyślnie na porcie 8080 (zmiana portu jest możliwa
 poprzez modyfikację plików konfiguracyjnych 
\emph on
Django
\emph default
).
 Autor zaleca wykorzystywać serwer dostarczany wraz z 
\emph on
Django
\emph default
, lecz nie ma żadnych przeciwwskazań, aby wykorzystywać inne oprogramowanie
 serwerowe (np.
 serwer 
\emph on
Apache
\emph default
).
 Aplikacja zarządzająca podobnie, jak serwer UPnP AV, jest dostępna w dwóch
 wersjach językowych: polskim i angielskim.
\end_layout

\begin_layout Standard
Do zarządzania opcjami aplikacji konieczne jest wykorzystanie przeglądarki
 WWW i otworzyć stronę np.
 
\begin_inset Flex URL
status collapsed

\begin_layout Plain Layout

http://localhost:8080/
\end_layout

\end_inset

.
 
\end_layout

\begin_layout Standard
W głównym menu można wybrać następujące opcje (pierwsza nazwa w języku polskim,
 druga w języku angielskim):
\end_layout

\begin_layout Itemize
status - 
\emph on
status
\emph default
,
\end_layout

\begin_layout Itemize
ustawienia - 
\emph on
settings
\emph default
,
\end_layout

\begin_layout Itemize
multimedia - 
\emph on
media
\emph default
,
\end_layout

\begin_layout Itemize
pomoc - 
\emph on
help
\emph default
.
\end_layout

\begin_layout Standard
Pierwszy ekran widoczny na rysunku 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Status-serwera-UPnP"

\end_inset

 wyświetla status serwera UPnP oraz serwera RPC.
 Serwer RPC jest niezbędny do zmiany jakichkolwiek opcji, natomiast serwer
 UPnP AV jest niezbędny do udostępniania multimediów w sieciach UPnP AV
 oraz DLNA.
 Obie usługi mogą działać niezależnie, jednakże autor dla uproszczenia sposobu
 używania aplikacji uniemożliwił selektywne uruchamianie usług.
 
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Status-serwera-UPnP"

\end_inset

Status serwera UPnP AV
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename dlnaserver_web1.png
	display false
	width 70page%

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Druga dostępna opcja, czyli 
\begin_inset Quotes pld
\end_inset

Ustawienia
\begin_inset Quotes prd
\end_inset

 (ang.
 
\emph on
settings
\emph default
) umożliwia modyfikację podstawowych funkcji serwer UPnP AV.
 W niniejszej sekcji możliwa jest zmiana następujących opcji:
\end_layout

\begin_layout Itemize
nazwa serwera UPnP AV,
\end_layout

\begin_layout Itemize
adres IP serwera UPnP AV (domyślnie serwer działa na wszystkich adresach
 sieci lokalnej),
\end_layout

\begin_layout Itemize
port serwera UPnP AV (domyślnie losowy),
\end_layout

\begin_layout Itemize
wzorzec ignorowania - np.
 ignorowanie plików o podanym rozszerzeniu - *.avi (domyślnie brak wzorca),
\end_layout

\begin_layout Itemize
stwórz oddzielny konterer typów MIME (domyślnie włączona),
\end_layout

\begin_layout Itemize
transkodowanie (domyślnie wyłączone),
\end_layout

\begin_layout Itemize
własna ikona serwera,
\end_layout

\begin_layout Itemize
maksymalna ilość przeszukania rekursywnego (domyślnie nieorganiczona) -
 ile folderów 
\begin_inset Quotes pld
\end_inset

w dół
\begin_inset Quotes prd
\end_inset

 rekursywnie ma przeszukiwać algorytm tworzenia biblioteki multimediów.
\end_layout

\begin_layout Standard
Opisywana opcja została przedstawiona na rysunku 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Ustawienia-serwera-UPnP"

\end_inset


\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Ustawienia-serwera-UPnP"

\end_inset

Ustawienia serwera UPnP AV
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename dlnaserver_web2.png
	display false
	width 70page%

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Kolejną opcją jest wybieranie katalogów do wyszukiwania multimediów.
 Została ona przez autora przedstawiona w wersji skróconej jako 
\begin_inset Quotes pld
\end_inset

Multimedia
\begin_inset Quotes prd
\end_inset

 (ang.
 
\emph on
Media
\emph default
).
 W niej możliwe jest dodawanie katalogów do przeszukiwania.
 Po dodaniu lub usunięciu wiersza ze ścieżką konieczne jest ręczne zapisanie
 zmiany poprzez wybranie przycisku 
\begin_inset Quotes pld
\end_inset

Zapisz
\begin_inset Quotes prd
\end_inset

 (ang.
 
\emph on
Save
\emph default
).
 Przycisk nie jest widoczny na rysunku 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Wybieranie-multimediów-dla"

\end_inset

, który przedstawia opisywaną w niniejszym akapicie część aplikacji.
 
\end_layout

\begin_layout Standard
Dodanie multimediów jest możliwe poprzez ręczne wpisanie absolutnej ścieżki
 do katalogu.
 Ścieżka relatywna może powodować niepoprawne wyszukiwanie materiałów np.
 ścieżka 
\begin_inset Quotes pld
\end_inset

~/Wideo
\begin_inset Quotes prd
\end_inset

 może być poprawnie przeszukana, gdy serwer jest uruchomiony przez tego
 samego użytkownika, co pożądany katalog Wideo, lecz niepoprawnie, gdy uruchomił
 go inny użytkownik systemu.
 Drugim sposobem dodania katalogu jest wybór opcji 
\begin_inset Quotes pld
\end_inset

Przeglądaj
\begin_inset Quotes prd
\end_inset

 (ang.
 
\emph on
Browse
\emph default
) i wybranie folderu, który zostanie przeszukany.
 W drugim przypadku ściezka do folderu zostanie dodana do linii absolutnej
 ściezki do katalogu (jest to opcja wygodniejsza dla niektórych użytkowników).
\end_layout

\begin_layout Standard
W przypadku braku katalogu lub innych problemów serwer WWW wykonuje sprawdzenie
 poprawności wpisanych danych.
 W przypadku braku katalogu (lub innego błędu wyszukania folderu) obok wiersza
 ze ścieżką pojawia się czerwony znak 'X'.
 Jednakże aplikacja zarządzająca zezwoli na dodanie ścieżki do bazy danych
 i wyszukanie jej przez serwer UPnP AV i to do niego należy ewentualne zadanie
 ignorowania niepoprawnych ścieżek.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Wybieranie-multimediów-dla"

\end_inset

Wybieranie multimediów dla serwera UPnP AV
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename dlnaserver_web3.png
	display false
	width 70page%

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
Ostatni z dostępnych ekranów, to jest 
\begin_inset Quotes pld
\end_inset

Pomoc
\begin_inset Quotes prd
\end_inset

 (ang.
 
\emph on
Help
\emph default
).
 Znajduje się w nim opis wszystkich opcji dostępnych w serwerze WWW, przybliżony
 sposób wyszukiwania serwera w odtwarzaczu DLNA oraz uproszczona specyfikacja
 serwera DLNA.
 Istnieją w niej informacje o wyszukiwanych plikach multimedialnych, sposobie
 dołączania załączników do plików (np.
 napisy), opis tworzenia miniatur oraz wymagane oprogramowania do działania
 opisywanej aplikacji.
 Plik pomocy dostępny jest również w postaci pliku PDF.
\end_layout

\begin_layout Section
Budowa wewnętrzna modułu serwera UPnP AV
\end_layout

\begin_layout Standard
Serwer multimedialny UPnP AV / DLNA został wykonany w języku Python.
 Do jego realizacji wykorzystany został framework 
\emph on
Coherence DLNA/UPNP Framework for Digital Living
\emph default
 którego opis znajduje się w rozdziale 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Framework’i-UPnP"

\end_inset

.
 Zestaw oprogramowania został podzielony na dwie niezależne aplikacje, serwer
 multimedialny UPnP AV oraz serwer zarządzający.
 Każdy z nich składa się z wielu podmodułów.
 
\emph on
Dla rozróżnienia modułu serwera UPnP AV od aplikacji głównej, pierwszy moduł
 w niniejszej pracy będzie nazywany serwerem multimediów.
\end_layout

\begin_layout Standard
Serwer multimedialny UPnP AV udostępnia swoje funkcje poprzez protokół UPnP
 w wersji tylko do odczytu, oznacza to, że nie można modyfikować opcji serwer
 przy pomocy poleceń protokołu UPnP.
 Zarządzanie serwerm jest możliwe, poprzez wykorzystanie poleceń RPC wysyłanych
 do serwera RPC, będącego modułem wewnętrznym (podmodułem) serwer UPnP AV.
 Polecenia do integralnego serwera RPC wysyłane są z drugiej aplikacji,
 serwera zarządzającego.
 Poprzez zarządzanie rozumiane są takie funkcje jak:
\end_layout

\begin_layout Itemize
uruchomienie / zatrzymanie serwera UPnP,
\end_layout

\begin_layout Itemize
uruchomienie / zatrzymanie / uruchomienie ponowne serwera RPC,
\end_layout

\begin_layout Itemize
zatrzymanie / uruchomienie ponowne serwera zarządzającego,
\end_layout

\begin_layout Itemize
zmiana interfejsu sieciowego serwera UPnP, bądź RPC,
\end_layout

\begin_layout Itemize
zmiana portu zarządzającego serwerem RPC,
\end_layout

\begin_layout Itemize
dodawanie, modyfikacja, usuwanie ścieżek, z których są udostępniane multimedia,
\end_layout

\begin_layout Itemize
tworzenie, modyfikacja, usuwanie wirtualnych bibliotek UPnP AV,
\end_layout

\begin_layout Itemize
wymuszanie ponownego przeskanowania folderów w celu znalezienia plików multimedi
alnych,
\end_layout

\begin_layout Itemize
zmiana loga serwera UPnP, widocznego w odtwarzaczu UPnP AV bądź DLNA.
\end_layout

\begin_layout Standard
Dokładny opis funkcjonalny oraz interfejs użytkownika, serwera zarządzającego
 zostały przedstawione w podrozdziale 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Zarządzanie-aplikacją"

\end_inset

.
\end_layout

\begin_layout Standard
W całej aplikacji wykorzystywane są bazy danych 
\emph on
SQLite 
\emph default
(zawierającymi np.
 ścieżki do przeszukiwania).
 Jest to wybór stosunkowo oczywisty w kontekście umożliwienia działania
 na urządzeniach o niskiej wydajności.
 Baza danych 
\emph on
SQLite
\emph default
 została stworzona z myślą o przechowywaniu małej ilości rekodordów.
 Obsługuje się ją poprzez zewnętrzną bibliotekę.
 W wypadku opisywanej aplikacji wykorzystany został framework 
\emph on
SQLAlchemy
\emph default
 
\begin_inset CommandInset citation
LatexCommand cite
key "key-36"

\end_inset

, który dzięki swojej rozbudowanej dokumentacji, mógł zostać stosunkowo
 szybko i w łatwy sposób wdrożony przez autora.
 Przy dużej ilości danych powoduje to nadmierne obciążenie aplikacji.
 Jednakże w przypadku wielu małych aplikacji, jak i niniejszego serwera
 UPnP, rozwiązanie to eliminuje konieczność instalowania dodatkowego oprogramowa
nia bazodanowego (np.
 
\emph on
MySQL
\emph default
) działającego zazwyczaj w trybie klient - serwer (wprowadza to dodatkowy
 narzut komunikacyjny).
 
\begin_inset CommandInset citation
LatexCommand cite
key "key-33"

\end_inset


\end_layout

\begin_layout Standard
Główna aplikacja, która udostępnia multimedia w sieci UPnP AV i/lub DLNA
 ma możliwość uruchomienia w tle (w trybie demona zgodnie z nazewnictwem
 systemu Linux lub usługi, zgodnie z nazewnictwem systemu Windows) lub w
 trybie pierwszoplanowym (ang.
 
\emph on
foreground
\emph default
), w którym wszystkie komunikaty są wyświetlane w oknie wiersza poleceń.
 W pierwszej kolejności aplikacja otwiera pliki baz danych, z których wczytywane
 są ustawienia oraz ścieżki wyszukiwania plików multimedialnych.
 W przypadku poprawnego wczytania wszystkich danych aplikacja tworzy główny
 obiekt 
\emph on
MediaStore
\emph default
, który jest klasą nadrzedną dla wszystkich udostępnianych obiektów 
\emph on
MediaItem.

\emph default
 Ich opis oraz sposób działania został przedstawiony w dalszej części niniejszej
 pracy.
\end_layout

\begin_layout Standard
Jej uogólniony schemat działania widoczny jest na diagramach stanów oraz
 komunikacji (
\series bold
rysunku ).
 
\end_layout

\begin_layout Subsection
Klasa demona
\end_layout

\begin_layout Standard
Zadaniem klasy demona, 
\emph on
MediaDaemon
\emph default
 jest uruchamianie aplikacji w tle.
 Nie została ona zaprojektowana jako niezbędna klasa na potrzeby działania
 aplikacji, aby relatywnie proste było uruchomienie programu, zarówno w
 tle, jak i w trybie pierwszoplanowym.
\end_layout

\begin_layout Standard
Klasa demona przyjmuje następujące parametry linii komend (pierwszy parametr,
 jest parametrem domyślnym):
\end_layout

\begin_layout Itemize

\emph on
start
\emph default
,
\end_layout

\begin_layout Itemize

\emph on
stop
\emph default
,
\end_layout

\begin_layout Itemize

\emph on
restart.
\end_layout

\begin_layout Standard
Opisywany obiekt jest zabezpieczony przed wielokrotnym uruchomieniem (co
 mogłoby oznaczać modyfikację tych samych danych i ich uszkodzenie), poprzez
 tworzenie pliku o nazwie 
\emph on
daemon.pid
\emph default
, który przechowuje numer identyfikacyjny uruchomionego procesu demona.
 Wykorzystywany jest on również do ponownego uruchamiania oraz zatrzymywania
 aplikacji serwera UPnP AV.
\end_layout

\begin_layout Subsection
Klasa główna serwera UPnP
\end_layout

\begin_layout Standard
Klasa główna, którą jest serwer multimediów, 
\emph on
MediaServer
\emph default
, jest klasą inicjalizującą działanie w sieci UPnP serwera multimedialnego.
 
\end_layout

\begin_layout Standard
W pierwszej kolejności wczytywana jest baza danych multimediów, następnie
 zaś są tworzone obiekt 
\emph on
MediaStore
\emph default
, który w swoim algorytmie działania ma zaimplementowane przeszukiwanie
 ścieżek katalogów, wczytywanie ustawień dostarczonych przez opisywaną w
 niniejszym rozdziale klasę oraz tworzenie obiektów 
\emph on
MediaItem
\emph default
, które dla użytkownika są kontenerami multimediów bądź docelowymi plikami
 multimedialnymi.
\end_layout

\begin_layout Subsubsection
Obiekt MediaStore
\end_layout

\begin_layout Standard
Klasa 
\emph on
MediaStore
\emph default
 jest pierwszą klasą (w ścieżce uruchamiania aplikacji), która jest dziedziczona
 po klasach framework'a 
\emph on
Coherence
\emph default
.
 Od momentu uruchomienia tego obiektu serwer UPnP AV jest widoczny w odtwarzacza
ch UPnP oraz DLNA.
 Otrzymuje ona od klasy nadrzędnej w trakcie uruchamiania parametry działania,
 wśród nich ścieżki do katalogów, w których mają być wyszukiwane multimedia.
 Na podstawie otrzymanych danych tworzy następujące kontenery główne:
\end_layout

\begin_layout Itemize
kontener 
\begin_inset Quotes pld
\end_inset

Muzyka
\begin_inset Quotes prd
\end_inset

 (ang.
 
\emph on
Music
\emph default
),
\end_layout

\begin_layout Itemize
kontener 
\begin_inset Quotes pld
\end_inset

Wideo
\begin_inset Quotes prd
\end_inset

 (ang.
 
\emph on
Video
\emph default
),
\end_layout

\begin_layout Itemize
kontener 
\begin_inset Quotes pld
\end_inset

Zdjęcia
\begin_inset Quotes prd
\end_inset

 (ang.
 
\emph on
Images
\emph default
),
\end_layout

\begin_layout Itemize
kontener 
\begin_inset Quotes pld
\end_inset

Katalogi
\begin_inset Quotes prd
\end_inset

 (ang.
 
\emph on
Directories
\emph default
),
\end_layout

\begin_layout Itemize
kontener 
\begin_inset Quotes pld
\end_inset

Typy MIME
\begin_inset Quotes prd
\end_inset

 (ang.
 
\emph on
MIMETypes
\emph default
) - opcjonalny.
\end_layout

\begin_layout Standard
Po utworzeniu powyższych kontenerów, algorytm wczytuje w kolejności wszystkie
 pliki multimedialne i przydziela je do odpowiednich kategorii.
 W przypadku wczytywania folderu (wewnątrz którego jest wybrany do udostępniania
 plik), tworzony jest kolejny kontener, który jest podkontenerem, dla biblioteki
 
\begin_inset Quotes pld
\end_inset

Katalogi
\begin_inset Quotes prd
\end_inset

.
\end_layout

\begin_layout Standard
Wczytanie pliku multimedialnego lub tworzenie konteneru, precyzyjnie określając,
 jest stworzeniem obiektu 
\emph on
MediaItem 
\emph default
(jeden plik lub kontener, oznacza pojedyńczy obiekt 
\emph on
MediaItem
\emph default
).
 Podtyp ten został opisany w kolejnym podrozdziale.
\end_layout

\begin_layout Subsubsection
Obiekt MediaItem
\end_layout

\begin_layout Standard
Klasa 
\emph on
MediaItem
\emph default
 przechowuje informacje o pojedyńczym obiekcie schematu UPnP.
 Wyróżniamy tu takie typy jak:
\end_layout

\begin_layout Itemize

\emph on
container - 
\emph default
kontener,
\end_layout

\begin_layout Itemize

\emph on
VideoItem - 
\emph default
obiekt wideo,
\end_layout

\begin_layout Itemize

\emph on
MusicItem - 
\emph default
obiekt audio,
\end_layout

\begin_layout Itemize

\emph on
ImageItem
\emph default
 - obiekt graficzny.
\end_layout

\begin_layout Standard
Pierwszy z nich, kontener, odzwierciedla w systemie plików, katalogi.
 Pozostałe odzwierciedlają odpowiednie, dla swojego typu, pliki.
\end_layout

\begin_layout Standard
Opisywany obiekt zawiera informacje niezbędne do jego wyszukania oraz do
 odtworzenia przez odtwarzacz UPnP AV / DLNA.
 Posiada takie informacje, jaK
\end_layout

\begin_layout Itemize
numer identyfikacyjny obiektu,
\end_layout

\begin_layout Itemize
nazwa (przyjazna dla użytkownika - nazwa pliku bez rozszerzenia),
\end_layout

\begin_layout Itemize
typ MIME,
\end_layout

\begin_layout Itemize
ścieżka do pliku,
\end_layout

\begin_layout Itemize
adres URL do pliku (przy jego pomocy odtwarzacz odtwarza materiał),
\end_layout

\begin_layout Itemize
nazwę hosta,
\end_layout

\begin_layout Itemize
kontenery nadrzędne, 
\begin_inset Quotes pld
\end_inset

rodziców
\begin_inset Quotes prd
\end_inset

 (o ile istnieją),
\end_layout

\begin_layout Itemize
kontenery podrzędne, 
\begin_inset Quotes pld
\end_inset

dzieci
\begin_inset Quotes prd
\end_inset

 (o ile istnieją),
\end_layout

\begin_layout Itemize
miniatura (jeżeli obiekt nie jest kontenerem).
\end_layout

\begin_layout Standard
Obiekt 
\emph on
MediaItem
\emph default
 tworzy dla odtwarzacza i przechowuje metadane dotyczące plików.
 Są one pobierane przy wykorzystaniu różnych narzędzi.
 Najprostszym przypadkiem jest typ graficzny, dla którego wykorzystywana
 jest wbudowana klasa języka Python - 
\emph on
Image
\emph default
.
 Przy jej pomocy uzyskiwane są informacje o rozmiarze pliku i jego rozdzielczośc
i.
\end_layout

\begin_layout Standard
Długość oraz przepływność (ang.
 
\emph on
bitrate
\emph default
)
\emph on
 
\emph default
dla plików audio jest pobierana przy pomocy zewnętrznej klasy 
\emph on
mutagen.mp3 
\emph default
lub 
\emph on
wave
\emph default
.
\end_layout

\begin_layout Standard
Dla materiałów wideo aplikacja wykorzystuje dwa sposoby na uzyskanie pomocnych
 dla siebie informacji.
 Metadane wbudowane w określony kontener multimedialny, bądź też zewnętrzne
 narzędzie 
\emph on
ffprobe, 
\emph default
który w prosty sposób dostarcza informacji o czasie trwania materiału, przepływn
ości, rozdzielczości oraz ilości kanałów audio w ścieżce dźwiękowej.
\end_layout

\begin_layout Standard
Ostatnim zadaniem klasy 
\emph on
MediaItem 
\emph default
jest tworzenie miniatur.
 Mogą być tworzone przy pomocy dwóch narzędzi: 
\emph on
ffmpegthumbnailer
\emph default
 dla plików wideo lub przy pomocy klasy 
\emph on
Image
\emph default
 języka Python dla plików graficznych (klasa ta posiada specjalną metodę
 do tworzenia miniatur).
 W przypadku filmu wybierana jest klatka, która stanowi 33% długości materiału.
 Pliki takie przechowywane są w katalogu domowym użytkownika (zarówno w
 systemach rodziny Windows, jak i Linux), w ukrytym podkatalogach 
\emph on

\begin_inset Quotes pld
\end_inset

thumbnails/dlna
\begin_inset Quotes prd
\end_inset

.
\end_layout

\begin_layout Standard
Aplikacja 
\begin_inset Quotes pld
\end_inset

stara się
\begin_inset Quotes prd
\end_inset

 tworzyć miniatury filmów oraz obrazów, na własne potrzeby, jak najrzadziej
 to możliwe.
 Jeżeli miniatura danego pliku istnieje w systemie operacyjnym, oprogramowanie
 potrafi ją zlokalizować, ma prawa do jej odczytu oraz spełnia wymagania
 co do rozmiaru i typu (rozmiar 120 x 120 pikseli, typ JPEG lub PNG), wówczas
 do odtwarzacza przekazywana jest wersja miniatury utworzona przez system
 (uprzednio jest kopiowana do katalogu miniatur programu).
\end_layout

\begin_layout Subsection
Modyfikacja frameworka UPnP Coherence
\end_layout

\begin_layout Standard

\emph on
Coherence DLNA/UPNP Framework for Digital Living 
\emph default
dostarcza programiście zestaw narzędzi, które kompleksowo zapewniają tworzenie
 komunikatów UPnP (DLNA).
 Framework może działać zarówno jako klient, jak i serwer.
 W niniejszej aplikacji wykorzystywana jest tylko część serwerowa zewnętrznego
 oprogramowania.
 Teoretycznie programista powinien ograniczyć się do stworzenia biblioteki
 multimediów, wczytaniu jej do odpowiedniego obiektu serwera, a na końcu
 uruchomieniu go z odpowiednimi parametrami wejściowymi.
 Niestety w trakcie testów i implementacji serwera UPnP AV autor napotkał
 na szereg problemów we współpracy serwera z różnymi urządzeniami.
 Problemy rozpoczęły się na komunikacji z urządzeniami firm Samsung, LG.
 O ile z odtwarzaczami drugiej firmy serwer współpracował na akceptowalnym
 poziomie, o tyle z firmą Samsung nie współpracował w ogóle.
\end_layout

\begin_layout Standard
Z tego powodu autor pracy zdecydował się zmodyfikować niektóre klasy framework'a
, tak aby aplikacja działała z każdym dostepnym dla autora do testowania
 urządzeniem.
 Zezwala na to liberalna licencja, na której udostępniany jest program 
\emph on
Coherence
\emph default
, MIT 
\begin_inset CommandInset citation
LatexCommand cite
key "key-32"

\end_inset

.
\end_layout

\begin_layout Standard
Niektóre urządzenia (aplikacje) zostały zaprogramowane w sposób absurdalny
 dla użytkownika.
 To znaczy tak, aby współpracować tylko z urządzeniami tej samej firmy.
 Jednym z nich są odtwarzacze firmy 
\emph on
Microsoft
\emph default
 (
\emph on
Microsoft Xbox 360, Windoes Media Player
\emph default
), które materiały wideo w jakości 
\emph on
HD Ready
\emph default
, tylko gdy serwerem również jest urządzenie firmy 
\emph on
Microsoft.

\emph default
 Z tego powodu oprogramowanie musi 
\begin_inset Quotes pld
\end_inset

przedstawiać się
\begin_inset Quotes prd
\end_inset

 jako serwer multimedialny 
\emph on
Windows Media Connect
\emph default
.
\end_layout

\begin_layout Standard
Ciekawym wątkiem jest format plików 
\emph on
Matroska, 
\emph default
w odtwarzaczach DLNA firmy Samsung.
 Odtwarzacz wbudowany w urządzenie (który odtwarza materiały poprzez złącze
 USB) potrafi odtworzyć opisywany kontener multimedialny.
 Urządzenie posiada sprzętowy dekoder H.264, a odtwarzacz DLNA mimo wszystko
 nie zgadza się na odtworzenie materiału.
 Autor podejrzewa, że powodem może być brak licencji na odtwarzanie tego
 typu plików lub zbyt dokładne podążanie za specyfikacją DLNA (lecz z drugiej
 strony filmy AVI są odtwarzane).
 W celu rozwiązania problemu autor zaprogramował serwer tak, aby dla niektórych
 urządzeń pliki 
\emph on
MKV 
\emph default
były przedstawiane poprzez inny typ MIME - 
\emph on
video/x-msvideo
\emph default
.
 W przypadku gdyby, jakiś odtwarzacz nie współpracował z typem MIME 
\emph on
video/x-msvideo
\emph default
 
\emph on
(
\emph default
co w trakcie testów się nie zdarzyło), a użytkownik chciał zmienić ręcznie
 typ MIME, zmiana ta jest możliwa poprzez edycję tekstowego pliku konfiguracyjne
go w głównym katalogu aplikacji.
\end_layout

\begin_layout Standard
Poza opisanymi w poprzednich akapitach zmianami (i zmianami opisanymi w
 podrozdziale 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Język-DIDL-Lite"

\end_inset

) autor zmodyfikował metodę przeglądania (
\emph on
upnp_Browse
\emph default
) oraz metodę wyszukiwania (
\emph on
upnp_Search)
\emph default
, zgodnie z wymaganiami większości odtwarzaczy DLNA.
\end_layout

\begin_layout Subsubsection
\begin_inset CommandInset label
LatexCommand label
name "sub:Język-DIDL-Lite"

\end_inset

Język DIDL-Lite
\end_layout

\begin_layout Standard
DIDL-Lite (ang.
 
\emph on
Digital Item Declaration Language Lite
\emph default
) jest językiem, który dostarcza schemat opisu urządzeń UPnP AV oraz DLNA.
 Jest to język oparty na schemacie dokumentu XML.
 W przypadku, gdy druga strona komunikacji nie umie zinterpretować części
 dokumentu powinna go ignorować, jednakże zazwyczaj odtwarzacze w urządzeniach
 znanych marek, nie odnajdują serwera, aby uniknąć ewentualnych błędów.
\end_layout

\begin_layout Standard
Bardzo ważnym elementem dokumentu w języku DIDL-Lite jest jego nagłówek.
 Określa on, z jakimi schematami jest zgodny dany plik XML.
 Przykładowy nagłówek DIDL-Lite został przedstawiony na rysunku 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Przykładowy-nagłówek-dokumentu"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Przykładowy-nagłówek-dokumentu"

\end_inset

Przykładowy nagłówek dokumentu w języku DIDL-Lite
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename didlite_header.png
	display false
	width 70page%

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Standard
W wypadku urządzeń firmy Samsung, wymaganym nagłówkiem, dzięki któremu urządzeni
e zostanie wyświetlone na liście serwerów odnalezionych jest:
\end_layout

\begin_layout Itemize

\emph on
xmlns:sec="http://www.sec.co.kr/"
\end_layout

\begin_layout Standard
Informacja ta została uzyskana na podstawie podsłuchiwania pakietów TCP
 (wykorzystując narzędzie 
\emph on
tcpdump 
\emph default
lub 
\emph on
Wireshark
\emph default
) wymienianych między serwerem DLNA firmy Samsung (aplikacja 
\emph on
AllShare
\emph default
), a odtwarzaczem DLNA tej samej firmy (również aplikacja 
\emph on
AllShare
\emph default
).
\end_layout

\begin_layout Standard
Ponadto autor na potrzeby obsługi urządzeń DLNA zaimplementował tagi zdefiniowan
e przez konsorcjum DLNA w specyfikacji.
 Część z parametrów była już zaimplementowana w pierwotnej wersji framework'a,
 jednakże dla wyjaśnienia ich znaczenia, na poniższej liście zostaną przedstawio
ne wszystkie dostępne w dołączonym do pracy oprogramowaniu:
\end_layout

\begin_layout Itemize
DLNA.ORG_PN - format multimediów zgodny z DLNA (niestety niezgodne z typami
 MIME, tak jak w UPnP AV),
\end_layout

\begin_layout Itemize
DLNA.ORG_OP - wartość '0' lub '1' - definiuje czy serwer obsługuje zaawansowane
 operacje przesyłania (np.
 przewijanie),
\end_layout

\begin_layout Itemize
DLNA.ORG_PS - wartość dziesiętna - możliwe tempo odtwarzania materiału,
\end_layout

\begin_layout Itemize
DLNA.ORG_CI - wartość '0' lub '1' - definiuje czy materiał jest transkodowany,
\end_layout

\begin_layout Itemize
DLNA.ORG_FLAGS - dodatkowy ciąg 33 bitowych znaków określające dodatkowe
 parametry serwera oraz opisywanego pliku.
\end_layout

\begin_layout Standard
Przykładowymi formaty multimediów w konwencji DLNA są: MP3 (typ MIME - audio/mpe
g), WMABASE (typ MIME - audio/ms-wma), JPEG_LRG / JPEG_MED (typ MIME - image/jpe
g), PNG_LRG / PNG_MED (typ MIME - image/png), MPEG_TS_PAL / MPEG_TS_NTSC
 (video/mpeg).
\end_layout

\begin_layout Standard
Plik 
\emph on
DIDL-Lite
\emph default
 musi być dla wielu urządzeń specjalnie sformatowany z dokładnie sprecyzowaną
 ilością parametrów.
 Parametry nadmiarowe często powodują, że urządzenie uznaje serwer UPnP
 AV / DLNA za niewłaściwy i nie umożliwia przeglądania jego zawartości.
 W pierwotnej wersji oprogramowania 
\emph on
Coherence
\emph default
 programiści przygotowali specjalnie parsowane dokumenty, dla konsol do
 gier, takich jak 
\emph on
Microsoft Xbox 360
\emph default
 oraz 
\emph on
Sony Playstation 3
\emph default
.
 Autor dodał wsparcie dla urządzeń firm 
\emph on
Samsung 
\emph default
(telewizory oraz urządzenia mobilne), 
\emph on
Philips 
\emph default
(telewizory), 
\emph on
LG 
\emph default
(telewizory oraz odtwarzacze Blu-Ray) oraz dla oprogramowania UPnP AV/DLNA
 dla komputerów stacjonarnych działających pod kontrolą systemów operacyjnych
 Windows oraz Linux (środowisko graficzne Gnome).
\end_layout

\begin_layout Subsection
Klasa serwera RPC
\end_layout

\begin_layout Standard
Zewnętrzne oprogramowanie, dołączone do aplikacji, 
\emph on
Coherence DLNA/UPNP Framework for Digital Living
\emph default
, nie ma zaimplementowanej modyfikacji parametrów serwera poprzez interpretację
 komunikatów UPnP.
 Autor podjął decyzję o zaimplementowaniu oddzielnego serwera poleceń RPC,
 umożliwiającego zmianę opcji poprzez modyfikację rekordów w bazie danych.
 Było to zdaniem autora prostsze do stworzenia rozwiązanie.
\end_layout

\begin_layout Standard
W tym wypadku została napisana klasa, która modyfikuje zmienne definiujące
 opcje serwera oraz modyfikuje dane wewnątrz bazy danych 
\emph on
SQLite
\emph default
.
 Serwer RPC umożliwia nie tylko zmianę parametrów, ale również pobieranie
 ich wartości, na potrzeby opisywanego już wcześniej drugiego modułu oprogramowa
nia, serwisu WWW.
 Informowanie zainteresowanych klas o modyfikacji parametrów odbywa się
 poprzez zaimplementowany zgodnie z wzorcem projektowym obserwatora.
\end_layout

\begin_layout Standard
Parametry możliwe do zmiany zostały przedstawione we wcześniejszym podrozdziale
 
\begin_inset CommandInset ref
LatexCommand ref
reference "sub:Zarządzanie-aplikacją"

\end_inset

.
\end_layout

\begin_layout Section
Budowa wewnętrzna modułu zarządzającego
\end_layout

\begin_layout Standard
Moduł zarządzający jest to aplikacja internetowa, w postaci strony WWW.
 Zapewnia on graficzny interfejs użytkownika, który umożliwia sprawdzenie
 statusu serwer UPnP AV / DLNA oraz zmianę istotnych dla użytkownika parametrów.
\end_layout

\begin_layout Standard
Aplikacja została napisana we frameworku 
\emph on
Django
\emph default
, w języku programowania 
\emph on
Python.

\emph default
 Większość zapytań obsługuje poprzez zapytania AJAX (ang.
 
\emph on
Asynchronous JavaScript and XML
\emph default
), dzięki czemu strona WWW nie musi być odświeżana przez użytkownika w celu
 sprawdzenia stanu pozostałych modułów oprogramowania.
\end_layout

\begin_layout Standard
Program napisany we framework'u 
\emph on
Django
\emph default
 jest zgodny z wzorcem projektowym 
\emph on
MVC
\emph default
 (Model - Widok - Kontroler, ang.
 
\emph on
Model - View - Controller
\emph default
).
 Z tego powodu każda z części wzorca została opisana w kolejnych podrozdziałach.
 Widok oraz kontroler w nomenklaturze 
\emph on
Django
\emph default
 nazywane są w sposób odwrotny od ogólnie przyjętego schematu, to jest w
 pliku widoku (ang.

\emph on
 view
\emph default
) zdefiniowana jest obsługa (kontrola) strony, zaś folder szablonów (ang.
 
\emph on
templates)
\emph default
 jest widokiem wzorca MVC.
\end_layout

\begin_layout Subsection
Model
\end_layout

\begin_layout Standard
Model definiuje strukturę tabel bazy danych aplikacji.
 Program posiada własną bazę danych (niezależną od bazy danych drugiego
 modułu).
 Baza danych, jak wszystkie tego typu struktury w zestawie aplikacji, jest
 bazą 
\emph on
SQLite.
 
\emph default
Istnieją w niej cztery tabele, takie jak (podlista dla każdego elementu
 to pola tabeli):
\end_layout

\begin_layout Enumerate
Zawartość (ang.
 
\emph on
Content
\emph default
)
\end_layout

\begin_deeper
\begin_layout Itemize
ID - numer identyfikacyjny,
\end_layout

\begin_layout Itemize
Ścieżka (ang.
 
\emph on
path
\emph default
) - ścieżka przeszukiwania plików do dodania do biblioteki multimediów,
\end_layout

\end_deeper
\begin_layout Enumerate
Parametry (ang.
 
\emph on
DBContainer
\emph default
)
\end_layout

\begin_deeper
\begin_layout Itemize
ID - numer identyfikacyjny,
\end_layout

\begin_layout Itemize
adres IP,
\end_layout

\begin_layout Itemize
port,
\end_layout

\begin_layout Itemize
nazwa,
\end_layout

\begin_layout Itemize
UUID - identyfikator serwer UPnP AV,
\end_layout

\begin_layout Itemize
Utworzony - wartość bool'owska definiująca, czy UUID jest utworzony,
\end_layout

\begin_layout Itemize
id sesji - identyfikator sesji WWW,
\end_layout

\begin_layout Itemize
kontener MIME - wartość bool'owska określająca czy serwer UPnP AV tworzy
 biblioteke multimedialną kontenerów MIME,
\end_layout

\begin_layout Itemize
transkodowanie - włączenie lub wyłączenie transkodowania materiałów,
\end_layout

\begin_layout Itemize
obserwacja zmiany folderów - definiuje czy każda zmiana zawartości folderu,
 ma być automatycznie aktualizowana
\end_layout

\end_deeper
\begin_layout Enumerate
Adres serwera RPC (ang.
 
\emph on
DBAddress)
\end_layout

\begin_deeper
\begin_layout Itemize
ID - numer identyfikacyjny,
\end_layout

\begin_layout Itemize
adres IP,
\end_layout

\begin_layout Itemize
port
\end_layout

\end_deeper
\begin_layout Enumerate
Status usługi (ang.
 
\emph on
ServiceStatus
\emph default
)
\end_layout

\begin_deeper
\begin_layout Itemize
ID - numer identyfikacyjny,
\end_layout

\begin_layout Itemize
nazwa,
\end_layout

\begin_layout Itemize
stan - definiuje czy serwer podczas ostatniego sprawdzania był uruchomiony
 czy nie.
\end_layout

\end_deeper
\begin_layout Standard
W powyższym schemacie, zwraca uwagę fakt zdublowania informacji o adresie
 IP oraz porcie.
 W tabeli 
\begin_inset Quotes pld
\end_inset

Parametry
\begin_inset Quotes prd
\end_inset

 adres ip oraz port są to informacje uzyskane na temat serwera UPnP, natomiast
 druga tabela zawiera dane o adresie IP oraz porcie serwera RPC, umożliwiające
 uzyskanie danych do tabeli 
\begin_inset Quotes pld
\end_inset

Parametry
\begin_inset Quotes prd
\end_inset

 oraz synchronizację ustawień między tabelą modułu zarządzającego 
\begin_inset Quotes pld
\end_inset

Parametry
\begin_inset Quotes prd
\end_inset

, a jej odpowiednikiem w drugim module.
\end_layout

\begin_layout Subsection
Widok
\end_layout

\begin_layout Standard
Rolę widoku w 
\emph on
Django 
\emph default
pełni katalog szablonów
\emph on
 templates.
 
\emph default
Udostępniane są w nim szablony stron internetowych napisanych w języku 
\emph on
HTML
\emph default
, 
\emph on
Javascript
\emph default
 (wraz z biblioteką 
\emph on
jQuery
\emph default
) oraz wbudowane, w framework, tagi, które umożliwiają wczytanie danych
 w trakcie inicjalizacji (pobierania) strony.
 Dane do wspomnianych tagów udostępniane są przez kontroler aplikacji.
\end_layout

\begin_layout Standard
W opisywanej aplikacji oprócz skryptów 
\emph on
Javascript 
\emph default
oraz stron internetowych, dołączone są pliki kaskadowych arkuszów stylów
 
\emph on
CSS 
\emph default
oraz elementy graficzne interfejsu użytkownika.
\end_layout

\begin_layout Subsection
Kontroler
\end_layout

\begin_layout Standard
Częścią aplikacji, która zwraca użytkownikowi stronę internetową oraz uzyskuje
 do niej niezbędne dane (takie jak parametry serwera UPnP), jest kontroler.
 W nazewnictwie przyjętym w 
\emph on
Django, 
\emph default
plik nazywa się widokiem (ang.
 
\emph on
views
\emph default
).
\end_layout

\begin_layout Standard
Pierwsze zapytanie o plik główny jako jedynym nie jest zapytaniem wykonywanym
 techniką asynchroniczną AJAX
\emph on
.
 
\emph default
Wczytywany jest tu plik szablonu statusu oraz dodawane są do niego dane
 pobrane z tabeli 
\begin_inset Quotes pld
\end_inset

Parametry
\begin_inset Quotes prd
\end_inset

.
 Dalsze informacje o zmianie statusu pobierane są poprzez cykliczne zapytania
 do serwera, wykonywane w tle.
 Wszystkie dane przesyłane w komunikatach AJAX są przesyłane w formacie
 
\emph on
JSON
\emph default
 
\begin_inset CommandInset citation
LatexCommand cite
key "key-39"

\end_inset

.
 Pliki 
\emph on
JSON
\emph default
 tworzone są na dwa sposoby.
 Pierwszym sposobem jest parsowanie słownika za pomocą bilioteki 
\emph on
simplejson
\emph default
, która tworzy ciąg znaków w pożądanym formacie.
 Drugim sposobem jest tworzenie pliku za pomocą 
\begin_inset Quotes pld
\end_inset

ręcznego
\begin_inset Quotes prd
\end_inset

 wpisywania do ciągu znaków odpowiednio spreparowanych komunikatów.
 Drugi sposób, pomimo, że prosty i prymitywny, w przypadkach, gdy aplikacja
 przesyła krótkie komunikaty, takie jak widoczne na rysunku 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:statusUPNPJSON"

\end_inset

.
 
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout

\end_layout

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:statusUPNPJSON"

\end_inset

Status serwera UPnP w postaci 
\emph on
JSON
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
{ 
\begin_inset Quotes pld
\end_inset

Status
\begin_inset Quotes prd
\end_inset

 : 
\begin_inset Quotes pld
\end_inset

Running
\begin_inset Quotes prd
\end_inset

 }
\end_layout

\end_inset


\end_layout

\begin_layout Standard
W kontrolerze następuje uruchomienie demona serwer multimediów.
 Usługa jest uruchamiana w tle poprzez uruchomienie potoku zaimplementowanego
 w klasie 
\emph on
subproocess
\emph default
 języka Python.
\end_layout

\begin_layout Chapter
Testy
\end_layout

\begin_layout Standard
Oprogramowania odtwarzaczy UPnP AV oraz DLNA są bardzo zróżnicowane względem
 ilości udostępnianych funkcji.
 Powstają dość duże rozbieżności w sposobie obsługi serwerów, nawet w cechach
 wspólnych odtwarzaczy, czyli w sposobie wyszukiwania, przeglądania oraz
 odtwarzania multimediów.
 Z tego powodu serwer musi wiele urządzeń w różnoraki sposób obsługiwać,
 to znaczy preparować odpowiedzi przygotowane dla danego typu oprogramowania.
 W tym przypadku przez typ rozumiany jest producent, wytwórca aplikacji.
 Z wcześniej przedstawionych powodów oprogramowanie serwera multimedialnego
 UPnP AV musiało przejść szereg testów współpracy z różnymi urządzeniami.
 Autor planował stworzyć jednolity sposób testowania aplikacji, lecz w większośc
i przypadków nie było to możliwe.
 Każdy z odtwarzaczy wymaga stworzenia własnej procedury wykonania poleceń
 protokołu UPnP AV / DLNA (odtwarzanie, przewijanie, pokaz slajdów itp.).
\end_layout

\begin_layout Section
Sposób testowania aplikacji 
\end_layout

\begin_layout Standard
\begin_inset CommandInset label
LatexCommand label
name "sec:Sposób-testowania-aplikacji"

\end_inset

Aplikacja została poddana kilkudziesięciu testom użytkowym oraz systemowym
 (nie zostały zaprogramowane i wykonane testy jednostkowe wytworzonego oprogramo
wania).
 Autor stworzył procedury sprawdzania poprawności działania aplikacji dla
 obu modułów aplikacji, serwera multimedialnego UPnP AV oraz serwera zarządzając
ego.
 W przypadku pierwszego modułu testom poddane zostały schematy działania
 dla większości stosowanych (w praktyce) poleceń specyfikacji UPnP AV oraz
 DLNA.
 Z powodu zróżnicowania aplikacji na różnych urządzeniach (oraz programach)
 odtwarzających multimedia, sprawdzanie zgodności modułu ze zleconymi zadaniami
 zostało wykonane poprzez praktyczne wykonanie odtwarzania treści multimedialnyc
h.
\end_layout

\begin_layout Standard
W przypadku drugiego modułu, konieczne do wykonania testy, były prostsze
 oraz mniej skomplikowane.
 Konieczne było przetestowanie współpracy modułu z kilkoma (najpopularniejszymi)
 przeglądarkami internetowymi oraz reakcja na wydawanie poleceń, takich
 jak dodanie katalogu z multimediami czy zmiana ustawień.
\end_layout

\begin_layout Standard
Ponadto autor wykonał kilka testów 
\begin_inset Quotes pld
\end_inset

wspólnych
\begin_inset Quotes prd
\end_inset

 dla obu modułów.
 Gdy w jakimkolwiek stopniu zachodzi interakcja między modułami wykonane
 zostało sprawdzenie czy reakcja (np.
 przeszukanie katalogów) jest poprawna.
 Za bezwzględnie konieczny, autor uznał, test w sytuacjach awaryjnych, gdy
 jeden z modułów nie odpowiada.
 Oprogramowanie w sytuacjach awaryjnych musi powiadomić użytkownika o zaistniały
m błędzie lub samodzielnie spróbować rozwiązać problem.
 Druga sytuacja ma miejsce, tylko w jednym przypadku, to znaczy moduł zarządzani
a może ponownie uruchamiać (lub wysłać polecenie ponownego odczytu ustawień)
 moduł serwera multimedialnego (jeżeli ten nie obsługuje innych odtwarzaczy
 multimedialnych).
\end_layout

\begin_layout Standard
W sytuacji wykrycia błędnej współpracy na linii serwer i odtwarzacz multimedialn
y, po wprowadzeniu niezbędnych poprawek, testy dla wszystkich urządzeń były
 wykonywane ponownie.
 Zmiana sposobu działania serwera (np.
 modyfikacja jednego z nagłówków odpowiedzi) umożliwiała współpracę z jednym
 odtwarzaczem, natomiast mogła utrudniać działania innych.
\end_layout

\begin_layout Standard
Specyfikacja DLNA określa dwa typy odtwarzaczy DLNA:
\end_layout

\begin_layout Itemize
odtwarzacze (stacjonarne),
\end_layout

\begin_layout Itemize
odtwarzacze mobilne.
\end_layout

\begin_layout Standard
Autor, na potrzeby sprawdzenia odtwarzania materiałów z serwera multimedialnego,
 stworzył następujący podział opisywanego oprogramowania do testowania:
\end_layout

\begin_layout Itemize
oprogramowanie dla komputerów klasy PC,
\end_layout

\begin_layout Itemize
oprogramowanie w szeroko opojętym sprzęcie 
\begin_inset Quotes pld
\end_inset

telewizyjnym
\begin_inset Quotes prd
\end_inset

,
\end_layout

\begin_layout Itemize
oprogramowanie mobilne.
\end_layout

\begin_layout Standard
Powyższy podział powstał w sposób, który można nazwać naturalnym.
 Aplikacja, która współpracowała ze sprzętem telewizyjnym, we wczesnych
 fazach, nie działała poprawnie na pozostałych klasach.
 Sprzętem, na którym autor sprawdzał poprawność aplikacji, w początkowym
 etapie prac, były:
\end_layout

\begin_layout Itemize
telewizor marki Samsung,
\end_layout

\begin_layout Itemize
telewizor marki Phillips,
\end_layout

\begin_layout Itemize
odtwarzacz Blu-ray marki LG,
\end_layout

\begin_layout Itemize
smartfon Samsung Galaxy S2 (system operacyjny Android, oprogramowanie AllShare),
\end_layout

\begin_layout Itemize
smartfon Samsung Galaxy S (system operacyjny Android, oprogramowanie AllShare),
\end_layout

\begin_layout Itemize
smartfon Sony Ericsson (system operacyjny Android, oprogramowanie inne).
\end_layout

\begin_layout Standard
Najnowsze telewizory marki Samsung z oprogramowaniem 
\emph on
SMART HUB
\emph default
 posiadają oprogramowanie AllShare.
 Oprogramowanie o tej samej nazwie jest również dostępne dla komputerów
 PC z systemem operacyjnym Microsoft Windows oraz dla smartfonów z systemem
 operacyjny Android.
 Oprogramowanie, mimo tej samej nazwy, działa na każdym z urządzeń w inny
 sposób.
 Dokładne porównanie funkcji programów firmy Samsung znajduje się w rozdziale
 
\begin_inset CommandInset ref
LatexCommand ref
reference "chap:Przegląd-oprogramowania-UPnP"

\end_inset

.
\end_layout

\begin_layout Standard
Poza opisanymi powyżej urządzeniami przetestowane zostały pojedyńcze modele
 (dzięki udostępnieniu sprzętu przez jeden ze znanych marketów elektronicznych)
 telewizorów firm, takich jak Sony Bravia, Phillips oraz LG Smart TV.
\end_layout

\begin_layout Standard
W kolejnych podrozdziałach zostały przedstawione jedynie testy, które zostały
 dokładnie udokumentowane, tj.
 telewizora Samsung, odtwarzacz Blu-ray LG oraz telefonu Samsung Galaxy
 S2.
\end_layout

\begin_layout Standard
Zadaniami, (które na każdym z urządzeń były interpretowane w inny sposób),
 koniecznymi do bardzo dokładnego przetestowania były:
\end_layout

\begin_layout Itemize
przeglądanie zawartości folderów,
\end_layout

\begin_layout Itemize
odtwarzanie różnych kontenerów multimedialnych - filmów,
\end_layout

\begin_layout Itemize
odtwarzanie napisów,
\end_layout

\begin_layout Itemize
przewijanie filmów.
\end_layout

\begin_layout Standard
Serwer w trakcie testów miał już wcześniej zdefiniowane źródła odtwarzanych
 materiałów oraz udostępniał następujące pliki:
\end_layout

\begin_layout Itemize
pliki filmowe - avi, mkv, mp4,
\end_layout

\begin_layout Itemize
pliki audio - wav, mp3,
\end_layout

\begin_layout Itemize
pliki graficzne - jpg, png, miniatury filmów oraz zdjęć.
\end_layout

\begin_layout Subsection
Test wyszukiwania urządzenia
\end_layout

\begin_layout Standard
Pierwszym elementem, który umożliwia współpracę urządzenia audio-wideo w
 protokołach UPnP AV oraz DLNA jest ich wyszukiwanie.
 W trakcie tego testu sprawdzane jest czy każdy odtwarzacz wykrył serwer
 multimedialny oraz wyświetlił jego prawidłową nazwę i miniaturę urządzenia.
\end_layout

\begin_layout Subsection
Test przeglądania zawartości
\end_layout

\begin_layout Standard
Przed otwarciem materiału multimedialnego konieczne jest jego wyszukanie.
 Odbywa się to poprzez przeglądanie zawartości udostępnianych treści przez
 serwer multimedialny.
\end_layout

\begin_layout Standard
Sprawdzenie poprawności opisywanej operacji odbywało się na urządzeniach
 w kilku symulowanych sytuacjach.
 Pierwsza z nich, to uruchomienie serwera oraz przeglądanie zawartości na
 urządzeniu odtwarzającym.
 W tym momencie sprawdzane jest czy odtwarzacz wyświetla obecność wszystkich
 plików, które są współdzielone przez stworzone oprogramowanie.
 Test obejmuje również kontrolę poprawnego wyświetlania miniatur i prawidłowe
 wyświetlanie informacji o każdym pliku.
 Szczególnie ważne dla muzyki i treści wideo jest prawidłowe odczytanie
 długości materiału, gdyż istnienie tego parametru umożliwia w wielu urządzeniac
h przewijanie odtwarzanego pliku (w przypadku jego braku przewijanie jest
 zablokowane).
\end_layout

\begin_layout Standard
Przeglądanie zawartości umożliwia sprawdzenie czy serwer poprawnie przypisuje
 pliki do poszczególnych typów MIME oraz do typów odtwarzanych materiałów.
\end_layout

\begin_layout Subsection
Test odtwarzania materiałów
\end_layout

\begin_layout Standard
W celu sprawdzenia materiałów autor przygotował kilkanaście plików muzycznych,
 graficznych oraz wideo.
 Każdy z innym rozszerzeniem, aby sprawdzenie odtwarzania było wykonane
 w jak najszerszym zakresie.
 Niniejszy test został wykonany na zasadzie porównywania serwera UPnP AV,
 z innym oprogramowaniem pełniącym rolę serwera UPnP AV (DLNA).
 Umożliwiło to określenie możliwości odtwarzaczy oraz w przypadku problemów
 z odtwarzaniem materiałów udostępnianych przez aplikację 
\series bold
UPNP, 
\series default
wykrycie różnic, które powodują, iż inny serwer udostępnia materiały poprawnie.
\end_layout

\begin_layout Standard
Autor przygotował następujące pliki graficzne (rozszerzenie jest równoznaczne
 z kodowaniem pliku):
\end_layout

\begin_layout Itemize
plik z rozszerzeniem *.JPEG,
\end_layout

\begin_layout Itemize
plik z rozszerzeniem *.JPG,
\end_layout

\begin_layout Itemize
plik z rozszerzeniem *.PNG,
\end_layout

\begin_layout Itemize
plik z rozszerzeniem *.GIF,
\end_layout

\begin_layout Itemize
plik z rozszerzeniem *.BMP.
\end_layout

\begin_layout Standard
Na potrzeby testów zostały przygotowane następujące pliki audio:
\end_layout

\begin_layout Itemize
plik z rozszerzeniem *.MP3,
\end_layout

\begin_layout Itemize
plik z rozszerzeniem *.WAV,
\end_layout

\begin_layout Itemize
plik z rozszerzeniem *.WMA,
\end_layout

\begin_layout Itemize
plik z rozszerzeniem *.AAC,
\end_layout

\begin_layout Itemize
plik z rozszerzeniem *.FLAC,
\end_layout

\begin_layout Itemize
plik z rozszerzeniem *.M4A.
\end_layout

\begin_layout Standard
Ostatnimi przygotwanymi plikami były pliki wideo, o następujących parametrach:
\end_layout

\begin_layout Itemize
plik MATROSKA, 4GB
\end_layout

\begin_deeper
\begin_layout Itemize
jedna ścieżka audio AC3,
\end_layout

\begin_layout Itemize
plik wideo 
\series bold
dkwijwefijw,
\end_layout

\begin_layout Itemize
napisy wewnątrz kontenera,
\end_layout

\begin_layout Itemize
napisy zewnętrzne (test odbył się z napisami i bez),
\end_layout

\end_deeper
\begin_layout Itemize
plik MATROSKA 16GB,
\end_layout

\begin_deeper
\begin_layout Itemize
dwie ścieżki audio: stereo oraz AC3,
\end_layout

\begin_layout Itemize
plik widoe ....
 3D,
\end_layout

\begin_layout Itemize
napisy zewnętrzne.
\end_layout

\end_deeper
\begin_layout Itemize
plik AVI
\end_layout

\begin_deeper
\begin_layout Itemize
ścieżka audio mp3,
\end_layout

\begin_layout Itemize
wideo mpeg...
\end_layout

\end_deeper
\begin_layout Itemize
plik WMV
\end_layout

\begin_layout Itemize
plik MP4.
\end_layout

\begin_layout Subsection
Polecenia UPnP AV i DLNA
\end_layout

\begin_layout Standard
Do poprawnego przetestowania oprogramowania stworzonego na potrzeby niniejszej
 pracy magisterskiej konieczne było zapoznanie się z poleceniami protokołami
 UPnP AV / DLNA oraz sposobu w jaki oprogramowanie DLNA ów polecenia wykonuje.
\end_layout

\begin_layout Standard
Jedną z newralgicznych operacji jest przeglądanie zawartości serwera multimedial
nego.
 Usługa 
\emph on
Content Directory
\emph default
 
\begin_inset CommandInset citation
LatexCommand cite
key "key-37"

\end_inset

 umożliwia klientom przeglądanie zawartości oraz opisuje sposób w jaki mogą
 ją odczytać.
 Usługa musi odpowiadać na kilka poleceń wysyłanych przez klienta.
 Są to takie właściwości jak: sposób przeszukiwania (polecenie 
\emph on
GetSearchCapabilities
\emph default
), sposób sortowania (polecenie 
\emph on
GetSortCapabilities
\emph default
), numer identyfikacyjny systemu (
\emph on
GetSystemUpdateID
\emph default
), przeglądanie (polecenie 
\emph on
Browse
\emph default
).
 Istnieje kilka poleceń opcjonalnych (według specyfikacji UPnP AV oraz DLNA),
 jednakże jedno z poleceń (polecenie przeszukiwania 
\emph on
Search
\emph default
) musi być udostępniane, gdyż niektóre z odtwarzaczy bez tego rodzaju usługi,
 nie wykrywają wówczas serwera w sposób poprawny.
\end_layout

\begin_layout Section
Napotkane problemy
\end_layout

\begin_layout Section
Wyniki testów
\end_layout

\begin_layout Standard
Niniejszy podrozdział zawiera opisane wyniki poszczególnych testów, których
 procedura wykonania została opisana we wcześniejszym podrozdziale 
\begin_inset CommandInset ref
LatexCommand ref
reference "sec:Sposób-testowania-aplikacji"

\end_inset

.
\end_layout

\begin_layout Subsection
Test wyszukiwania urządzenia
\end_layout

\begin_layout Standard
Po uruchomieniu napisanego oprogramowania, wysyła ono pakiety informujące
 działające już odtwarzacze o swoim istnieniu.
 Najnowsze oprogramowanie Samsung AllShare w wersji na każde urządzenie
 momentalnie wyświetlało istnienie serwera.
 W przypadku innych odtwarzaczy konieczne było wykorzystanie polecenia odświeżaj
ącego zgormadzoną listę serwerów.
 Wszystkie testowane urządzenia poprawnie wykryły serwer oraz prawidłowo
 wyświetlały jego nazwę (również z wykorzystaniem polskich znaków).
 Miniatura na urządzeniach innych niż mobilne, nie była wyświetlana w ogóle
 (nie posiadają one funkcji wyświetlania miniatur).
 Aby miniatura serwera, 
\begin_inset Quotes pld
\end_inset

logo
\begin_inset Quotes prd
\end_inset

, było poprawnie wyświetlane musi być w wymiarach 50 x 50 pikseli.
\end_layout

\begin_layout Standard
Wszystkie przetestowane odtwarzacze, bez dodatkowych problemów, wyświetlały
 szczegóły urządzenia, taką jak nazwę oprogramowania serwera (użytkownik
 może nadać swoją nazwę dla serwera udostępniającego, jednakże nazwa serwer
 
\series bold
UPNP
\series default
 pozostaje bez zmian).
 Zrzut ekranu z aplikacji mobilnej Samsung AllShare widoczny jest na rysunku
 
\begin_inset CommandInset ref
LatexCommand ref
reference "fig:Karta-Szczegóły-serwera"

\end_inset

.
\end_layout

\begin_layout Standard
\begin_inset Float figure
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
\begin_inset CommandInset label
LatexCommand label
name "fig:Karta-Szczegóły-serwera"

\end_inset

Karta Szczegóły serwera DLNA w odtwarzaczu DLNA
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Graphics
	filename server_description.png
	display false
	height 20pheight%

\end_inset


\end_layout

\end_inset


\end_layout

\begin_layout Subsection
Test przeglądania zawartości
\end_layout

\begin_layout Standard
W większości przetestowanych modeli odtwarzaczy DLNA przeglądanie zawartości
 odbywa się w sposób podobny do wyboru plików w eksploratorach plików.
 Aby znaleźć pożądany plik wybieramy odpowiedni katalog (który również służy
 za rodzaj materiału) np.
 Muzyka i wyszukujemy plik.
 Opisywana funkcjonalność została w zupełnie inny sposób zaimplementowana
 w najnowszych telewizorach firmy Samsung.
 W tym sprzęcie oprogramowanie wysyła żądanie od serwera o udostępnienie
 listy wszystkich filmów, zdjęć i muzyki i wyświetla wszystkie elementy
 w jednej liście zgodnie z kategoriami (Wideo, Muzyka, Obrazy), nie zważając
 na strukturę katalogów, którą udostępnia serwer.
\end_layout

\begin_layout Standard
Udostępniana zawartość od początkowych wersji aplikacji była w sposób poprawny
 wyświetlana na wszystkich sprawdzanych urządzeniach oraz oprogramowaniu
 dla komputerów klasy PC z systemami operacyjnymi Microsoft Windows oraz
 Ubuntu 11.10.
\end_layout

\begin_layout Standard
Po dodaniu zawartości pakiet, informujący o konieczności aktualizacji listy
 plików, został spreparowany poprawnie i wszystkie zasubskrybowane urządzenia
 go otrzymały.
 Jednakże niektóre programy klienckie UPnP AV (np.
 Samsung AllShare) nie reagują żądaniem odświeżenia listy plików, przez
 co lista plików nie aktualizuje się w sposób zautomatyzowany bez ingerencji
 użytkownika.
\end_layout

\begin_layout Subsection
Test odtwarzania materiałów
\end_layout

\begin_layout Standard
Opisywany test skupił się na najważniejszej funkcji zaprojektowanej aplikacji,
 czyli odtwarzaniu treści multimedialnych.
 Poza główną funkcją, w trakcie testu sprawdzane zostały takie parametry
 jak:
\end_layout

\begin_layout Enumerate
możliwość przewijania materiału,
\end_layout

\begin_layout Enumerate
podgląd miniatur,
\end_layout

\begin_layout Enumerate
przegląd atrybutów udostępnianego pliku,
\end_layout

\begin_layout Enumerate
umożliwienie rozszerzania widoku (głównie działanie funkcji pełnego ekranu),
\end_layout

\begin_layout Enumerate
odtwarzanie napisów,
\end_layout

\begin_layout Enumerate
wybór ścieżki dźwiękowej,
\end_layout

\begin_layout Enumerate
zapamiętanie i wznawianie odtwarzania od ostatniej pozycji.
\end_layout

\begin_layout Standard
Ponadto dla wszystkich plików zostało sprawdzone obciążenie procesora urządzenia
 (na którym działa serwer) w trakcie odtwarzania,
\end_layout

\begin_layout Standard
Nie wszystkie odtwarzacze posiadają każdą z opisywanych funkcji.
 W celu zobrazowania wyników testów powstała tabela zestawiająca wszystkie
 funkcje dla każdego odtwarzacza.
 Kolumna A określa możliwość odtwarzania plików audio, O - plików graficznych,
 zaś W - plików wideo.
\end_layout

\begin_layout Standard
\begin_inset Float table
wide false
sideways false
status open

\begin_layout Plain Layout
\begin_inset Caption

\begin_layout Plain Layout
Możliwości testowanych odtwarzaczy
\end_layout

\end_inset


\end_layout

\begin_layout Plain Layout
\begin_inset Tabular
<lyxtabular version="3" rows="13" columns="11">
<features tabularvalignment="middle">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<column alignment="center" valignment="top" width="0">
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Nazwa odtwarzacza
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
A
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
O
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
W
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
1
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
2
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
3
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
4
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
5
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
6
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
7
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Samsung TV
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Samsung I9000
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
?
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Samsung I9100
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
?
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
AllShare PC
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
?
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Phillips TV
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
LG BD390
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
XBOX
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
WMP
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Rhytmbox
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
nd
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
nd
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
nd
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
Totem
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
VLC
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
+
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout
-
\end_layout

\end_inset
</cell>
</row>
<row>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
<cell alignment="center" valignment="top" topline="true" bottomline="true" leftline="true" rightline="true" usebox="none">
\begin_inset Text

\begin_layout Plain Layout

\end_layout

\end_inset
</cell>
</row>
</lyxtabular>

\end_inset


\end_layout

\begin_layout Plain Layout
'+' - funkcja istnieje, 
\end_layout

\begin_layout Plain Layout
'-' - brak funkcji,
\end_layout

\begin_layout Plain Layout

\series bold
? - it's complicated
\end_layout

\begin_layout Plain Layout
nd - nie dotyczy
\end_layout

\end_inset


\end_layout

\begin_layout Standard
Dokładne objaśnienie kwestii technicznych i wykrytych niezgodności oraz
 błędów (poprawionych) w trakcie testowania 
\end_layout

\begin_layout Chapter
Przegląd oprogramowania UPnP AV i DLNA
\end_layout

\begin_layout Standard
\begin_inset CommandInset label
LatexCommand label
name "chap:Przegląd-oprogramowania-UPnP"

\end_inset


\end_layout

\begin_layout Standard
wrew
\end_layout

\begin_layout Standard
dqwdq
\end_layout

\begin_layout Section
Porównanie oprogramowania serwerów UPnP AV i DLNA
\end_layout

\begin_layout Standard
fewefe
\end_layout

\begin_layout Section
Porównanie oprogramowania odtwarzaczy DLNA i UPnP AV
\end_layout

\begin_layout Standard
dqwdwq
\end_layout

\begin_layout Standard
AllShare
\end_layout

\begin_layout Standard
rhytmbox plugin
\end_layout

\begin_layout Standard
vlc
\end_layout

\begin_layout Standard
jakie id
\end_layout

\begin_layout Subsection
Różnice działania odtwarzaczy różnych producentów
\end_layout

\begin_layout Standard
ffwefe
\end_layout

\begin_layout Section
Obsługa standardu
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-1"

\end_inset

UPnP Forum, UPnP Device Architecture 1.0, 2008.
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-2"

\end_inset

Digital Living Network Alliance Home Networked Device Interoperability Guideline
s Version: 1.0 
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-3-1"

\end_inset

Digital Living Network Alliance Home Networked Device Interoperability Guideline
s Version: 1.0 Errata Version 2.0 
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-3"

\end_inset


\begin_inset Flex URL
status collapsed

\begin_layout Plain Layout

http://www.upnp.org/specs/gw/UPnP-gw-DeviceProtection-v1-Service-20110224.pdf
\end_layout

\end_inset


\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-4"

\end_inset


\begin_inset Flex URL
status collapsed

\begin_layout Plain Layout

http://www.google.com/url?q=http%3A%2F%2Fwww.pervasive.jku.at%2FResearch%2FPublicatio
ns%2F_Documents%2F2011_Online%2520UPnP%2520AV%2520Device%2520Database%2520for%25
20Quick%2520and%2520Easy%2520Capability%2520Checking_Riener.pdf&sa=D&sntz=1&usg=A
FQjCNEMLLsCjydhx6Qy1L30d4wZ5HgUVA
\end_layout

\end_inset


\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-5"

\end_inset


\begin_inset Flex URL
status collapsed

\begin_layout Plain Layout

http://www.google.com/url?q=http%3A%2F%2Fwww.territorioscuola.com%2Fwikipedia%2Fen.wi
kipedia.php%3Ftitle%3DTalk%3ADigital_Living_Network_Alliance&sa=D&sntz=1&usg=AFQj
CNFB10Qj3jNXfAqwV_NNQaRlBOk5zg
\end_layout

\end_inset


\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-6"

\end_inset


\begin_inset Flex URL
status collapsed

\begin_layout Plain Layout

http://www.google.com/url?q=http%3A%2F%2Fsuperuser.com%2Fquestions%2F226636%2Fwhat-
is-the-difference-between-dlna-and-upnp&sa=D&sntz=1&usg=AFQjCNHUjlpiufrZlgM_YLSN
ohaL355J_g
\end_layout

\end_inset


\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-7"

\end_inset


\begin_inset Flex URL
status collapsed

\begin_layout Plain Layout

http://www.google.com/url?q=http%3A%2F%2Fjan.newmarch.name%2Fpublications%2Fjini_upn
p.isng05.pdf&sa=D&sntz=1&usg=AFQjCNEZCczU2XK8hGsmHe7wU1mAbQpeKA
\end_layout

\end_inset


\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-8"

\end_inset

Abul Ahsan Md.
 Mahmudul Haque, UPnP Networking: Architecture and Security Issues, 2007
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-9"

\end_inset

UPnP Device Architecture V1.0 Annex A – IP Version 6 Support
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-10"

\end_inset

UPnP Device Template
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-11"

\end_inset

Networked Digital Media Standards A UPnP / DLNA Overview, Allegro Software
 Development Corporation, 2006.
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-12"

\end_inset

RFC 2616 Hypertext Transfer Protocol -- HTTP/1.1, Internet Engineering Task
 Force, 1999
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-13"

\end_inset

SOAP Simple Object Access Protocol, W3C, 2007
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-14"

\end_inset

Extensible Markup Language (XML) 1.0 (Fifth Edition), W3C, 2008
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-15"

\end_inset

Overview of UPnP AV Architecture, Intel Corporation, 2003
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-16"

\end_inset

Abusing Universal Plug and Play, Armijn Hemel, 2008
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-17"

\end_inset

Design and Implementation of home network systems using UPnP middleware
 for networked appliances, Dong-Sung Kim, Jae-Min Lee, Wook Hyun Kwon, Kwan
 You, 2002
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-18"

\end_inset

UPnP Design by Example: A Software Developers's Guide to Universal Plug
 and Play, Michael Jeromino, Jack Weast, 2003
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-19"

\end_inset

UPnP Forum UPnP AV Architecture:2, 2010
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-20"

\end_inset

Network Media Content Aggregator for DLNA Server, Jan Kubový, 2011
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-21"

\end_inset

ContentDirectory service:2 Service Template Version 1.01 – Document Version
 1.00, 2006
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-22"

\end_inset

DLNA Overview and Vision Whitepaper 2007 
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-23"

\end_inset

http://brage.bibsys.no/hia/bitstream/URN:NBN:no-bibsys_brage_9695/1/andreas-haber-
phone-based-upnp-control.pdf
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-24"

\end_inset

Wikipedia, http://pl.wikipedia.org/wiki/Kontener_multimedialny, 2011
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-26"

\end_inset

ISO/IEC 10918, JPEG
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-27"

\end_inset

 Cling Framework, http://4thline.org/projects/cling
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-28"

\end_inset

Cyberlink for Java, http://www.cybergarage.org/twiki/bin/view/Main/CyberLinkForJav
a
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-29"

\end_inset

 MiniUPnP, http://miniupnp.free.fr/
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-30"

\end_inset

MiniDLNA, http://sourceforge.net/projects/minidlna/
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-31"

\end_inset

Coherence http://coherence.beebits.net/wiki/WikiStart#CurrentState
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-32"

\end_inset

 Licencja MIT, http://www.opensource.org/licenses/mit-license.php
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-33"

\end_inset

Test Baz danych Open Source, SDJ Extra nr 17, PHP Starter Kit, http://www.scribd.c
om/doc/51087611/2/Test-baz-danych-Open-Source
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-34"

\end_inset

Typy multimedialne MIME, http://tools.ietf.org/html/rfc2046
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-35"

\end_inset

MPEG-4 ISO/IEC 14496-10
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-36"

\end_inset

SQLAlchemy http://www.sqlalchemy.org/
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-37"

\end_inset

ContentDirectory:1, Service Template Version 1.01, 2002, http://upnp.org/specs/av/
UPnP-av-ContentDirectory-v1-Service.pdf
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-38"

\end_inset

AllShare
\end_layout

\begin_layout Bibliography
\labelwidthstring Odnośniki
\begin_inset CommandInset bibitem
LatexCommand bibitem
key "key-39"

\end_inset

JSON, http://www.json.org/
\end_layout

\end_body
\end_document
